/*! For license information please see main.4439afc6.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,s)=>{e.exports=s(202)},153:(e,t,s)=>{var r=s(43),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var r,a={},c=null,d=null;for(r in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!o.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:d,props:a,_owner:i.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,f={};function g(e,t,s){this.props=e,this.context=t,this.refs=f,this.updater=s||x}function b(){}function y(e,t,s){this.props=e,this.context=t,this.refs=f,this.updater=s||x}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,h(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var n,a={},l=null,i=null;if(null!=t)for(n in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)N.call(t,n)&&!k.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===a[n]&&(a[n]=o[n]);return{$$typeof:s,type:e,key:l,ref:i,props:a,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function F(e,t,n,a,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case r:o=!0}}if(o)return l=l(o=e),e=""===a?"."+E(o,0):a,j(l)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),F(l,t,n,"",function(e){return e})):null!=l&&(C(l)&&(l=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(S,"$&/")+"/")+e)),t.push(l)),1;if(o=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+E(i=e[c],c);o+=F(i,t,n,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=F(i=i.value,t,n,d=a+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function L(e,t,s){if(null==e)return e;var r=[],n=0;return F(e,r,"","",function(e){return t.call(s,e,n++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},T={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:w};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:L,forEach:function(e,t,s){L(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return L(e,function(){t++}),t},toArray:function(e){return L(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=n,t.Profiler=l,t.PureComponent=y,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=h({},e.props),a=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:s,type:e.type,key:a,ref:l,props:n,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,s){return A.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,s){return A.current.useReducer(e,t,s)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return A.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var r=s-1>>>1,n=e[r];if(!(0<a(n,t)))break e;e[r]=t,e[s]=n,s=r}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var r=0,n=e.length,l=n>>>1;r<l;){var i=2*(r+1)-1,o=e[i],c=i+1,d=e[c];if(0>a(o,s))c<n&&0>a(d,o)?(e[r]=d,e[c]=s,r=c):(e[r]=o,e[i]=s,r=i);else{if(!(c<n&&0>a(d,s)))break e;e[r]=d,e[c]=s,r=c}}}return t}function a(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,p=3,x=!1,h=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,s(c,t)}t=r(d)}}function j(e){if(f=!1,v(e),!h)if(null!==r(c))h=!0,R(N);else{var t=r(d);null!==t&&T(j,t.startTime-e)}}function N(e,s){h=!1,f&&(f=!1,b(C),C=-1),x=!0;var a=p;try{for(v(s),m=r(c);null!==m&&(!(m.expirationTime>s)||e&&!F());){var l=m.callback;if("function"===typeof l){m.callback=null,p=m.priorityLevel;var i=l(m.expirationTime<=s);s=t.unstable_now(),"function"===typeof i?m.callback=i:m===r(c)&&n(c),v(s)}else n(c);m=r(c)}if(null!==m)var o=!0;else{var u=r(d);null!==u&&T(j,u.startTime-s),o=!1}return o}finally{m=null,p=a,x=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,_=null,C=-1,S=5,E=-1;function F(){return!(t.unstable_now()-E<S)}function L(){if(null!==_){var e=t.unstable_now();E=e;var s=!0;try{s=_(!0,e)}finally{s?w():(k=!1,_=null)}}else k=!1}if("function"===typeof y)w=function(){y(L)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=L,w=function(){A.postMessage(null)}}else w=function(){g(L,0)};function R(e){_=e,k||(k=!0,w())}function T(e,s){C=g(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||x||(h=!0,R(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var s=p;p=t;try{return e()}finally{p=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=p;p=e;try{return t()}finally{p=s}},t.unstable_scheduleCallback=function(e,n,a){var l=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?l+a:l:a=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>l?(e.sortIndex=a,s(d,e),null===r(c)&&e===r(d)&&(f?(b(C),C=-1):f=!0,T(j,a-l))):(e.sortIndex=i,s(c,e),h||x||(h=!0,R(N))),e},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(e){var t=p;return function(){var s=p;p=t;try{return e.apply(this,arguments)}finally{p=s}}}},391:(e,t,s)=>{var r=s(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,s)=>{e.exports=s(153)},730:(e,t,s)=>{var r=s(43),n=s(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function h(e,t,s,r,n,a,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,s,r){var n=f.hasOwnProperty(t)?f[t]:null;(null!==n?0!==n.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,r){if(null===t||"undefined"===typeof t||function(e,t,s,r){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,r))return!0;if(r)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,n,r)&&(s=null),r||null===n?function(e){return!!u.call(x,e)||!u.call(p,e)&&(m.test(e)?x[e]=!0:(p[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=null===s?3!==n.type&&"":s:(t=n.attributeName,r=n.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(n=n.type)||4===n&&!0===s?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,b);f[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,b);f[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,b);f[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var M,O=Object.assign;function I(e){if(void 0===M)try{throw Error()}catch($e){var t=$e.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(We){var r=We}Reflect.construct(e,[],t)}else{try{t.call()}catch(We){r=We}e.call(t.prototype)}else{try{throw Error()}catch(We){r=We}e()}}catch(We){if(We&&r&&"string"===typeof We.stack){for(var n=We.stack.split("\n"),a=r.stack.split("\n"),l=n.length-1,i=a.length-1;1<=l&&0<=i&&n[l]!==a[i];)i--;for(;1<=l&&0<=i;l--,i--)if(n[l]!==a[i]){if(1!==l||1!==i)do{if(l--,0>--i||n[l]!==a[i]){var o="\n"+n[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?I(e):""}function B(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case _:return"Profiler";case k:return"StrictMode";case F:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return V(e(t))}catch($e){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var n=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==s&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var s=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function K(e,t){var s=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;s=q(null!=t.value?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){J(e,t);var s=q(t.value),r=t.type;if(null!=s)"number"===r?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&Y(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,r){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&r&&(e[s].defaultSelected=!0)}else{for(s=""+q(s),t=null,n=0;n<e.length;n++){if(e[n].value===s)return e[n].selected=!0,void(r&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(a(92));if(te(s)){if(1<s.length)throw Error(a(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:q(s)}}function ae(e,t){var s=q(t.value),r=q(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,s,r,n){MSApp.execUnsafeLocalFunction(function(){return e(t,s)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ue(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function xe(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function he(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var r=0===s.indexOf("--"),n=xe(s,t[s],r);"float"===s&&(s="cssFloat"),r?e.setProperty(s,n):e[s]=n}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var fe=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,we=null;function ke(e){if(e=En(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=Ln(t),je(e.stateNode,e.type,t))}}function _e(e){Ne?we?we.push(e):we=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=we;if(we=Ne=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Se(e,t){return e(t)}function Ee(){}var Fe=!1;function Le(e,t,s){if(Fe)return e(t,s);Fe=!0;try{return Se(e,t,s)}finally{Fe=!1,(null!==Ne||null!==we)&&(Ee(),Ce())}}function Pe(e,t){var s=e.stateNode;if(null===s)return null;var r=Ln(s);if(null===r)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(a(231,t,typeof s));return s}var Ae=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(qe){Ae=!1}function Te(e,t,s,r,n,a,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var De=!1,Me=null,Oe=!1,Ie=null,ze={onError:function(e){De=!0,Me=e}};function Ue(e,t,s,r,n,a,l,i,o){De=!1,Me=null,Te.apply(ze,arguments)}function He(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(He(e)!==e)throw Error(a(188))}function Qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var s=e,r=t;;){var n=s.return;if(null===n)break;var l=n.alternate;if(null===l){if(null!==(r=n.return)){s=r;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===s)return Ye(n),e;if(l===r)return Ye(n),t;l=l.sibling}throw Error(a(188))}if(s.return!==r.return)s=n,r=l;else{for(var i=!1,o=n.child;o;){if(o===s){i=!0,s=n,r=l;break}if(o===r){i=!0,r=n,s=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===s){i=!0,s=l,r=n;break}if(o===r){i=!0,r=l,s=n;break}o=o.sibling}if(!i)throw Error(a(189))}}if(s.alternate!==r)throw Error(a(190))}if(3!==s.tag)throw Error(a(188));return s.stateNode.current===s?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ze=n.unstable_scheduleCallback,tt=n.unstable_cancelCallback,st=n.unstable_shouldYield,rt=n.unstable_requestPaint,nt=n.unstable_now,at=n.unstable_getCurrentPriorityLevel,lt=n.unstable_ImmediatePriority,it=n.unstable_UserBlockingPriority,ot=n.unstable_NormalPriority,ct=n.unstable_LowPriority,dt=n.unstable_IdlePriority,ut=null,mt=null;var pt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(xt(e)/ht|0)|0},xt=Math.log,ht=Math.LN2;var ft=64,gt=4194304;function bt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yt(e,t){var s=e.pendingLanes;if(0===s)return 0;var r=0,n=e.suspendedLanes,a=e.pingedLanes,l=268435455&s;if(0!==l){var i=l&~n;0!==i?r=bt(i):0!==(a&=l)&&(r=bt(a))}else 0!==(l=s&~n)?r=bt(l):0!==a&&(r=bt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&n)&&((n=r&-r)>=(a=t&-t)||16===n&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)n=1<<(s=31-pt(t)),r|=e[s],t&=~n;return r}function vt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function wt(){var e=ft;return 0===(4194240&(ft<<=1))&&(ft=64),e}function kt(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function _t(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-pt(t)]=s}function Ct(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-pt(s),n=1<<r;n&t|e[r]&t&&(e[r]|=t),s&=~n}}var St=0;function Et(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ft,Lt,Pt,At,Rt,Tt=!1,Dt=[],Mt=null,Ot=null,zt=null,Ut=new Map,Bt=new Map,Vt=[],Wt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bt.delete(t.pointerId)}}function Ht(e,t,s,r,n,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[n]},null!==t&&(null!==(t=En(t))&&Lt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Gt(e){var t=Sn(e.target);if(null!==t){var s=He(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=Ge(s)))return e.blockedOn=t,void Rt(e.priority,function(){Pt(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function $t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=ns(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=En(s))&&Lt(t),e.blockedOn=s,!1;var r=new(s=e.nativeEvent).constructor(s.type,s);ye=r,s.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Yt(e,t,s){$t(e)&&s.delete(t)}function Qt(){Tt=!1,null!==Mt&&$t(Mt)&&(Mt=null),null!==Ot&&$t(Ot)&&(Ot=null),null!==zt&&$t(zt)&&(zt=null),Ut.forEach(Yt),Bt.forEach(Yt)}function Kt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Qt)))}function Jt(e){function t(t){return Kt(t,e)}if(0<Dt.length){Kt(Dt[0],e);for(var s=1;s<Dt.length;s++){var r=Dt[s];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Kt(Mt,e),null!==Ot&&Kt(Ot,e),null!==zt&&Kt(zt,e),Ut.forEach(t),Bt.forEach(t),s=0;s<Vt.length;s++)(r=Vt[s]).blockedOn===e&&(r.blockedOn=null);for(;0<Vt.length&&null===(s=Vt[0]).blockedOn;)Gt(s),null===s.blockedOn&&Vt.shift()}var Xt=v.ReactCurrentBatchConfig,Zt=!0;function es(e,t,s,r){var n=St,a=Xt.transition;Xt.transition=null;try{St=1,ss(e,t,s,r)}finally{St=n,Xt.transition=a}}function ts(e,t,s,r){var n=St,a=Xt.transition;Xt.transition=null;try{St=4,ss(e,t,s,r)}finally{St=n,Xt.transition=a}}function ss(e,t,s,r){if(Zt){var n=ns(e,t,s,r);if(null===n)Xr(e,t,r,rs,s),qt(e,r);else if(function(e,t,s,r,n){switch(t){case"focusin":return Mt=Ht(Mt,e,t,s,r,n),!0;case"dragenter":return Ot=Ht(Ot,e,t,s,r,n),!0;case"mouseover":return zt=Ht(zt,e,t,s,r,n),!0;case"pointerover":var a=n.pointerId;return Ut.set(a,Ht(Ut.get(a)||null,e,t,s,r,n)),!0;case"gotpointercapture":return a=n.pointerId,Bt.set(a,Ht(Bt.get(a)||null,e,t,s,r,n)),!0}return!1}(n,e,t,s,r))r.stopPropagation();else if(qt(e,r),4&t&&-1<Wt.indexOf(e)){for(;null!==n;){var a=En(n);if(null!==a&&Ft(a),null===(a=ns(e,t,s,r))&&Xr(e,t,r,rs,s),a===n)break;n=a}null!==n&&r.stopPropagation()}else Xr(e,t,r,null,s)}}var rs=null;function ns(e,t,s,r){if(rs=null,null!==(e=Sn(e=ve(r))))if(null===(t=He(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rs=e,null}function as(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(at()){case lt:return 1;case it:return 4;case ot:case ct:return 16;case dt:return 536870912;default:return 16}default:return 16}}var ls=null,is=null,os=null;function cs(){if(os)return os;var e,t,s=is,r=s.length,n="value"in ls?ls.value:ls.textContent,a=n.length;for(e=0;e<r&&s[e]===n[e];e++);var l=r-e;for(t=1;t<=l&&s[r-t]===n[a-t];t++);return os=n.slice(e,1<t?1-t:void 0)}function ds(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function us(){return!0}function ms(){return!1}function ps(e){function t(t,s,r,n,a){for(var l in this._reactName=t,this._targetInst=r,this.type=s,this.nativeEvent=n,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(n):n[l]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?us:ms,this.isPropagationStopped=ms,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),t}var xs,hs,fs,gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=ps(gs),ys=O({},gs,{view:0,detail:0}),vs=ps(ys),js=O({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fs&&(fs&&"mousemove"===e.type?(xs=e.screenX-fs.screenX,hs=e.screenY-fs.screenY):hs=xs=0,fs=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:hs}}),Ns=ps(js),ws=ps(O({},js,{dataTransfer:0})),ks=ps(O({},ys,{relatedTarget:0})),_s=ps(O({},gs,{animationName:0,elapsedTime:0,pseudoElement:0})),Cs=O({},gs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ss=ps(Cs),Es=ps(O({},gs,{data:0})),Fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ls={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ps={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function As(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ps[e])&&!!t[e]}function Rs(){return As}var Ts=O({},ys,{key:function(e){if(e.key){var t=Fs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ds(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ls[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(e){return"keypress"===e.type?ds(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ds(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ds=ps(Ts),Ms=ps(O({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Os=ps(O({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs})),Is=ps(O({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0})),zs=O({},js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Us=ps(zs),Bs=[9,13,27,32],Vs=d&&"CompositionEvent"in window,Ws=null;d&&"documentMode"in document&&(Ws=document.documentMode);var qs=d&&"TextEvent"in window&&!Ws,Hs=d&&(!Vs||Ws&&8<Ws&&11>=Ws),Gs=String.fromCharCode(32),$s=!1;function Ys(e,t){switch(e){case"keyup":return-1!==Bs.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qs(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ks=!1;var Js={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Js[e.type]:"textarea"===t}function Zs(e,t,s,r){_e(r),0<(t=en(t,"onChange")).length&&(s=new bs("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var er=null,tr=null;function sr(e){Gr(e,0)}function rr(e){if($(Fn(e)))return e}function nr(e,t){if("change"===e)return t}var ar=!1;if(d){var lr;if(d){var ir="oninput"in document;if(!ir){var or=document.createElement("div");or.setAttribute("oninput","return;"),ir="function"===typeof or.oninput}lr=ir}else lr=!1;ar=lr&&(!document.documentMode||9<document.documentMode)}function cr(){er&&(er.detachEvent("onpropertychange",dr),tr=er=null)}function dr(e){if("value"===e.propertyName&&rr(tr)){var t=[];Zs(t,tr,e,ve(e)),Le(sr,t)}}function ur(e,t,s){"focusin"===e?(cr(),tr=s,(er=t).attachEvent("onpropertychange",dr)):"focusout"===e&&cr()}function mr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return rr(tr)}function pr(e,t){if("click"===e)return rr(t)}function xr(e,t){if("input"===e||"change"===e)return rr(t)}var hr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function fr(e,t){if(hr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var n=s[r];if(!u.call(t,n)||!hr(e[n],t[n]))return!1}return!0}function gr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function br(e,t){var s,r=gr(e);for(e=0;r;){if(3===r.nodeType){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gr(r)}}function yr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?yr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(Je){s=!1}if(!s)break;t=Y((e=t.contentWindow).document)}return t}function jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Nr(e){var t=vr(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&yr(s.ownerDocument.documentElement,s)){if(null!==r&&jr(s))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=s.textContent.length,a=Math.min(r.start,n);r=void 0===r.end?a:Math.min(r.end,n),!e.extend&&a>r&&(n=r,r=a,a=n),n=br(s,a);var l=br(s,r);n&&l&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wr=d&&"documentMode"in document&&11>=document.documentMode,kr=null,_r=null,Cr=null,Sr=!1;function Er(e,t,s){var r=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;Sr||null==kr||kr!==Y(r)||("selectionStart"in(r=kr)&&jr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Cr&&fr(Cr,r)||(Cr=r,0<(r=en(_r,"onSelect")).length&&(t=new bs("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=kr)))}function Fr(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Lr={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionend:Fr("Transition","TransitionEnd")},Pr={},Ar={};function Rr(e){if(Pr[e])return Pr[e];if(!Lr[e])return e;var t,s=Lr[e];for(t in s)if(s.hasOwnProperty(t)&&t in Ar)return Pr[e]=s[t];return e}d&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);var Tr=Rr("animationend"),Dr=Rr("animationiteration"),Mr=Rr("animationstart"),Or=Rr("transitionend"),Ir=new Map,zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){Ir.set(e,t),o(t,[e])}for(var Br=0;Br<zr.length;Br++){var Vr=zr[Br];Ur(Vr.toLowerCase(),"on"+(Vr[0].toUpperCase()+Vr.slice(1)))}Ur(Tr,"onAnimationEnd"),Ur(Dr,"onAnimationIteration"),Ur(Mr,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function Hr(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,r,n,l,i,o,c){if(Ue.apply(this,arguments),De){if(!De)throw Error(a(198));var d=Me;De=!1,Me=null,Oe||(Oe=!0,Ie=d)}}(r,t,void 0,e),e.currentTarget=null}function Gr(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var r=e[s],n=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==a&&n.isPropagationStopped())break e;Hr(n,i,c),a=o}else for(l=0;l<r.length;l++){if(o=(i=r[l]).instance,c=i.currentTarget,i=i.listener,o!==a&&n.isPropagationStopped())break e;Hr(n,i,c),a=o}}}if(Oe)throw e=Ie,Oe=!1,Ie=null,e}function $r(e,t){var s=t[kn];void 0===s&&(s=t[kn]=new Set);var r=e+"__bubble";s.has(r)||(Jr(t,e,2,!1),s.add(r))}function Yr(e,t,s){var r=0;t&&(r|=4),Jr(s,e,r,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function Kr(e){if(!e[Qr]){e[Qr]=!0,l.forEach(function(t){"selectionchange"!==t&&(qr.has(t)||Yr(t,!1,e),Yr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qr]||(t[Qr]=!0,Yr("selectionchange",!1,t))}}function Jr(e,t,s,r){switch(as(t)){case 1:var n=es;break;case 4:n=ts;break;default:n=ss}s=n.bind(null,t,s,e),n=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),r?void 0!==n?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):void 0!==n?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Xr(e,t,s,r,n){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===n||8===i.nodeType&&i.parentNode===n)break;if(4===l)for(l=r.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===n||8===o.nodeType&&o.parentNode===n))return;l=l.return}for(;null!==i;){if(null===(l=Sn(i)))return;if(5===(o=l.tag)||6===o){r=a=l;continue e}i=i.parentNode}}r=r.return}Le(function(){var r=a,n=ve(s),l=[];e:{var i=Ir.get(e);if(void 0!==i){var o=bs,c=e;switch(e){case"keypress":if(0===ds(s))break e;case"keydown":case"keyup":o=Ds;break;case"focusin":c="focus",o=ks;break;case"focusout":c="blur",o=ks;break;case"beforeblur":case"afterblur":o=ks;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=Ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=ws;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Os;break;case Tr:case Dr:case Mr:o=_s;break;case Or:o=Is;break;case"scroll":o=vs;break;case"wheel":o=Us;break;case"copy":case"cut":case"paste":o=Ss;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Ms}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var p,x=r;null!==x;){var h=(p=x).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==m&&(null!=(h=Pe(x,m))&&d.push(Zr(x,h,p)))),u)break;x=x.return}0<d.length&&(i=new o(i,c,null,s,n),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||s===ye||!(c=s.relatedTarget||s.fromElement)||!Sn(c)&&!c[wn])&&(o||i)&&(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=r,null!==(c=(c=s.relatedTarget||s.toElement)?Sn(c):null)&&(c!==(u=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(d=Ns,h="onMouseLeave",m="onMouseEnter",x="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ms,h="onPointerLeave",m="onPointerEnter",x="pointer"),u=null==o?i:Fn(o),p=null==c?i:Fn(c),(i=new d(h,x+"leave",o,s,n)).target=u,i.relatedTarget=p,h=null,Sn(n)===r&&((d=new d(m,x+"enter",c,s,n)).target=p,d.relatedTarget=u,h=d),u=h,o&&c)e:{for(m=c,x=0,p=d=o;p;p=tn(p))x++;for(p=0,h=m;h;h=tn(h))p++;for(;0<x-p;)d=tn(d),x--;for(;0<p-x;)m=tn(m),p--;for(;x--;){if(d===m||null!==m&&d===m.alternate)break e;d=tn(d),m=tn(m)}d=null}else d=null;null!==o&&sn(l,i,o,d,!1),null!==c&&null!==u&&sn(l,u,c,d,!0)}if("select"===(o=(i=r?Fn(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var f=nr;else if(Xs(i))if(ar)f=xr;else{f=mr;var g=ur}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(f=pr);switch(f&&(f=f(e,r))?Zs(l,f,s,n):(g&&g(e,i,r),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=r?Fn(r):window,e){case"focusin":(Xs(g)||"true"===g.contentEditable)&&(kr=g,_r=r,Cr=null);break;case"focusout":Cr=_r=kr=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,Er(l,s,n);break;case"selectionchange":if(wr)break;case"keydown":case"keyup":Er(l,s,n)}var b;if(Vs)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ks?Ys(e,s)&&(y="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(y="onCompositionStart");y&&(Hs&&"ko"!==s.locale&&(Ks||"onCompositionStart"!==y?"onCompositionEnd"===y&&Ks&&(b=cs()):(is="value"in(ls=n)?ls.value:ls.textContent,Ks=!0)),0<(g=en(r,y)).length&&(y=new Es(y,e,null,s,n),l.push({event:y,listeners:g}),b?y.data=b:null!==(b=Qs(s))&&(y.data=b))),(b=qs?function(e,t){switch(e){case"compositionend":return Qs(t);case"keypress":return 32!==t.which?null:($s=!0,Gs);case"textInput":return(e=t.data)===Gs&&$s?null:e;default:return null}}(e,s):function(e,t){if(Ks)return"compositionend"===e||!Vs&&Ys(e,t)?(e=cs(),os=is=ls=null,Ks=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hs&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(r=en(r,"onBeforeInput")).length&&(n=new Es("onBeforeInput","beforeinput",null,s,n),l.push({event:n,listeners:r}),n.data=b))}Gr(l,t)})}function Zr(e,t,s){return{instance:e,listener:t,currentTarget:s}}function en(e,t){for(var s=t+"Capture",r=[];null!==e;){var n=e,a=n.stateNode;5===n.tag&&null!==a&&(n=a,null!=(a=Pe(e,s))&&r.unshift(Zr(e,a,n)),null!=(a=Pe(e,t))&&r.push(Zr(e,a,n))),e=e.return}return r}function tn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function sn(e,t,s,r,n){for(var a=t._reactName,l=[];null!==s&&s!==r;){var i=s,o=i.alternate,c=i.stateNode;if(null!==o&&o===r)break;5===i.tag&&null!==c&&(i=c,n?null!=(o=Pe(s,a))&&l.unshift(Zr(s,o,i)):n||null!=(o=Pe(s,a))&&l.push(Zr(s,o,i))),s=s.return}0!==l.length&&e.push({event:t,listeners:l})}var rn=/\r\n?/g,nn=/\u0000|\uFFFD/g;function an(e){return("string"===typeof e?e:""+e).replace(rn,"\n").replace(nn,"")}function ln(e,t,s){if(t=an(t),an(e)!==t&&s)throw Error(a(425))}function on(){}var cn=null,dn=null;function un(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var mn="function"===typeof setTimeout?setTimeout:void 0,pn="function"===typeof clearTimeout?clearTimeout:void 0,xn="function"===typeof Promise?Promise:void 0,hn="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof xn?function(e){return xn.resolve(null).then(e).catch(fn)}:mn;function fn(e){setTimeout(function(){throw e})}function gn(e,t){var s=t,r=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&8===n.nodeType)if("/$"===(s=n.data)){if(0===r)return e.removeChild(n),void Jt(t);r--}else"$"!==s&&"$?"!==s&&"$!"!==s||r++;s=n}while(s);Jt(t)}function bn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function yn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var vn=Math.random().toString(36).slice(2),jn="__reactFiber$"+vn,Nn="__reactProps$"+vn,wn="__reactContainer$"+vn,kn="__reactEvents$"+vn,_n="__reactListeners$"+vn,Cn="__reactHandles$"+vn;function Sn(e){var t=e[jn];if(t)return t;for(var s=e.parentNode;s;){if(t=s[wn]||s[jn]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=yn(e);null!==e;){if(s=e[jn])return s;e=yn(e)}return t}s=(e=s).parentNode}return null}function En(e){return!(e=e[jn]||e[wn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Fn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ln(e){return e[Nn]||null}var Pn=[],An=-1;function Rn(e){return{current:e}}function Tn(e){0>An||(e.current=Pn[An],Pn[An]=null,An--)}function Dn(e,t){An++,Pn[An]=e.current,e.current=t}var Mn={},On=Rn(Mn),In=Rn(!1),zn=Mn;function Un(e,t){var s=e.type.contextTypes;if(!s)return Mn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n,a={};for(n in s)a[n]=t[n];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Bn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Vn(){Tn(In),Tn(On)}function Wn(e,t,s){if(On.current!==Mn)throw Error(a(168));Dn(On,t),Dn(In,s)}function qn(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return s;for(var n in r=r.getChildContext())if(!(n in t))throw Error(a(108,W(e)||"Unknown",n));return O({},s,r)}function Hn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mn,zn=On.current,Dn(On,e),Dn(In,In.current),!0}function Gn(e,t,s){var r=e.stateNode;if(!r)throw Error(a(169));s?(e=qn(e,t,zn),r.__reactInternalMemoizedMergedChildContext=e,Tn(In),Tn(On),Dn(On,e)):Tn(In),Dn(In,s)}var $n=null,Yn=!1,Qn=!1;function Kn(e){null===$n?$n=[e]:$n.push(e)}function Jn(){if(!Qn&&null!==$n){Qn=!0;var e=0,t=St;try{var s=$n;for(St=1;e<s.length;e++){var r=s[e];do{r=r(!0)}while(null!==r)}$n=null,Yn=!1}catch(Be){throw null!==$n&&($n=$n.slice(e+1)),Ze(lt,Jn),Be}finally{St=t,Qn=!1}}return null}var Xn=[],Zn=0,ea=null,ta=0,sa=[],ra=0,na=null,aa=1,la="";function ia(e,t){Xn[Zn++]=ta,Xn[Zn++]=ea,ea=e,ta=t}function oa(e,t,s){sa[ra++]=aa,sa[ra++]=la,sa[ra++]=na,na=e;var r=aa;e=la;var n=32-pt(r)-1;r&=~(1<<n),s+=1;var a=32-pt(t)+n;if(30<a){var l=n-n%5;a=(r&(1<<l)-1).toString(32),r>>=l,n-=l,aa=1<<32-pt(t)+n|s<<n|r,la=a+e}else aa=1<<a|s<<n|r,la=e}function ca(e){null!==e.return&&(ia(e,1),oa(e,1,0))}function da(e){for(;e===ea;)ea=Xn[--Zn],Xn[Zn]=null,ta=Xn[--Zn],Xn[Zn]=null;for(;e===na;)na=sa[--ra],sa[ra]=null,la=sa[--ra],sa[ra]=null,aa=sa[--ra],sa[ra]=null}var ua=null,ma=null,pa=!1,xa=null;function ha(e,t){var s=Uc(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function fa(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ua=e,ma=bn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ua=e,ma=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==na?{id:aa,overflow:la}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=Uc(18,null,null,0)).stateNode=t,s.return=e,e.child=s,ua=e,ma=null,!0);default:return!1}}function ga(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ba(e){if(pa){var t=ma;if(t){var s=t;if(!fa(e,t)){if(ga(e))throw Error(a(418));t=bn(s.nextSibling);var r=ua;t&&fa(e,t)?ha(r,s):(e.flags=-4097&e.flags|2,pa=!1,ua=e)}}else{if(ga(e))throw Error(a(418));e.flags=-4097&e.flags|2,pa=!1,ua=e}}}function ya(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ua=e}function va(e){if(e!==ua)return!1;if(!pa)return ya(e),pa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!un(e.type,e.memoizedProps)),t&&(t=ma)){if(ga(e))throw ja(),Error(a(418));for(;t;)ha(e,t),t=bn(t.nextSibling)}if(ya(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){ma=bn(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}ma=null}}else ma=ua?bn(e.stateNode.nextSibling):null;return!0}function ja(){for(var e=ma;e;)e=bn(e.nextSibling)}function Na(){ma=ua=null,pa=!1}function wa(e){null===xa?xa=[e]:xa.push(e)}var ka=v.ReactCurrentBatchConfig;function _a(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(a(309));var r=s.stateNode}if(!r)throw Error(a(147,e));var n=r,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=n.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(a(284));if(!s._owner)throw Error(a(290,e))}return e}function Ca(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sa(e){return(0,e._init)(e._payload)}function Ea(e){function t(t,s){if(e){var r=t.deletions;null===r?(t.deletions=[s],t.flags|=16):r.push(s)}}function s(s,r){if(!e)return null;for(;null!==r;)t(s,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Vc(e,t)).index=0,e.sibling=null,e}function l(t,s,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<s?(t.flags|=2,s):r:(t.flags|=2,s):(t.flags|=1048576,s)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,s,r){return null===t||6!==t.tag?((t=Gc(s,e.mode,r)).return=e,t):((t=n(t,s)).return=e,t)}function c(e,t,s,r){var a=s.type;return a===w?u(e,t,s.props.children,r,s.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Sa(a)===t.type)?((r=n(t,s.props)).ref=_a(e,t,s),r.return=e,r):((r=Wc(s.type,s.key,s.props,null,e.mode,r)).ref=_a(e,t,s),r.return=e,r)}function d(e,t,s,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=$c(s,e.mode,r)).return=e,t):((t=n(t,s.children||[])).return=e,t)}function u(e,t,s,r,a){return null===t||7!==t.tag?((t=qc(s,e.mode,r,a)).return=e,t):((t=n(t,s)).return=e,t)}function m(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Gc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(s=Wc(t.type,t.key,t.props,null,e.mode,s)).ref=_a(e,null,t),s.return=e,s;case N:return(t=$c(t,e.mode,s)).return=e,t;case A:return m(e,(0,t._init)(t._payload),s)}if(te(t)||D(t))return(t=qc(t,e.mode,s,null)).return=e,t;Ca(e,t)}return null}function p(e,t,s,r){var n=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==n?null:o(e,t,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case j:return s.key===n?c(e,t,s,r):null;case N:return s.key===n?d(e,t,s,r):null;case A:return p(e,t,(n=s._init)(s._payload),r)}if(te(s)||D(s))return null!==n?null:u(e,t,s,r,null);Ca(e,s)}return null}function x(e,t,s,r,n){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(s)||null,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?s:r.key)||null,r,n);case N:return d(t,e=e.get(null===r.key?s:r.key)||null,r,n);case A:return x(e,t,s,(0,r._init)(r._payload),n)}if(te(r)||D(r))return u(t,e=e.get(s)||null,r,n,null);Ca(t,r)}return null}function h(n,a,i,o){for(var c=null,d=null,u=a,h=a=0,f=null;null!==u&&h<i.length;h++){u.index>h?(f=u,u=null):f=u.sibling;var g=p(n,u,i[h],o);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(n,u),a=l(g,a,h),null===d?c=g:d.sibling=g,d=g,u=f}if(h===i.length)return s(n,u),pa&&ia(n,h),c;if(null===u){for(;h<i.length;h++)null!==(u=m(n,i[h],o))&&(a=l(u,a,h),null===d?c=u:d.sibling=u,d=u);return pa&&ia(n,h),c}for(u=r(n,u);h<i.length;h++)null!==(f=x(u,n,h,i[h],o))&&(e&&null!==f.alternate&&u.delete(null===f.key?h:f.key),a=l(f,a,h),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(n,e)}),pa&&ia(n,h),c}function f(n,i,o,c){var d=D(o);if("function"!==typeof d)throw Error(a(150));if(null==(o=d.call(o)))throw Error(a(151));for(var u=d=null,h=i,f=i=0,g=null,b=o.next();null!==h&&!b.done;f++,b=o.next()){h.index>f?(g=h,h=null):g=h.sibling;var y=p(n,h,b.value,c);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(n,h),i=l(y,i,f),null===u?d=y:u.sibling=y,u=y,h=g}if(b.done)return s(n,h),pa&&ia(n,f),d;if(null===h){for(;!b.done;f++,b=o.next())null!==(b=m(n,b.value,c))&&(i=l(b,i,f),null===u?d=b:u.sibling=b,u=b);return pa&&ia(n,f),d}for(h=r(n,h);!b.done;f++,b=o.next())null!==(b=x(h,n,f,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?f:b.key),i=l(b,i,f),null===u?d=b:u.sibling=b,u=b);return e&&h.forEach(function(e){return t(n,e)}),pa&&ia(n,f),d}return function e(r,a,l,o){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=a;null!==d;){if(d.key===c){if((c=l.type)===w){if(7===d.tag){s(r,d.sibling),(a=n(d,l.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Sa(c)===d.type){s(r,d.sibling),(a=n(d,l.props)).ref=_a(r,d,l),a.return=r,r=a;break e}s(r,d);break}t(r,d),d=d.sibling}l.type===w?((a=qc(l.props.children,r.mode,o,l.key)).return=r,r=a):((o=Wc(l.type,l.key,l.props,null,r.mode,o)).ref=_a(r,a,l),o.return=r,r=o)}return i(r);case N:e:{for(d=l.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===l.containerInfo&&a.stateNode.implementation===l.implementation){s(r,a.sibling),(a=n(a,l.children||[])).return=r,r=a;break e}s(r,a);break}t(r,a),a=a.sibling}(a=$c(l,r.mode,o)).return=r,r=a}return i(r);case A:return e(r,a,(d=l._init)(l._payload),o)}if(te(l))return h(r,a,l,o);if(D(l))return f(r,a,l,o);Ca(r,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==a&&6===a.tag?(s(r,a.sibling),(a=n(a,l)).return=r,r=a):(s(r,a),(a=Gc(l,r.mode,o)).return=r,r=a),i(r)):s(r,a)}}var Fa=Ea(!0),La=Ea(!1),Pa=Rn(null),Aa=null,Ra=null,Ta=null;function Da(){Ta=Ra=Aa=null}function Ma(e){var t=Pa.current;Tn(Pa),e._currentValue=t}function Oa(e,t,s){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Ia(e,t){Aa=e,Ta=Ra=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Si=!0),e.firstContext=null)}function za(e){var t=e._currentValue;if(Ta!==e)if(e={context:e,memoizedValue:t,next:null},null===Ra){if(null===Aa)throw Error(a(308));Ra=e,Aa.dependencies={lanes:0,firstContext:e}}else Ra=Ra.next=e;return t}var Ua=null;function Ba(e){null===Ua?Ua=[e]:Ua.push(e)}function Va(e,t,s,r){var n=t.interleaved;return null===n?(s.next=s,Ba(t)):(s.next=n.next,n.next=s),t.interleaved=s,Wa(e,r)}function Wa(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var qa=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ga(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $a(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,s){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Oo)){var n=r.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),r.pending=t,Wa(e,s)}return null===(n=r.interleaved)?(t.next=t,Ba(r)):(t.next=n.next,n.next=t),r.interleaved=t,Wa(e,s)}function Qa(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var r=t.lanes;s|=r&=e.pendingLanes,t.lanes=s,Ct(e,s)}}function Ka(e,t){var s=e.updateQueue,r=e.alternate;if(null!==r&&s===(r=r.updateQueue)){var n=null,a=null;if(null!==(s=s.firstBaseUpdate)){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===a?n=a=l:a=a.next=l,s=s.next}while(null!==s);null===a?n=a=t:a=a.next=t}else n=a=t;return s={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ja(e,t,s,r){var n=e.updateQueue;qa=!1;var a=n.firstBaseUpdate,l=n.lastBaseUpdate,i=n.shared.pending;if(null!==i){n.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?a=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==a){var u=n.baseState;for(l=0,d=c=o=null,i=a;;){var m=i.lane,p=i.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var x=e,h=i;switch(m=t,p=s,h.tag){case 1:if("function"===typeof(x=h.payload)){u=x.call(p,u,m);break e}u=x;break e;case 3:x.flags=-65537&x.flags|128;case 0:if(null===(m="function"===typeof(x=h.payload)?x.call(p,u,m):x)||void 0===m)break e;u=O({},u,m);break e;case 2:qa=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=n.effects)?n.effects=[i]:m.push(i))}else p={eventTime:p,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,l|=m;if(null===(i=i.next)){if(null===(i=n.shared.pending))break;i=(m=i).next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}if(null===d&&(o=u),n.baseState=o,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{l|=n.lane,n=n.next}while(n!==t)}else null===a&&(n.shared.lanes=0);Ho|=l,e.lanes=l,e.memoizedState=u}}function Xa(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(null!==n){if(r.callback=null,r=s,"function"!==typeof n)throw Error(a(191,n));n.call(r)}}}var Za={},el=Rn(Za),tl=Rn(Za),sl=Rn(Za);function rl(e){if(e===Za)throw Error(a(174));return e}function nl(e,t){switch(Dn(sl,t),Dn(tl,e),Dn(el,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Tn(el),Dn(el,t)}function al(){Tn(el),Tn(tl),Tn(sl)}function ll(e){rl(sl.current);var t=rl(el.current),s=oe(t,e.type);t!==s&&(Dn(tl,e),Dn(el,s))}function il(e){tl.current===e&&(Tn(el),Tn(tl))}var ol=Rn(0);function cl(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dl=[];function ul(){for(var e=0;e<dl.length;e++)dl[e]._workInProgressVersionPrimary=null;dl.length=0}var ml=v.ReactCurrentDispatcher,pl=v.ReactCurrentBatchConfig,xl=0,hl=null,fl=null,gl=null,bl=!1,yl=!1,vl=0,jl=0;function Nl(){throw Error(a(321))}function wl(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!hr(e[s],t[s]))return!1;return!0}function kl(e,t,s,r,n,l){if(xl=l,hl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ml.current=null===e||null===e.memoizedState?ii:oi,e=s(r,n),yl){l=0;do{if(yl=!1,vl=0,25<=l)throw Error(a(301));l+=1,gl=fl=null,t.updateQueue=null,ml.current=ci,e=s(r,n)}while(yl)}if(ml.current=li,t=null!==fl&&null!==fl.next,xl=0,gl=fl=hl=null,bl=!1,t)throw Error(a(300));return e}function _l(){var e=0!==vl;return vl=0,e}function Cl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gl?hl.memoizedState=gl=e:gl=gl.next=e,gl}function Sl(){if(null===fl){var e=hl.alternate;e=null!==e?e.memoizedState:null}else e=fl.next;var t=null===gl?hl.memoizedState:gl.next;if(null!==t)gl=t,fl=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fl=e).memoizedState,baseState:fl.baseState,baseQueue:fl.baseQueue,queue:fl.queue,next:null},null===gl?hl.memoizedState=gl=e:gl=gl.next=e}return gl}function El(e,t){return"function"===typeof t?t(e):t}function Fl(e){var t=Sl(),s=t.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=e;var r=fl,n=r.baseQueue,l=s.pending;if(null!==l){if(null!==n){var i=n.next;n.next=l.next,l.next=i}r.baseQueue=n=l,s.pending=null}if(null!==n){l=n.next,r=r.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((xl&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=r):c=c.next=m,hl.lanes|=u,Ho|=u}d=d.next}while(null!==d&&d!==l);null===c?i=r:c.next=o,hr(r,t.memoizedState)||(Si=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,s.lastRenderedState=r}if(null!==(e=s.interleaved)){n=e;do{l=n.lane,hl.lanes|=l,Ho|=l,n=n.next}while(n!==e)}else null===n&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Ll(e){var t=Sl(),s=t.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=e;var r=s.dispatch,n=s.pending,l=t.memoizedState;if(null!==n){s.pending=null;var i=n=n.next;do{l=e(l,i.action),i=i.next}while(i!==n);hr(l,t.memoizedState)||(Si=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),s.lastRenderedState=l}return[l,r]}function Pl(){}function Al(e,t){var s=hl,r=Sl(),n=t(),l=!hr(r.memoizedState,n);if(l&&(r.memoizedState=n,Si=!0),r=r.queue,ql(Dl.bind(null,s,r,e),[e]),r.getSnapshot!==t||l||null!==gl&&1&gl.memoizedState.tag){if(s.flags|=2048,zl(9,Tl.bind(null,s,r,n,t),void 0,null),null===Io)throw Error(a(349));0!==(30&xl)||Rl(s,t,n)}return n}function Rl(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=hl.updateQueue)?(t={lastEffect:null,stores:null},hl.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Tl(e,t,s,r){t.value=s,t.getSnapshot=r,Ml(t)&&Ol(e)}function Dl(e,t,s){return s(function(){Ml(t)&&Ol(e)})}function Ml(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!hr(e,s)}catch(Je){return!0}}function Ol(e){var t=Wa(e,1);null!==t&&uc(t,e,1,-1)}function Il(e){var t=Cl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:e},t.queue=e,e=e.dispatch=si.bind(null,hl,e),[t.memoizedState,e]}function zl(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},null===(t=hl.updateQueue)?(t={lastEffect:null,stores:null},hl.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e),e}function Ul(){return Sl().memoizedState}function Bl(e,t,s,r){var n=Cl();hl.flags|=e,n.memoizedState=zl(1|t,s,void 0,void 0===r?null:r)}function Vl(e,t,s,r){var n=Sl();r=void 0===r?null:r;var a=void 0;if(null!==fl){var l=fl.memoizedState;if(a=l.destroy,null!==r&&wl(r,l.deps))return void(n.memoizedState=zl(t,s,a,r))}hl.flags|=e,n.memoizedState=zl(1|t,s,a,r)}function Wl(e,t){return Bl(8390656,8,e,t)}function ql(e,t){return Vl(2048,8,e,t)}function Hl(e,t){return Vl(4,2,e,t)}function Gl(e,t){return Vl(4,4,e,t)}function $l(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yl(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Vl(4,4,$l.bind(null,t,e),s)}function Ql(){}function Kl(e,t){var s=Sl();t=void 0===t?null:t;var r=s.memoizedState;return null!==r&&null!==t&&wl(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Jl(e,t){var s=Sl();t=void 0===t?null:t;var r=s.memoizedState;return null!==r&&null!==t&&wl(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Xl(e,t,s){return 0===(21&xl)?(e.baseState&&(e.baseState=!1,Si=!0),e.memoizedState=s):(hr(s,t)||(s=wt(),hl.lanes|=s,Ho|=s,e.baseState=!0),t)}function Zl(e,t){var s=St;St=0!==s&&4>s?s:4,e(!0);var r=pl.transition;pl.transition={};try{e(!1),t()}finally{St=s,pl.transition=r}}function ei(){return Sl().memoizedState}function ti(e,t,s){var r=dc(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},ri(e))ni(t,s);else if(null!==(s=Va(e,t,s,r))){uc(s,e,r,cc()),ai(s,t,r)}}function si(e,t,s){var r=dc(e),n={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(ri(e))ni(t,n);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=a(l,s);if(n.hasEagerState=!0,n.eagerState=i,hr(i,l)){var o=t.interleaved;return null===o?(n.next=n,Ba(t)):(n.next=o.next,o.next=n),void(t.interleaved=n)}}catch(We){}null!==(s=Va(e,t,n,r))&&(uc(s,e,r,n=cc()),ai(s,t,r))}}function ri(e){var t=e.alternate;return e===hl||null!==t&&t===hl}function ni(e,t){yl=bl=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ai(e,t,s){if(0!==(4194240&s)){var r=t.lanes;s|=r&=e.pendingLanes,t.lanes=s,Ct(e,s)}}var li={readContext:za,useCallback:Nl,useContext:Nl,useEffect:Nl,useImperativeHandle:Nl,useInsertionEffect:Nl,useLayoutEffect:Nl,useMemo:Nl,useReducer:Nl,useRef:Nl,useState:Nl,useDebugValue:Nl,useDeferredValue:Nl,useTransition:Nl,useMutableSource:Nl,useSyncExternalStore:Nl,useId:Nl,unstable_isNewReconciler:!1},ii={readContext:za,useCallback:function(e,t){return Cl().memoizedState=[e,void 0===t?null:t],e},useContext:za,useEffect:Wl,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Bl(4194308,4,$l.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Bl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bl(4,2,e,t)},useMemo:function(e,t){var s=Cl();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=Cl();return t=void 0!==s?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ti.bind(null,hl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Cl().memoizedState=e},useState:Il,useDebugValue:Ql,useDeferredValue:function(e){return Cl().memoizedState=e},useTransition:function(){var e=Il(!1),t=e[0];return e=Zl.bind(null,e[1]),Cl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=hl,n=Cl();if(pa){if(void 0===s)throw Error(a(407));s=s()}else{if(s=t(),null===Io)throw Error(a(349));0!==(30&xl)||Rl(r,t,s)}n.memoizedState=s;var l={value:s,getSnapshot:t};return n.queue=l,Wl(Dl.bind(null,r,l,e),[e]),r.flags|=2048,zl(9,Tl.bind(null,r,l,s,t),void 0,null),s},useId:function(){var e=Cl(),t=Io.identifierPrefix;if(pa){var s=la;t=":"+t+"R"+(s=(aa&~(1<<32-pt(aa)-1)).toString(32)+s),0<(s=vl++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=jl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oi={readContext:za,useCallback:Kl,useContext:za,useEffect:ql,useImperativeHandle:Yl,useInsertionEffect:Hl,useLayoutEffect:Gl,useMemo:Jl,useReducer:Fl,useRef:Ul,useState:function(){return Fl(El)},useDebugValue:Ql,useDeferredValue:function(e){return Xl(Sl(),fl.memoizedState,e)},useTransition:function(){return[Fl(El)[0],Sl().memoizedState]},useMutableSource:Pl,useSyncExternalStore:Al,useId:ei,unstable_isNewReconciler:!1},ci={readContext:za,useCallback:Kl,useContext:za,useEffect:ql,useImperativeHandle:Yl,useInsertionEffect:Hl,useLayoutEffect:Gl,useMemo:Jl,useReducer:Ll,useRef:Ul,useState:function(){return Ll(El)},useDebugValue:Ql,useDeferredValue:function(e){var t=Sl();return null===fl?t.memoizedState=e:Xl(t,fl.memoizedState,e)},useTransition:function(){return[Ll(El)[0],Sl().memoizedState]},useMutableSource:Pl,useSyncExternalStore:Al,useId:ei,unstable_isNewReconciler:!1};function di(e,t){if(e&&e.defaultProps){for(var s in t=O({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function ui(e,t,s,r){s=null===(s=s(r,t=e.memoizedState))||void 0===s?t:O({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var mi={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=cc(),n=dc(e),a=$a(r,n);a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=Ya(e,a,n))&&(uc(t,e,n,r),Qa(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=cc(),n=dc(e),a=$a(r,n);a.tag=1,a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=Ya(e,a,n))&&(uc(t,e,n,r),Qa(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=cc(),r=dc(e),n=$a(s,r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=Ya(e,n,r))&&(uc(t,e,r,s),Qa(t,e,r))}};function pi(e,t,s,r,n,a,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,l):!t.prototype||!t.prototype.isPureReactComponent||(!fr(s,r)||!fr(n,a))}function xi(e,t,s){var r=!1,n=Mn,a=t.contextType;return"object"===typeof a&&null!==a?a=za(a):(n=Bn(t)?zn:On.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Un(e,n):Mn),t=new t(s,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function hi(e,t,s,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function fi(e,t,s,r){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Ha(e);var a=t.contextType;"object"===typeof a&&null!==a?n.context=za(a):(a=Bn(t)?zn:On.current,n.context=Un(e,a)),n.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ui(e,t,a,s),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&mi.enqueueReplaceState(n,n.state,null),Ja(e,s,n,r),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function gi(e,t){try{var s="",r=t;do{s+=B(r),r=r.return}while(r);var n=s}catch(Xe){n="\nError generating stack: "+Xe.message+"\n"+Xe.stack}return{value:e,source:t,stack:n,digest:null}}function bi(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function yi(e,t){try{console.error(t.value)}catch($e){setTimeout(function(){throw $e})}}var vi="function"===typeof WeakMap?WeakMap:Map;function ji(e,t,s){(s=$a(-1,s)).tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Zo||(Zo=!0,ec=r),yi(0,t)},s}function Ni(e,t,s){(s=$a(-1,s)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var n=t.value;s.payload=function(){return r(n)},s.callback=function(){yi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(s.callback=function(){yi(0,t),"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function wi(e,t,s){var r=e.pingCache;if(null===r){r=e.pingCache=new vi;var n=new Set;r.set(t,n)}else void 0===(n=r.get(t))&&(n=new Set,r.set(t,n));n.has(s)||(n.add(s),e=Tc.bind(null,e,t,s),t.then(e,e))}function ki(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _i(e,t,s,r,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=$a(-1,1)).tag=2,Ya(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var Ci=v.ReactCurrentOwner,Si=!1;function Ei(e,t,s,r){t.child=null===e?La(t,null,s,r):Fa(t,e.child,s,r)}function Fi(e,t,s,r,n){s=s.render;var a=t.ref;return Ia(t,n),r=kl(e,t,s,r,a,n),s=_l(),null===e||Si?(pa&&s&&ca(t),t.flags|=1,Ei(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Xi(e,t,n))}function Li(e,t,s,r,n){if(null===e){var a=s.type;return"function"!==typeof a||Bc(a)||void 0!==a.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Wc(s.type,null,r,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Pi(e,t,a,r,n))}if(a=e.child,0===(e.lanes&n)){var l=a.memoizedProps;if((s=null!==(s=s.compare)?s:fr)(l,r)&&e.ref===t.ref)return Xi(e,t,n)}return t.flags|=1,(e=Vc(a,r)).ref=t.ref,e.return=t,t.child=e}function Pi(e,t,s,r,n){if(null!==e){var a=e.memoizedProps;if(fr(a,r)&&e.ref===t.ref){if(Si=!1,t.pendingProps=r=a,0===(e.lanes&n))return t.lanes=e.lanes,Xi(e,t,n);0!==(131072&e.flags)&&(Si=!0)}}return Ti(e,t,s,r,n)}function Ai(e,t,s){var r=t.pendingProps,n=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dn(Vo,Bo),Bo|=s;else{if(0===(1073741824&s))return e=null!==a?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Dn(Vo,Bo),Bo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:s,Dn(Vo,Bo),Bo|=r}else null!==a?(r=a.baseLanes|s,t.memoizedState=null):r=s,Dn(Vo,Bo),Bo|=r;return Ei(e,t,n,s),t.child}function Ri(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Ti(e,t,s,r,n){var a=Bn(s)?zn:On.current;return a=Un(t,a),Ia(t,n),s=kl(e,t,s,r,a,n),r=_l(),null===e||Si?(pa&&r&&ca(t),t.flags|=1,Ei(e,t,s,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Xi(e,t,n))}function Di(e,t,s,r,n){if(Bn(s)){var a=!0;Hn(t)}else a=!1;if(Ia(t,n),null===t.stateNode)Ji(e,t),xi(t,s,r),fi(t,s,r,n),r=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=s.contextType;"object"===typeof c&&null!==c?c=za(c):c=Un(t,c=Bn(s)?zn:On.current);var d=s.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==r||o!==c)&&hi(t,l,r,c),qa=!1;var m=t.memoizedState;l.state=m,Ja(t,r,l,n),o=t.memoizedState,i!==r||m!==o||In.current||qa?("function"===typeof d&&(ui(t,s,d,r),o=t.memoizedState),(i=qa||pi(t,s,i,r,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),l.props=r,l.state=o,l.context=c,r=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Ga(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:di(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=s.contextType)&&null!==o?o=za(o):o=Un(t,o=Bn(s)?zn:On.current);var p=s.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&hi(t,l,r,o),qa=!1,m=t.memoizedState,l.state=m,Ja(t,r,l,n);var x=t.memoizedState;i!==u||m!==x||In.current||qa?("function"===typeof p&&(ui(t,s,p,r),x=t.memoizedState),(c=qa||pi(t,s,c,r,m,x,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,x,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,x,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=o,r=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Mi(e,t,s,r,a,n)}function Mi(e,t,s,r,n,a){Ri(e,t);var l=0!==(128&t.flags);if(!r&&!l)return n&&Gn(t,s,!1),Xi(e,t,a);r=t.stateNode,Ci.current=t;var i=l&&"function"!==typeof s.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=Fa(t,e.child,null,a),t.child=Fa(t,null,i,a)):Ei(e,t,i,a),t.memoizedState=r.state,n&&Gn(t,s,!0),t.child}function Oi(e){var t=e.stateNode;t.pendingContext?Wn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Wn(0,t.context,!1),nl(e,t.containerInfo)}function Ii(e,t,s,r,n){return Na(),wa(n),t.flags|=256,Ei(e,t,s,r),t.child}var zi,Ui,Bi,Vi,Wi={dehydrated:null,treeContext:null,retryLane:0};function qi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hi(e,t,s){var r,n=t.pendingProps,l=ol.current,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&l)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Dn(ol,1&l),null===e)return ba(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&n)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Hc(o,n,0,null),e=qc(e,n,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=qi(s),t.memoizedState=Wi,e):Gi(t,o));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,s,r,n,l,i){if(s)return 256&t.flags?(t.flags&=-257,$i(e,t,i,r=bi(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,n=t.mode,r=Hc({mode:"visible",children:r.children},n,0,null),(l=qc(l,n,i,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,0!==(1&t.mode)&&Fa(t,e.child,null,i),t.child.memoizedState=qi(i),t.memoizedState=Wi,l);if(0===(1&t.mode))return $i(e,t,i,null);if("$!"===n.data){if(r=n.nextSibling&&n.nextSibling.dataset)var o=r.dgst;return r=o,$i(e,t,i,r=bi(l=Error(a(419)),r,void 0))}if(o=0!==(i&e.childLanes),Si||o){if(null!==(r=Io)){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(r.suspendedLanes|i))?0:n)&&n!==l.retryLane&&(l.retryLane=n,Wa(e,n),uc(r,e,n,-1))}return kc(),$i(e,t,i,r=bi(Error(a(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),n._reactRetry=t,null):(e=l.treeContext,ma=bn(n.nextSibling),ua=t,pa=!0,xa=null,null!==e&&(sa[ra++]=aa,sa[ra++]=la,sa[ra++]=na,aa=e.id,la=e.overflow,na=t),t=Gi(t,r.children),t.flags|=4096,t)}(e,t,o,n,r,l,s);if(i){i=n.fallback,o=t.mode,r=(l=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&o)&&t.child!==l?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Vc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==r?i=Vc(r,i):(i=qc(i,o,s,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=null===(o=e.child.memoizedState)?qi(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=Wi,n}return e=(i=e.child).sibling,n=Vc(i,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=s),n.return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Gi(e,t){return(t=Hc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $i(e,t,s,r){return null!==r&&wa(r),Fa(t,e.child,null,s),(e=Gi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Yi(e,t,s){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oa(e.return,t,s)}function Qi(e,t,s,r,n){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=n)}function Ki(e,t,s){var r=t.pendingProps,n=r.revealOrder,a=r.tail;if(Ei(e,t,r.children,s),0!==(2&(r=ol.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yi(e,s,t);else if(19===e.tag)Yi(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Dn(ol,r),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;null!==s;)null!==(e=s.alternate)&&null===cl(e)&&(n=s),s=s.sibling;null===(s=n)?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),Qi(t,!1,n,s,a);break;case"backwards":for(s=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===cl(e)){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}Qi(t,!0,s,null,a);break;case"together":Qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ji(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xi(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Ho|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(s=Vc(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Vc(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function Zi(e,t){if(!pa)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;null!==s;)null!==s.alternate&&(r=s),s=s.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function eo(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,r=0;if(t)for(var n=e.child;null!==n;)s|=n.lanes|n.childLanes,r|=14680064&n.subtreeFlags,r|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)s|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function to(e,t,s){var r=t.pendingProps;switch(da(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return eo(t),null;case 1:case 17:return Bn(t.type)&&Vn(),eo(t),null;case 3:return r=t.stateNode,al(),Tn(In),Tn(On),ul(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(va(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==xa&&(hc(xa),xa=null))),Ui(e,t),eo(t),null;case 5:il(t);var n=rl(sl.current);if(s=t.type,null!==e&&null!=t.stateNode)Bi(e,t,s,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return eo(t),null}if(e=rl(el.current),va(t)){r=t.stateNode,s=t.type;var l=t.memoizedProps;switch(r[jn]=t,r[Nn]=l,e=0!==(1&t.mode),s){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(n=0;n<Wr.length;n++)$r(Wr[n],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":K(r,l),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},$r("invalid",r);break;case"textarea":ne(r,l),$r("invalid",r)}for(var o in ge(s,l),n=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?r.textContent!==c&&(!0!==l.suppressHydrationWarning&&ln(r.textContent,c,e),n=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&ln(r.textContent,c,e),n=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&$r("scroll",r)}switch(s){case"input":G(r),Z(r,l,!0);break;case"textarea":G(r),le(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=on)}r=n,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),"select"===s&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[jn]=t,e[Nn]=r,zi(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(s,r),s){case"dialog":$r("cancel",e),$r("close",e),n=r;break;case"iframe":case"object":case"embed":$r("load",e),n=r;break;case"video":case"audio":for(n=0;n<Wr.length;n++)$r(Wr[n],e);n=r;break;case"source":$r("error",e),n=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),n=r;break;case"details":$r("toggle",e),n=r;break;case"input":K(e,r),n=Q(e,r),$r("invalid",e);break;case"option":default:n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=O({},r,{value:void 0}),$r("invalid",e);break;case"textarea":ne(e,r),n=re(e,r),$r("invalid",e)}for(l in ge(s,n),c=n)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?he(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&de(e,d):"children"===l?"string"===typeof d?("textarea"!==s||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&$r("scroll",e):null!=d&&y(e,l,d,o))}switch(s){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?se(e,!!r.multiple,l,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=on)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return eo(t),null;case 6:if(e&&null!=t.stateNode)Vi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(s=rl(sl.current),rl(el.current),va(t)){if(r=t.stateNode,s=t.memoizedProps,r[jn]=t,(l=r.nodeValue!==s)&&null!==(e=ua))switch(e.tag){case 3:ln(r.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ln(r.nodeValue,s,0!==(1&e.mode))}l&&(t.flags|=4)}else(r=(9===s.nodeType?s:s.ownerDocument).createTextNode(r))[jn]=t,t.stateNode=r}return eo(t),null;case 13:if(Tn(ol),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(pa&&null!==ma&&0!==(1&t.mode)&&0===(128&t.flags))ja(),Na(),t.flags|=98560,l=!1;else if(l=va(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(a(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(a(317));l[jn]=t}else Na(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;eo(t),l=!1}else null!==xa&&(hc(xa),xa=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ol.current)?0===Wo&&(Wo=3):kc())),null!==t.updateQueue&&(t.flags|=4),eo(t),null);case 4:return al(),Ui(e,t),null===e&&Kr(t.stateNode.containerInfo),eo(t),null;case 10:return Ma(t.type._context),eo(t),null;case 19:if(Tn(ol),null===(l=t.memoizedState))return eo(t),null;if(r=0!==(128&t.flags),null===(o=l.rendering))if(r)Zi(l,!1);else{if(0!==Wo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=cl(e))){for(t.flags|=128,Zi(l,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;null!==s;)e=r,(l=s).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Dn(ol,1&ol.current|2),t.child}e=e.sibling}null!==l.tail&&nt()>Jo&&(t.flags|=128,r=!0,Zi(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cl(o))){if(t.flags|=128,r=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),Zi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!pa)return eo(t),null}else 2*nt()-l.renderingStartTime>Jo&&1073741824!==s&&(t.flags|=128,r=!0,Zi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(s=l.last)?s.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nt(),t.sibling=null,s=ol.current,Dn(ol,r?1&s|2:1&s),t):(eo(t),null);case 22:case 23:return vc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bo)&&(eo(t),6&t.subtreeFlags&&(t.flags|=8192)):eo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function so(e,t){switch(da(t),t.tag){case 1:return Bn(t.type)&&Vn(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return al(),Tn(In),Tn(On),ul(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return il(t),null;case 13:if(Tn(ol),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Na()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Tn(ol),null;case 4:return al(),null;case 10:return Ma(t.type._context),null;case 22:case 23:return vc(),null;default:return null}}zi=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ui=function(){},Bi=function(e,t,s,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,rl(el.current);var a,l=null;switch(s){case"input":n=Q(e,n),r=Q(e,r),l=[];break;case"select":n=O({},n,{value:void 0}),r=O({},r,{value:void 0}),l=[];break;case"textarea":n=re(e,n),r=re(e,r),l=[];break;default:"function"!==typeof n.onClick&&"function"===typeof r.onClick&&(e.onclick=on)}for(d in ge(s,r),s=null,n)if(!r.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var o=n[d];for(a in o)o.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=null!=n?n[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(s||(s={}),s[a]=c[a])}else s||(l||(l=[]),l.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&$r("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}s&&(l=l||[]).push("style",s);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Vi=function(e,t,s,r){s!==r&&(t.flags|=4)};var ro=!1,no=!1,ao="function"===typeof WeakSet?WeakSet:Set,lo=null;function io(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(Je){Rc(e,t,Je)}else s.current=null}function oo(e,t,s){try{s()}catch(Je){Rc(e,t,Je)}}var co=!1;function uo(e,t,s){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,void 0!==a&&oo(t,s,a)}n=n.next}while(n!==r)}}function mo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function po(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function xo(e){var t=e.alternate;null!==t&&(e.alternate=null,xo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[jn],delete t[Nn],delete t[kn],delete t[_n],delete t[Cn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ho(e){return 5===e.tag||3===e.tag||4===e.tag}function fo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ho(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function go(e,t,s){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=on));else if(4!==r&&null!==(e=e.child))for(go(e,t,s),e=e.sibling;null!==e;)go(e,t,s),e=e.sibling}function bo(e,t,s){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==r&&null!==(e=e.child))for(bo(e,t,s),e=e.sibling;null!==e;)bo(e,t,s),e=e.sibling}var yo=null,vo=!1;function jo(e,t,s){for(s=s.child;null!==s;)No(e,t,s),s=s.sibling}function No(e,t,s){if(mt&&"function"===typeof mt.onCommitFiberUnmount)try{mt.onCommitFiberUnmount(ut,s)}catch(et){}switch(s.tag){case 5:no||io(s,t);case 6:var r=yo,n=vo;yo=null,jo(e,t,s),vo=n,null!==(yo=r)&&(vo?(e=yo,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):yo.removeChild(s.stateNode));break;case 18:null!==yo&&(vo?(e=yo,s=s.stateNode,8===e.nodeType?gn(e.parentNode,s):1===e.nodeType&&gn(e,s),Jt(e)):gn(yo,s.stateNode));break;case 4:r=yo,n=vo,yo=s.stateNode.containerInfo,vo=!0,jo(e,t,s),yo=r,vo=n;break;case 0:case 11:case 14:case 15:if(!no&&(null!==(r=s.updateQueue)&&null!==(r=r.lastEffect))){n=r=r.next;do{var a=n,l=a.destroy;a=a.tag,void 0!==l&&(0!==(2&a)||0!==(4&a))&&oo(s,t,l),n=n.next}while(n!==r)}jo(e,t,s);break;case 1:if(!no&&(io(s,t),"function"===typeof(r=s.stateNode).componentWillUnmount))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(et){Rc(s,t,et)}jo(e,t,s);break;case 21:jo(e,t,s);break;case 22:1&s.mode?(no=(r=no)||null!==s.memoizedState,jo(e,t,s),no=r):jo(e,t,s);break;default:jo(e,t,s)}}function wo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new ao),t.forEach(function(t){var r=Oc.bind(null,e,t);s.has(t)||(s.add(t),t.then(r,r))})}}function ko(e,t){var s=t.deletions;if(null!==s)for(var r=0;r<s.length;r++){var n=s[r];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:yo=o.stateNode,vo=!1;break e;case 3:case 4:yo=o.stateNode.containerInfo,vo=!0;break e}o=o.return}if(null===yo)throw Error(a(160));No(l,i,n),yo=null,vo=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(We){Rc(n,t,We)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)_o(t,e),t=t.sibling}function _o(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ko(t,e),Co(e),4&r){try{uo(3,e,e.return),mo(3,e)}catch(Ve){Rc(e,e.return,Ve)}try{uo(5,e,e.return)}catch(Ve){Rc(e,e.return,Ve)}}break;case 1:ko(t,e),Co(e),512&r&&null!==s&&io(s,s.return);break;case 5:if(ko(t,e),Co(e),512&r&&null!==s&&io(s,s.return),32&e.flags){var n=e.stateNode;try{ue(n,"")}catch(Ve){Rc(e,e.return,Ve)}}if(4&r&&null!=(n=e.stateNode)){var l=e.memoizedProps,i=null!==s?s.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&J(n,l),be(o,i);var d=be(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?he(n,m):"dangerouslySetInnerHTML"===u?de(n,m):"children"===u?ue(n,m):y(n,u,m,d)}switch(o){case"input":X(n,l);break;case"textarea":ae(n,l);break;case"select":var p=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var x=l.value;null!=x?se(n,!!l.multiple,x,!1):p!==!!l.multiple&&(null!=l.defaultValue?se(n,!!l.multiple,l.defaultValue,!0):se(n,!!l.multiple,l.multiple?[]:"",!1))}n[Nn]=l}catch(Ve){Rc(e,e.return,Ve)}}break;case 6:if(ko(t,e),Co(e),4&r){if(null===e.stateNode)throw Error(a(162));n=e.stateNode,l=e.memoizedProps;try{n.nodeValue=l}catch(Ve){Rc(e,e.return,Ve)}}break;case 3:if(ko(t,e),Co(e),4&r&&null!==s&&s.memoizedState.isDehydrated)try{Jt(t.containerInfo)}catch(Ve){Rc(e,e.return,Ve)}break;case 4:default:ko(t,e),Co(e);break;case 13:ko(t,e),Co(e),8192&(n=e.child).flags&&(l=null!==n.memoizedState,n.stateNode.isHidden=l,!l||null!==n.alternate&&null!==n.alternate.memoizedState||(Ko=nt())),4&r&&wo(e);break;case 22:if(u=null!==s&&null!==s.memoizedState,1&e.mode?(no=(d=no)||u,ko(t,e),no=d):ko(t,e),Co(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(lo=e,u=e.child;null!==u;){for(m=lo=u;null!==lo;){switch(x=(p=lo).child,p.tag){case 0:case 11:case 14:case 15:uo(4,p,p.return);break;case 1:io(p,p.return);var h=p.stateNode;if("function"===typeof h.componentWillUnmount){r=p,s=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(Ve){Rc(r,s,Ve)}}break;case 5:io(p,p.return);break;case 22:if(null!==p.memoizedState){Lo(m);continue}}null!==x?(x.return=p,lo=x):Lo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{n=m.stateNode,d?"function"===typeof(l=n.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=xe("display",i))}catch(Ve){Rc(e,e.return,Ve)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(Ve){Rc(e,e.return,Ve)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ko(t,e),Co(e),4&r&&wo(e);case 21:}}function Co(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(ho(s)){var r=s;break e}s=s.return}throw Error(a(160))}switch(r.tag){case 5:var n=r.stateNode;32&r.flags&&(ue(n,""),r.flags&=-33),bo(e,fo(e),n);break;case 3:case 4:var l=r.stateNode.containerInfo;go(e,fo(e),l);break;default:throw Error(a(161))}}catch(jt){Rc(e,e.return,jt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function So(e,t,s){lo=e,Eo(e,t,s)}function Eo(e,t,s){for(var r=0!==(1&e.mode);null!==lo;){var n=lo,a=n.child;if(22===n.tag&&r){var l=null!==n.memoizedState||ro;if(!l){var i=n.alternate,o=null!==i&&null!==i.memoizedState||no;i=ro;var c=no;if(ro=l,(no=o)&&!c)for(lo=n;null!==lo;)o=(l=lo).child,22===l.tag&&null!==l.memoizedState?Po(n):null!==o?(o.return=l,lo=o):Po(n);for(;null!==a;)lo=a,Eo(a,t,s),a=a.sibling;lo=n,ro=i,no=c}Fo(e)}else 0!==(8772&n.subtreeFlags)&&null!==a?(a.return=n,lo=a):Fo(e)}}function Fo(e){for(;null!==lo;){var t=lo;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:no||mo(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!no)if(null===s)r.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:di(t.type,s.memoizedProps);r.componentDidUpdate(n,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Xa(t,l,r);break;case 3:var i=t.updateQueue;if(null!==i){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Xa(t,i,s)}break;case 5:var o=t.stateNode;if(null===s&&4&t.flags){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Jt(m)}}}break;default:throw Error(a(163))}no||512&t.flags&&po(t)}catch(p){Rc(t,t.return,p)}}if(t===e){lo=null;break}if(null!==(s=t.sibling)){s.return=t.return,lo=s;break}lo=t.return}}function Lo(e){for(;null!==lo;){var t=lo;if(t===e){lo=null;break}var s=t.sibling;if(null!==s){s.return=t.return,lo=s;break}lo=t.return}}function Po(e){for(;null!==lo;){var t=lo;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{mo(4,t)}catch(jt){Rc(t,s,jt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var n=t.return;try{r.componentDidMount()}catch(jt){Rc(t,n,jt)}}var a=t.return;try{po(t)}catch(jt){Rc(t,a,jt)}break;case 5:var l=t.return;try{po(t)}catch(jt){Rc(t,l,jt)}}}catch(jt){Rc(t,t.return,jt)}if(t===e){lo=null;break}var i=t.sibling;if(null!==i){i.return=t.return,lo=i;break}lo=t.return}}var Ao,Ro=Math.ceil,To=v.ReactCurrentDispatcher,Do=v.ReactCurrentOwner,Mo=v.ReactCurrentBatchConfig,Oo=0,Io=null,zo=null,Uo=0,Bo=0,Vo=Rn(0),Wo=0,qo=null,Ho=0,Go=0,$o=0,Yo=null,Qo=null,Ko=0,Jo=1/0,Xo=null,Zo=!1,ec=null,tc=null,sc=!1,rc=null,nc=0,ac=0,lc=null,ic=-1,oc=0;function cc(){return 0!==(6&Oo)?nt():-1!==ic?ic:ic=nt()}function dc(e){return 0===(1&e.mode)?1:0!==(2&Oo)&&0!==Uo?Uo&-Uo:null!==ka.transition?(0===oc&&(oc=wt()),oc):0!==(e=St)?e:e=void 0===(e=window.event)?16:as(e.type)}function uc(e,t,s,r){if(50<ac)throw ac=0,lc=null,Error(a(185));_t(e,s,r),0!==(2&Oo)&&e===Io||(e===Io&&(0===(2&Oo)&&(Go|=s),4===Wo&&fc(e,Uo)),mc(e,r),1===s&&0===Oo&&0===(1&t.mode)&&(Jo=nt()+500,Yn&&Jn()))}function mc(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-pt(a),i=1<<l,o=n[l];-1===o?0!==(i&s)&&0===(i&r)||(n[l]=vt(i,t)):o<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var r=yt(e,e===Io?Uo:0);if(0===r)null!==s&&tt(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=s&&tt(s),1===t)0===e.tag?function(e){Yn=!0,Kn(e)}(gc.bind(null,e)):Kn(gc.bind(null,e)),hn(function(){0===(6&Oo)&&Jn()}),s=null;else{switch(Et(r)){case 1:s=lt;break;case 4:s=it;break;case 16:default:s=ot;break;case 536870912:s=dt}s=Ic(s,pc.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function pc(e,t){if(ic=-1,oc=0,0!==(6&Oo))throw Error(a(327));var s=e.callbackNode;if(Pc()&&e.callbackNode!==s)return null;var r=yt(e,e===Io?Uo:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=_c(e,r);else{t=r;var n=Oo;Oo|=2;var l=wc();for(Io===e&&Uo===t||(Xo=null,Jo=nt()+500,jc(e,t));;)try{Sc();break}catch(et){Nc(e,et)}Da(),To.current=l,Oo=n,null!==zo?t=0:(Io=null,Uo=0,t=Wo)}if(0!==t){if(2===t&&(0!==(n=Nt(e))&&(r=n,t=xc(e,n))),1===t)throw s=qo,jc(e,0),fc(e,r),mc(e,nt()),s;if(6===t)fc(e,r);else{if(n=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var r=0;r<s.length;r++){var n=s[r],a=n.getSnapshot;n=n.value;try{if(!hr(a(),n))return!1}catch(i){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=_c(e,r))&&(0!==(l=Nt(e))&&(r=l,t=xc(e,l))),1===t))throw s=qo,jc(e,0),fc(e,r),mc(e,nt()),s;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Lc(e,Qo,Xo);break;case 3:if(fc(e,r),(130023424&r)===r&&10<(t=Ko+500-nt())){if(0!==yt(e,0))break;if(((n=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=mn(Lc.bind(null,e,Qo,Xo),t);break}Lc(e,Qo,Xo);break;case 4:if(fc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,n=-1;0<r;){var i=31-pt(r);l=1<<i,(i=t[i])>n&&(n=i),r&=~l}if(r=n,10<(r=(120>(r=nt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ro(r/1960))-r)){e.timeoutHandle=mn(Lc.bind(null,e,Qo,Xo),r);break}Lc(e,Qo,Xo);break;default:throw Error(a(329))}}}return mc(e,nt()),e.callbackNode===s?pc.bind(null,e):null}function xc(e,t){var s=Yo;return e.current.memoizedState.isDehydrated&&(jc(e,t).flags|=256),2!==(e=_c(e,t))&&(t=Qo,Qo=s,null!==t&&hc(t)),e}function hc(e){null===Qo?Qo=e:Qo.push.apply(Qo,e)}function fc(e,t){for(t&=~$o,t&=~Go,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-pt(t),r=1<<s;e[s]=-1,t&=~r}}function gc(e){if(0!==(6&Oo))throw Error(a(327));Pc();var t=yt(e,0);if(0===(1&t))return mc(e,nt()),null;var s=_c(e,t);if(0!==e.tag&&2===s){var r=Nt(e);0!==r&&(t=r,s=xc(e,r))}if(1===s)throw s=qo,jc(e,0),fc(e,t),mc(e,nt()),s;if(6===s)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lc(e,Qo,Xo),mc(e,nt()),null}function bc(e,t){var s=Oo;Oo|=1;try{return e(t)}finally{0===(Oo=s)&&(Jo=nt()+500,Yn&&Jn())}}function yc(e){null!==rc&&0===rc.tag&&0===(6&Oo)&&Pc();var t=Oo;Oo|=1;var s=Mo.transition,r=St;try{if(Mo.transition=null,St=1,e)return e()}finally{St=r,Mo.transition=s,0===(6&(Oo=t))&&Jn()}}function vc(){Bo=Vo.current,Tn(Vo)}function jc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,pn(s)),null!==zo)for(s=zo.return;null!==s;){var r=s;switch(da(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Vn();break;case 3:al(),Tn(In),Tn(On),ul();break;case 5:il(r);break;case 4:al();break;case 13:case 19:Tn(ol);break;case 10:Ma(r.type._context);break;case 22:case 23:vc()}s=s.return}if(Io=e,zo=e=Vc(e.current,null),Uo=Bo=t,Wo=0,qo=null,$o=Go=Ho=0,Qo=Yo=null,null!==Ua){for(t=0;t<Ua.length;t++)if(null!==(r=(s=Ua[t]).interleaved)){s.interleaved=null;var n=r.next,a=s.pending;if(null!==a){var l=a.next;a.next=n,r.next=l}s.pending=r}Ua=null}return e}function Nc(e,t){for(;;){var s=zo;try{if(Da(),ml.current=li,bl){for(var r=hl.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}bl=!1}if(xl=0,gl=fl=hl=null,yl=!1,vl=0,Do.current=null,null===s||null===s.return){Wo=1,qo=t,zo=null;break}e:{var l=e,i=s.return,o=s,c=t;if(t=Uo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=ki(i);if(null!==x){x.flags&=-257,_i(x,i,o,0,t),1&x.mode&&wi(l,d,t),c=d;var h=(t=x).updateQueue;if(null===h){var f=new Set;f.add(c),t.updateQueue=f}else h.add(c);break e}if(0===(1&t)){wi(l,d,t),kc();break e}c=Error(a(426))}else if(pa&&1&o.mode){var g=ki(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),_i(g,i,o,0,t),wa(gi(c,o));break e}}l=c=gi(c,o),4!==Wo&&(Wo=2),null===Yo?Yo=[l]:Yo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Ka(l,ji(0,c,t));break e;case 1:o=c;var b=l.type,y=l.stateNode;if(0===(128&l.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===tc||!tc.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t,Ka(l,Ni(l,o,t));break e}}l=l.return}while(null!==l)}Fc(s)}catch(v){t=v,zo===s&&null!==s&&(zo=s=s.return);continue}break}}function wc(){var e=To.current;return To.current=li,null===e?li:e}function kc(){0!==Wo&&3!==Wo&&2!==Wo||(Wo=4),null===Io||0===(268435455&Ho)&&0===(268435455&Go)||fc(Io,Uo)}function _c(e,t){var s=Oo;Oo|=2;var r=wc();for(Io===e&&Uo===t||(Xo=null,jc(e,t));;)try{Cc();break}catch(Be){Nc(e,Be)}if(Da(),Oo=s,To.current=r,null!==zo)throw Error(a(261));return Io=null,Uo=0,Wo}function Cc(){for(;null!==zo;)Ec(zo)}function Sc(){for(;null!==zo&&!st();)Ec(zo)}function Ec(e){var t=Ao(e.alternate,e,Bo);e.memoizedProps=e.pendingProps,null===t?Fc(e):zo=t,Do.current=null}function Fc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=to(s,t,Bo)))return void(zo=s)}else{if(null!==(s=so(s,t)))return s.flags&=32767,void(zo=s);if(null===e)return Wo=6,void(zo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(zo=t);zo=t=e}while(null!==t);0===Wo&&(Wo=5)}function Lc(e,t,s){var r=St,n=Mo.transition;try{Mo.transition=null,St=1,function(e,t,s,r){do{Pc()}while(null!==rc);if(0!==(6&Oo))throw Error(a(327));s=e.finishedWork;var n=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-pt(s),a=1<<n;t[n]=0,r[n]=-1,e[n]=-1,s&=~a}}(e,l),e===Io&&(zo=Io=null,Uo=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||sc||(sc=!0,Ic(ot,function(){return Pc(),null})),l=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||l){l=Mo.transition,Mo.transition=null;var i=St;St=1;var o=Oo;Oo|=4,Do.current=null,function(e,t){if(cn=Zt,jr(e=vr())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(r&&0!==r.rangeCount){s=r.anchorNode;var n=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{s.nodeType,l.nodeType}catch(It){s=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var x;m!==s||0!==n&&3!==m.nodeType||(o=i+n),m!==l||0!==r&&3!==m.nodeType||(c=i+r),3===m.nodeType&&(i+=m.nodeValue.length),null!==(x=m.firstChild);)p=m,m=x;for(;;){if(m===e)break t;if(p===s&&++d===n&&(o=i),p===l&&++u===r&&(c=i),null!==(x=m.nextSibling))break;p=(m=p).parentNode}m=x}s=-1===o||-1===c?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(dn={focusedElem:e,selectionRange:s},Zt=!1,lo=t;null!==lo;)if(e=(t=lo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,lo=e;else for(;null!==lo;){t=lo;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var f=h.memoizedProps,g=h.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?f:di(t.type,f),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(a(163))}}catch(It){Rc(t,t.return,It)}if(null!==(e=t.sibling)){e.return=t.return,lo=e;break}lo=t.return}h=co,co=!1}(e,s),_o(s,e),Nr(dn),Zt=!!cn,dn=cn=null,e.current=s,So(s,e,n),rt(),Oo=o,St=i,Mo.transition=l}else e.current=s;if(sc&&(sc=!1,rc=e,nc=n),l=e.pendingLanes,0===l&&(tc=null),function(e){if(mt&&"function"===typeof mt.onCommitFiberRoot)try{mt.onCommitFiberRoot(ut,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),mc(e,nt()),null!==t)for(r=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],r(n.value,{componentStack:n.stack,digest:n.digest});if(Zo)throw Zo=!1,e=ec,ec=null,e;0!==(1&nc)&&0!==e.tag&&Pc(),l=e.pendingLanes,0!==(1&l)?e===lc?ac++:(ac=0,lc=e):ac=0,Jn()}(e,t,s,r)}finally{Mo.transition=n,St=r}return null}function Pc(){if(null!==rc){var e=Et(nc),t=Mo.transition,s=St;try{if(Mo.transition=null,St=16>e?16:e,null===rc)var r=!1;else{if(e=rc,rc=null,nc=0,0!==(6&Oo))throw Error(a(331));var n=Oo;for(Oo|=4,lo=e.current;null!==lo;){var l=lo,i=l.child;if(0!==(16&lo.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(lo=d;null!==lo;){var u=lo;switch(u.tag){case 0:case 11:case 15:uo(8,u,l)}var m=u.child;if(null!==m)m.return=u,lo=m;else for(;null!==lo;){var p=(u=lo).sibling,x=u.return;if(xo(u),u===d){lo=null;break}if(null!==p){p.return=x,lo=p;break}lo=x}}}var h=l.alternate;if(null!==h){var f=h.child;if(null!==f){h.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}lo=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,lo=i;else e:for(;null!==lo;){if(0!==(2048&(l=lo).flags))switch(l.tag){case 0:case 11:case 15:uo(9,l,l.return)}var b=l.sibling;if(null!==b){b.return=l.return,lo=b;break e}lo=l.return}}var y=e.current;for(lo=y;null!==lo;){var v=(i=lo).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,lo=v;else e:for(i=y;null!==lo;){if(0!==(2048&(o=lo).flags))try{switch(o.tag){case 0:case 11:case 15:mo(9,o)}}catch(N){Rc(o,o.return,N)}if(o===i){lo=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,lo=j;break e}lo=o.return}}if(Oo=n,Jn(),mt&&"function"===typeof mt.onPostCommitFiberRoot)try{mt.onPostCommitFiberRoot(ut,e)}catch(N){}r=!0}return r}finally{St=s,Mo.transition=t}}return!1}function Ac(e,t,s){e=Ya(e,t=ji(0,t=gi(s,t),1),1),t=cc(),null!==e&&(_t(e,1,t),mc(e,t))}function Rc(e,t,s){if(3===e.tag)Ac(e,e,s);else for(;null!==t;){if(3===t.tag){Ac(t,e,s);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){t=Ya(t,e=Ni(t,e=gi(s,e),1),1),e=cc(),null!==t&&(_t(t,1,e),mc(t,e));break}}t=t.return}}function Tc(e,t,s){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&s,Io===e&&(Uo&s)===s&&(4===Wo||3===Wo&&(130023424&Uo)===Uo&&500>nt()-Ko?jc(e,0):$o|=s),mc(e,t)}function Dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=gt,0===(130023424&(gt<<=1))&&(gt=4194304)));var s=cc();null!==(e=Wa(e,t))&&(_t(e,t,s),mc(e,s))}function Mc(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),Dc(e,s)}function Oc(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;null!==n&&(s=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Dc(e,s)}function Ic(e,t){return Ze(e,t)}function zc(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uc(e,t,s,r){return new zc(e,t,s,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vc(e,t){var s=e.alternate;return null===s?((s=Uc(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Wc(e,t,s,r,n,l){var i=2;if(r=e,"function"===typeof e)Bc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return qc(s.children,n,l,t);case k:i=8,n|=8;break;case _:return(e=Uc(12,s,t,2|n)).elementType=_,e.lanes=l,e;case F:return(e=Uc(13,s,t,n)).elementType=F,e.lanes=l,e;case L:return(e=Uc(19,s,t,n)).elementType=L,e.lanes=l,e;case R:return Hc(s,n,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case S:i=9;break e;case E:i=11;break e;case P:i=14;break e;case A:i=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Uc(i,s,t,n)).elementType=e,t.type=r,t.lanes=l,t}function qc(e,t,s,r){return(e=Uc(7,e,r,t)).lanes=s,e}function Hc(e,t,s,r){return(e=Uc(22,e,r,t)).elementType=R,e.lanes=s,e.stateNode={isHidden:!1},e}function Gc(e,t,s){return(e=Uc(6,e,null,t)).lanes=s,e}function $c(e,t,s){return(t=Uc(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yc(e,t,s,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kt(0),this.expirationTimes=kt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Qc(e,t,s,r,n,a,l,i,o){return e=new Yc(e,t,s,i,o),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Uc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ha(a),e}function Kc(e){if(!e)return Mn;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var s=e.type;if(Bn(s))return qn(e,s,t)}return t}function Jc(e,t,s,r,n,a,l,i,o){return(e=Qc(s,r,!0,e,0,a,0,i,o)).context=Kc(null),s=e.current,(a=$a(r=cc(),n=dc(s))).callback=void 0!==t&&null!==t?t:null,Ya(s,a,n),e.current.lanes=n,_t(e,n,r),mc(e,r),e}function Xc(e,t,s,r){var n=t.current,a=cc(),l=dc(n);return s=Kc(s),null===t.context?t.context=s:t.pendingContext=s,(t=$a(a,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ya(n,t,l))&&(uc(e,n,l,a),Qa(e,n,l)),l}function Zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}Ao=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||In.current)Si=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return Si=!1,function(e,t,s){switch(t.tag){case 3:Oi(t),Na();break;case 5:ll(t);break;case 1:Bn(t.type)&&Hn(t);break;case 4:nl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;Dn(Pa,r._currentValue),r._currentValue=n;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Dn(ol,1&ol.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Hi(e,t,s):(Dn(ol,1&ol.current),null!==(e=Xi(e,t,s))?e.sibling:null);Dn(ol,1&ol.current);break;case 19:if(r=0!==(s&t.childLanes),0!==(128&e.flags)){if(r)return Ki(e,t,s);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Dn(ol,ol.current),r)break;return null;case 22:case 23:return t.lanes=0,Ai(e,t,s)}return Xi(e,t,s)}(e,t,s);Si=0!==(131072&e.flags)}else Si=!1,pa&&0!==(1048576&t.flags)&&oa(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ji(e,t),e=t.pendingProps;var n=Un(t,On.current);Ia(t,s),n=kl(null,t,r,e,n,s);var l=_l();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bn(r)?(l=!0,Hn(t)):l=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Ha(t),n.updater=mi,t.stateNode=n,n._reactInternals=t,fi(t,r,e,s),t=Mi(null,t,r,!0,l,s)):(t.tag=0,pa&&l&&ca(t),Ei(null,t,n,s),t=t.child),t;case 16:r=t.elementType;e:{switch(Ji(e,t),e=t.pendingProps,r=(n=r._init)(r._payload),t.type=r,n=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===P)return 14}return 2}(r),e=di(r,e),n){case 0:t=Ti(null,t,r,e,s);break e;case 1:t=Di(null,t,r,e,s);break e;case 11:t=Fi(null,t,r,e,s);break e;case 14:t=Li(null,t,r,di(r.type,e),s);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,Ti(e,t,r,n=t.elementType===r?n:di(r,n),s);case 1:return r=t.type,n=t.pendingProps,Di(e,t,r,n=t.elementType===r?n:di(r,n),s);case 3:e:{if(Oi(t),null===e)throw Error(a(387));r=t.pendingProps,n=(l=t.memoizedState).element,Ga(e,t),Ja(t,r,null,s);var i=t.memoizedState;if(r=i.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ii(e,t,r,s,n=gi(Error(a(423)),t));break e}if(r!==n){t=Ii(e,t,r,s,n=gi(Error(a(424)),t));break e}for(ma=bn(t.stateNode.containerInfo.firstChild),ua=t,pa=!0,xa=null,s=La(t,null,r,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(Na(),r===n){t=Xi(e,t,s);break e}Ei(e,t,r,s)}t=t.child}return t;case 5:return ll(t),null===e&&ba(t),r=t.type,n=t.pendingProps,l=null!==e?e.memoizedProps:null,i=n.children,un(r,n)?i=null:null!==l&&un(r,l)&&(t.flags|=32),Ri(e,t),Ei(e,t,i,s),t.child;case 6:return null===e&&ba(t),null;case 13:return Hi(e,t,s);case 4:return nl(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Fa(t,null,r,s):Ei(e,t,r,s),t.child;case 11:return r=t.type,n=t.pendingProps,Fi(e,t,r,n=t.elementType===r?n:di(r,n),s);case 7:return Ei(e,t,t.pendingProps,s),t.child;case 8:case 12:return Ei(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,l=t.memoizedProps,i=n.value,Dn(Pa,r._currentValue),r._currentValue=i,null!==l)if(hr(l.value,i)){if(l.children===n.children&&!In.current){t=Xi(e,t,s);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===l.tag){(c=$a(-1,s&-s)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=s,null!==(c=l.alternate)&&(c.lanes|=s),Oa(l.return,s,t),o.lanes|=s;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(a(341));i.lanes|=s,null!==(o=i.alternate)&&(o.lanes|=s),Oa(i,s,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}Ei(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,Ia(t,s),r=r(n=za(n)),t.flags|=1,Ei(e,t,r,s),t.child;case 14:return n=di(r=t.type,t.pendingProps),Li(e,t,r,n=di(r.type,n),s);case 15:return Pi(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:di(r,n),Ji(e,t),t.tag=1,Bn(r)?(e=!0,Hn(t)):e=!1,Ia(t,s),xi(t,r,n),fi(t,r,n,s),Mi(null,t,r,!0,e,s);case 19:return Ki(e,t,s);case 22:return Ai(e,t,s)}throw Error(a(156,t.tag))};var sd="function"===typeof reportError?reportError:function(e){console.error(e)};function rd(e){this._internalRoot=e}function nd(e){this._internalRoot=e}function ad(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ld(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function id(){}function od(e,t,s,r,n){var a=s._reactRootContainer;if(a){var l=a;if("function"===typeof n){var i=n;n=function(){var e=Zc(l);i.call(e)}}Xc(t,l,e,n)}else l=function(e,t,s,r,n){if(n){if("function"===typeof r){var a=r;r=function(){var e=Zc(l);a.call(e)}}var l=Jc(t,r,e,0,null,!1,0,"",id);return e._reactRootContainer=l,e[wn]=l.current,Kr(8===e.nodeType?e.parentNode:e),yc(),l}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof r){var i=r;r=function(){var e=Zc(o);i.call(e)}}var o=Qc(e,0,!1,null,0,!1,0,"",id);return e._reactRootContainer=o,e[wn]=o.current,Kr(8===e.nodeType?e.parentNode:e),yc(function(){Xc(t,o,s,r)}),o}(s,t,e,n,r);return Zc(l)}nd.prototype.render=rd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xc(e,t,null,null)},nd.prototype.unmount=rd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;yc(function(){Xc(null,e,null,null)}),t[wn]=null}},nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Vt.length&&0!==t&&t<Vt[s].priority;s++);Vt.splice(s,0,e),0===s&&Gt(e)}},Ft=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=bt(t.pendingLanes);0!==s&&(Ct(t,1|s),mc(t,nt()),0===(6&Oo)&&(Jo=nt()+500,Jn()))}break;case 13:yc(function(){var t=Wa(e,1);if(null!==t){var s=cc();uc(t,e,1,s)}}),td(e,1)}},Lt=function(e){if(13===e.tag){var t=Wa(e,134217728);if(null!==t)uc(t,e,134217728,cc());td(e,134217728)}},Pt=function(e){if(13===e.tag){var t=dc(e),s=Wa(e,t);if(null!==s)uc(s,e,t,cc());td(e,t)}},At=function(){return St},Rt=function(e,t){var s=St;try{return St=e,t()}finally{St=s}},je=function(e,t,s){switch(t){case"input":if(X(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var n=Ln(r);if(!n)throw Error(a(90));$(r),X(r,n)}}}break;case"textarea":ae(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},Se=bc,Ee=yc;var cd={usingClientEntryPoint:!1,Events:[En,Fn,Ln,_e,Ce,bc]},dd={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ud={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{ut=md.inject(ud),mt=md}catch(qe){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cd,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ad(t))throw Error(a(200));return function(e,t,s){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!ad(e))throw Error(a(299));var s=!1,r="",n=sd;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Qc(e,1,!1,null,0,s,0,r,n),e[wn]=t.current,Kr(8===e.nodeType?e.parentNode:e),new rd(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return yc(e)},t.hydrate=function(e,t,s){if(!ld(t))throw Error(a(200));return od(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!ad(e))throw Error(a(405));var r=null!=s&&s.hydratedSources||null,n=!1,l="",i=sd;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(n=!0),void 0!==s.identifierPrefix&&(l=s.identifierPrefix),void 0!==s.onRecoverableError&&(i=s.onRecoverableError)),t=Jc(t,null,e,1,null!=s?s:null,n,0,l,i),e[wn]=t.current,Kr(e),r)for(e=0;e<r.length;e++)n=(n=(s=r[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new nd(t)},t.render=function(e,t,s){if(!ld(t))throw Error(a(200));return od(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!ld(e))throw Error(a(40));return!!e._reactRootContainer&&(yc(function(){od(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0)},t.unstable_batchedUpdates=bc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!ld(s))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return od(e,t,s,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,s)=>{e.exports=s(234)},950:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(730)}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,s),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var a=Object.create(null);s.r(a);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&r;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>l[e]=()=>r[e]);return l.default=()=>r,s.d(a,l),a}})(),s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};s.r(r),s.d(r,{hasBrowserEnv:()=>lr,hasStandardBrowserEnv:()=>or,hasStandardBrowserWebWorkerEnv:()=>cr,navigator:()=>ir,origin:()=>dr});var n,a=s(43),l=s.t(a,2),i=s(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Be){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,s,r){return void 0===s&&(s=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:s,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function x(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,t,s,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,i=a.history,u=n.Pop,h=null,f=g();function g(){return(i.state||{idx:null}).idx}function b(){u=n.Pop;let e=g(),t=null==e?null:e-f;f=e,h&&h({action:u,location:v.location,delta:t})}function y(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,s="string"===typeof e?e:x(e);return s=s.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==f&&(f=0,i.replaceState(o({},i.state,{idx:f}),""));let v={get action(){return u},get location(){return e(a,i)},listen(e){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(c,b),h=e,()=>{a.removeEventListener(c,b),h=null}},createHref:e=>t(a,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=n.Push;let r=p(v.location,e,t);s&&s(r,e),f=g()+1;let o=m(r,f),c=v.createHref(r);try{i.pushState(o,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;a.location.assign(c)}l&&h&&h({action:u,location:v.location,delta:1})},replace:function(e,t){u=n.Replace;let r=p(v.location,e,t);s&&s(r,e),f=g();let a=m(r,f),o=v.createHref(r);i.replaceState(a,"",o),l&&h&&h({action:u,location:v.location,delta:0})},go:e=>i.go(e)};return v}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,s){return void 0===s&&(s="/"),y(e,t,s,!1)}function y(e,t,s,r){let n=R(("string"===typeof t?h(t):t).pathname||"/",s);if(null==n)return null;let a=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let l=null;for(let i=0;null==l&&i<a.length;++i){let e=A(n);l=L(a[i],e,r)}return l}function v(e,t,s,r){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===r&&(r="");let n=(e,n,a)=>{let l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};l.relativePath.startsWith("/")&&(d(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(r.length));let i=I([r,l.relativePath]),o=s.concat(l);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),v(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:F(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let r of j(e.path))n(e,t,r);else n(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[s,...r]=t,n=s.endsWith("?"),a=s.replace(/\?$/,"");if(0===r.length)return n?[a,""]:[a];let l=j(r.join("/")),i=[];return i.push(...l.map(e=>""===e?a:[a,e].join("/"))),n&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,w=3,k=2,_=1,C=10,S=-2,E=e=>"*"===e;function F(e,t){let s=e.split("/"),r=s.length;return s.some(E)&&(r+=S),t&&(r+=k),s.filter(e=>!E(e)).reduce((e,t)=>e+(N.test(t)?w:""===t?_:C),r)}function L(e,t,s){void 0===s&&(s=!1);let{routesMeta:r}=e,n={},a="/",l=[];for(let i=0;i<r.length;++i){let e=r[i],o=i===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&s&&!r[r.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),l.push({params:n,pathname:I([a,d.pathname]),pathnameBase:z(I([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=I([a,d.pathnameBase]))}return l}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(r.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let a=new RegExp(n,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let a=n[0],l=a.replace(/(.)\/+$/,"$1"),i=n.slice(1);return{params:r.reduce((e,t,s)=>{let{paramName:r,isOptional:n}=t;if("*"===r){let e=i[s]||"";l=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[s];return e[r]=n&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:l,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&"/"!==r?null:e.slice(s)||"/"}function T(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let s=D(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function O(e,t,s,r){let n;void 0===r&&(r=!1),"string"===typeof e?n=h(e):(n=o({},e),d(!n.pathname||!n.pathname.includes("?"),T("?","pathname","search",n)),d(!n.pathname||!n.pathname.includes("#"),T("#","pathname","hash",n)),d(!n.search||!n.search.includes("#"),T("#","search","hash",n)));let a,l=""===e||""===n.pathname,i=l?"/":n.pathname;if(null==i)a=s;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:s,search:r="",hash:n=""}="string"===typeof e?h(e):e,a=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:a,search:U(r),hash:B(n)}}(n,a),u=i&&"/"!==i&&i.endsWith("/"),m=(l||"."===i)&&s.endsWith("/");return c.pathname.endsWith("/")||!u&&!m||(c.pathname+="/"),c}const I=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],q=(new Set(W),["get",...W]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},H.apply(this,arguments)}const G=a.createContext(null);const $=a.createContext(null);const Y=a.createContext(null);const Q=a.createContext(null);const K=a.createContext({outlet:null,matches:[],isDataRoute:!1});const J=a.createContext(null);function X(){return null!=a.useContext(Q)}function Z(){return X()||d(!1),a.useContext(Q).location}function ee(e){a.useContext(Y).static||a.useLayoutEffect(e)}function te(){let{isDataRoute:e}=a.useContext(K);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=pe(de.UseNavigateStable),s=a.useRef(!1);return ee(()=>{s.current=!0}),a.useCallback(function(r,n){void 0===n&&(n={}),s.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},n)))},[e,t])}():function(){X()||d(!1);let e=a.useContext(G),{basename:t,future:s,navigator:r}=a.useContext(Y),{matches:n}=a.useContext(K),{pathname:l}=Z(),i=JSON.stringify(M(n,s.v7_relativeSplatPath)),o=a.useRef(!1);return ee(()=>{o.current=!0}),a.useCallback(function(s,n){if(void 0===n&&(n={}),!o.current)return;if("number"===typeof s)return void r.go(s);let a=O(s,JSON.parse(i),l,"path"===n.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:I([t,a.pathname])),(n.replace?r.replace:r.push)(a,n.state,n)},[t,r,i,l,e])}()}function se(e,t){let{relative:s}=void 0===t?{}:t,{future:r}=a.useContext(Y),{matches:n}=a.useContext(K),{pathname:l}=Z(),i=JSON.stringify(M(n,r.v7_relativeSplatPath));return a.useMemo(()=>O(e,JSON.parse(i),l,"path"===s),[e,i,l,s])}function re(e,t,s,r){X()||d(!1);let{navigator:l}=a.useContext(Y),{matches:i}=a.useContext(K),o=i[i.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,p=Z();if(t){var x;let e="string"===typeof t?h(t):t;"/"===u||(null==(x=e.pathname)?void 0:x.startsWith(u))||d(!1),m=e}else m=p;let f=m.pathname||"/",g=f;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:g});let v=oe(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:I([u,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:I([u,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,s,r);return t&&v?a.createElement(Q.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:n.Pop}},v):v}function ne(){let e=function(){var e;let t=a.useContext(J),s=me(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==t)return t;return null==(e=s.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),s?a.createElement("pre",{style:n},s):null,null)}const ae=a.createElement(ne,null);class le extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(K.Provider,{value:this.props.routeContext},a.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:s,children:r}=e,n=a.useContext(G);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),a.createElement(K.Provider,{value:t},r)}function oe(e,t,s,r){var n;if(void 0===t&&(t=[]),void 0===s&&(s=null),void 0===r&&(r=null),null==e){var l;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(l=r)&&l.v7_partialHydration&&0===t.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let i=e,o=null==(n=s)?void 0:n.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(s&&r&&r.v7_partialHydration)for(let a=0;a<i.length;a++){let e=i[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:r}=s,n=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||n){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,r,n)=>{let l,d=!1,m=null,p=null;var x;s&&(l=o&&r.route.id?o[r.route.id]:void 0,m=r.route.errorElement||ae,c&&(u<0&&0===n?(x="route-fallback",!1||xe[x]||(xe[x]=!0),d=!0,p=null):u===n&&(d=!0,p=r.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,n+1)),f=()=>{let t;return t=l?m:d?p:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(ie,{match:r,routeContext:{outlet:e,matches:h,isDataRoute:null!=s},children:t})};return s&&(r.route.ErrorBoundary||r.route.errorElement||0===n)?a.createElement(le,{location:s.location,revalidation:s.revalidation,component:m,error:l,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let t=a.useContext(G);return t||d(!1),t}function me(e){let t=a.useContext($);return t||d(!1),t}function pe(e){let t=function(){let e=a.useContext(K);return e||d(!1),e}(),s=t.matches[t.matches.length-1];return s.route.id||d(!1),s.route.id}const xe={};function he(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function fe(e){let{to:t,replace:s,state:r,relative:n}=e;X()||d(!1);let{future:l,static:i}=a.useContext(Y),{matches:o}=a.useContext(K),{pathname:c}=Z(),u=te(),m=O(t,M(o,l.v7_relativeSplatPath),c,"path"===n),p=JSON.stringify(m);return a.useEffect(()=>u(JSON.parse(p),{replace:s,state:r,relative:n}),[u,p,n,s,r]),null}function ge(e){d(!1)}function be(e){let{basename:t="/",children:s=null,location:r,navigationType:l=n.Pop,navigator:i,static:o=!1,future:c}=e;X()&&d(!1);let u=t.replace(/^\/*/,"/"),m=a.useMemo(()=>({basename:u,navigator:i,static:o,future:H({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);"string"===typeof r&&(r=h(r));let{pathname:p="/",search:x="",hash:f="",state:g=null,key:b="default"}=r,y=a.useMemo(()=>{let e=R(p,u);return null==e?null:{location:{pathname:e,search:x,hash:f,state:g,key:b},navigationType:l}},[u,p,x,f,g,b,l]);return null==y?null:a.createElement(Y.Provider,{value:m},a.createElement(Q.Provider,{children:s,value:y}))}function ye(e){let{children:t,location:s}=e;return re(ve(t),s)}new Promise(()=>{});a.Component;function ve(e,t){void 0===t&&(t=[]);let s=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let n=[...t,r];if(e.type===a.Fragment)return void s.push.apply(s,ve(e.props.children,n));e.type!==ge&&d(!1),e.props.index&&e.props.children&&d(!1);let l={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=ve(e.props.children,n)),s.push(l)}),s}var je=s(950),Ne=s.t(je,2);function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},we.apply(this,arguments)}function ke(e,t){if(null==e)return{};var s,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}function _e(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let r=e[s];return t.concat(Array.isArray(r)?r.map(e=>[s,e]):[[s,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Be){}new Map;const Se=l.startTransition;Ne.flushSync,l.useId;function Ee(e){let{basename:t,children:s,future:r,window:n}=e,l=a.useRef();var i;null==l.current&&(l.current=(void 0===(i={window:n,v5Compat:!0})&&(i={}),f(function(e,t){let{pathname:s,search:r,hash:n}=e.location;return p("",{pathname:s,search:r,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:x(t)},null,i)));let o=l.current,[c,d]=a.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},m=a.useCallback(e=>{u&&Se?Se(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>o.listen(m),[o,m]),a.useEffect(()=>he(r),[r]),a.createElement(be,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:o,future:r})}const Fe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=a.forwardRef(function(e,t){let s,{onClick:r,relative:n,reloadDocument:l,replace:i,state:o,target:c,to:u,preventScrollReset:m,viewTransition:p}=e,h=ke(e,Ce),{basename:f}=a.useContext(Y),g=!1;if("string"===typeof u&&Le.test(u)&&(s=u,Fe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),s=R(t.pathname,f);t.origin===e.origin&&null!=s?u=s+t.search+t.hash:g=!0}catch(Be){}let b=function(e,t){let{relative:s}=void 0===t?{}:t;X()||d(!1);let{basename:r,navigator:n}=a.useContext(Y),{hash:l,pathname:i,search:o}=se(e,{relative:s}),c=i;return"/"!==r&&(c="/"===i?r:I([r,i])),n.createHref({pathname:c,search:o,hash:l})}(u,{relative:n}),y=function(e,t){let{target:s,replace:r,state:n,preventScrollReset:l,relative:i,viewTransition:o}=void 0===t?{}:t,c=te(),d=Z(),u=se(e,{relative:i});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,s)){t.preventDefault();let s=void 0!==r?r:x(d)===x(u);c(e,{replace:s,state:n,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,r,n,s,e,l,i,o])}(u,{replace:i,state:o,target:c,preventScrollReset:m,relative:n,viewTransition:p});return a.createElement("a",we({},h,{href:s||b,onClick:g||l?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:c}))});var Ae,Re;function Te(e){let t=a.useRef(_e(e)),s=a.useRef(!1),r=Z(),n=a.useMemo(()=>function(e,t){let s=_e(e);return t&&t.forEach((e,r)=>{s.has(r)||t.getAll(r).forEach(e=>{s.append(r,e)})}),s}(r.search,s.current?null:t.current),[r.search]),l=te(),i=a.useCallback((e,t)=>{const r=_e("function"===typeof e?e(n):e);s.current=!0,l("?"+r,t)},[l,n]);return[n,i]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ae||(Ae={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Re||(Re={}));function De(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Oe(e){var t=function(e,t){if("object"!=Me(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Me(t)?t:t+""}function Ie(e,t,s){return(t=Oe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ze(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function Ue(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(s),!0).forEach(function(t){Ie(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ze(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}let Be={data:""},Ve=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Be},We=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qe=/\/\*[^]*?\*\/|  +/g,He=/\n+/g,Ge=(e,t)=>{let s="",r="",n="";for(let a in e){let l=e[a];"@"==a[0]?"i"==a[1]?s=a+" "+l+";":r+="f"==a[1]?Ge(l,a):a+"{"+Ge(l,"k"==a[1]?"":t)+"}":"object"==typeof l?r+=Ge(l,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=l&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Ge.p?Ge.p(a,l):a+":"+l+";")}return s+(t&&n?t+"{"+n+"}":n)+r},$e={},Ye=e=>{if("object"==typeof e){let t="";for(let s in e)t+=s+Ye(e[s]);return t}return e},Qe=(e,t,s,r,n)=>{let a=Ye(e),l=$e[a]||($e[a]=(e=>{let t=0,s=11;for(;t<e.length;)s=101*s+e.charCodeAt(t++)>>>0;return"go"+s})(a));if(!$e[l]){let t=a!==e?e:(e=>{let t,s,r=[{}];for(;t=We.exec(e.replace(qe,""));)t[4]?r.shift():t[3]?(s=t[3].replace(He," ").trim(),r.unshift(r[0][s]=r[0][s]||{})):r[0][t[1]]=t[2].replace(He," ").trim();return r[0]})(e);$e[l]=Ge(n?{["@keyframes "+l]:t}:t,s?"":"."+l)}let i=s&&$e.g?$e.g:null;return s&&($e.g=$e[l]),((e,t,s,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=s?e+t.data:t.data+e)})($e[l],t,r,i),l};function Ke(e){let t=this||{},s=e.call?e(t.p):e;return Qe(s.unshift?s.raw?((e,t,s)=>e.reduce((e,r,n)=>{let a=t[n];if(a&&a.call){let e=a(s),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":Ge(e,""):!1===e?"":e}return e+r+(null==a?"":a)},""))(s,[].slice.call(arguments,1),t.p):s.reduce((e,s)=>Object.assign(e,s&&s.call?s(t.p):s),{}):s,Ve(t.target),t.g,t.o,t.k)}Ke.bind({g:1});let Je,Xe,Ze,et=Ke.bind({k:1});function tt(e,t){let s=this||{};return function(){let r=arguments;function n(a,l){let i=Object.assign({},a),o=i.className||n.className;s.p=Object.assign({theme:Xe&&Xe()},i),s.o=/ *go\d+/.test(o),i.className=Ke.apply(s,r)+(o?" "+o:""),t&&(i.ref=l);let c=e;return e[0]&&(c=i.as||e,delete i.as),Ze&&c[0]&&Ze(i),Je(c,i)}return t?t(n):n}}var st,rt,nt,at,lt,it,ot,ct,dt,ut,mt,pt,xt,ht,ft,gt,bt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,yt=(()=>{let e=0;return()=>(++e).toString()})(),vt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),jt="default",Nt=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return Ue(Ue({},e),{},{toasts:[t.toast,...e.toasts].slice(0,s)});case 1:return Ue(Ue({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Ue(Ue({},e),t.toast):e)});case 2:let{toast:r}=t;return Nt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return Ue(Ue({},e),{},{toasts:e.toasts.map(e=>e.id===n||void 0===n?Ue(Ue({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Ue(Ue({},e),{},{toasts:[]}):Ue(Ue({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Ue(Ue({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return Ue(Ue({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Ue(Ue({},e),{},{pauseDuration:e.pauseDuration+a}))})}},wt=[],kt={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},_t={},Ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt;_t[t]=Nt(_t[t]||kt,e),wt.forEach(e=>{let[s,r]=e;s===t&&r(_t[t])})},St=e=>Object.keys(_t).forEach(t=>Ct(e,t)),Et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return t=>{Ct(t,e)}},Ft={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Lt=e=>(t,s)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",s=arguments.length>2?arguments[2]:void 0;return Ue(Ue({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},s),{},{id:(null==s?void 0:s.id)||yt()})}(t,e,s);return Et(r.toasterId||(e=>Object.keys(_t).find(t=>_t[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Pt=(e,t)=>Lt("blank")(e,t);Pt.error=Lt("error"),Pt.success=Lt("success"),Pt.loading=Lt("loading"),Pt.custom=Lt("custom"),Pt.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Et(t)(s):St(s)},Pt.dismissAll=e=>Pt.dismiss(void 0,e),Pt.remove=(e,t)=>{let s={type:4,toastId:e};t?Et(t)(s):St(s)},Pt.removeAll=e=>Pt.remove(void 0,e),Pt.promise=(e,t,s)=>{let r=Pt.loading(t.loading,Ue(Ue({},s),null==s?void 0:s.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let n=t.success?bt(t.success,e):void 0;return n?Pt.success(n,Ue(Ue({id:r},s),null==s?void 0:s.success)):Pt.dismiss(r),e}).catch(e=>{let n=t.error?bt(t.error,e):void 0;n?Pt.error(n,Ue(Ue({id:r},s),null==s?void 0:s.error)):Pt.dismiss(r)}),e};var At=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:s,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt,[s,r]=(0,a.useState)(_t[t]||kt),n=(0,a.useRef)(_t[t]);(0,a.useEffect)(()=>(n.current!==_t[t]&&r(_t[t]),wt.push([t,r]),()=>{let e=wt.findIndex(e=>{let[s]=e;return s===t});e>-1&&wt.splice(e,1)}),[t]);let l=s.toasts.map(t=>{var s,r,n;return Ue(Ue(Ue(Ue({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(s=e[t.type])?void 0:s.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Ft[t.type],style:Ue(Ue(Ue({},e.style),null==(n=e[t.type])?void 0:n.style),t.style)})});return Ue(Ue({},s),{},{toasts:l})}(e,t),n=(0,a.useRef)(new Map).current,l=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(n.has(e))return;let s=setTimeout(()=>{n.delete(e),i({type:4,toastId:e})},t);n.set(e,s)},[]);(0,a.useEffect)(()=>{if(r)return;let e=Date.now(),n=s.map(s=>{if(s.duration===1/0)return;let r=(s.duration||0)+s.pauseDuration-(e-s.createdAt);if(!(r<0))return setTimeout(()=>Pt.dismiss(s.id,t),r);s.visible&&Pt.dismiss(s.id)});return()=>{n.forEach(e=>e&&clearTimeout(e))}},[s,r,t]);let i=(0,a.useCallback)(Et(t),[t]),o=(0,a.useCallback)(()=>{i({type:5,time:Date.now()})},[i]),c=(0,a.useCallback)((e,t)=>{i({type:1,toast:{id:e,height:t}})},[i]),d=(0,a.useCallback)(()=>{r&&i({type:6,time:Date.now()})},[r,i]),u=(0,a.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:n=8,defaultPosition:a}=t||{},l=s.filter(t=>(t.position||a)===(e.position||a)&&t.height),i=l.findIndex(t=>t.id===e.id),o=l.filter((e,t)=>t<i&&e.visible).length;return l.filter(e=>e.visible).slice(...r?[o+1]:[0,o]).reduce((e,t)=>e+(t.height||0)+n,0)},[s]);return(0,a.useEffect)(()=>{s.forEach(e=>{if(e.dismissed)l(e.id,e.removeDelay);else{let t=n.get(e.id);t&&(clearTimeout(t),n.delete(e.id))}})},[s,l]),{toasts:s,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},Rt=et(st||(st=De(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Tt=et(rt||(rt=De(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Dt=et(nt||(nt=De(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Mt=tt("div")(at||(at=De(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Rt,Tt,e=>e.secondary||"#fff",Dt),Ot=et(lt||(lt=De(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),It=tt("div")(it||(it=De(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Ot),zt=et(ot||(ot=De(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Ut=et(ct||(ct=De(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Bt=tt("div")(dt||(dt=De(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",zt,Ut,e=>e.secondary||"#fff"),Vt=tt("div")(ut||(ut=De(["\n  position: absolute;\n"]))),Wt=tt("div")(mt||(mt=De(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),qt=et(pt||(pt=De(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Ht=tt("div")(xt||(xt=De(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),qt),Gt=e=>{let{toast:t}=e,{icon:s,type:r,iconTheme:n}=t;return void 0!==s?"string"==typeof s?a.createElement(Ht,null,s):s:"blank"===r?null:a.createElement(Wt,null,a.createElement(It,Ue({},n)),"loading"!==r&&a.createElement(Vt,null,"error"===r?a.createElement(Mt,Ue({},n)):a.createElement(Bt,Ue({},n))))},$t=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Yt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Qt=tt("div")(ht||(ht=De(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Kt=tt("div")(ft||(ft=De(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Jt=a.memo(e=>{let{toast:t,position:s,style:r,children:n}=e,l=t.height?((e,t)=>{let s=e.includes("top")?1:-1,[r,n]=vt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[$t(s),Yt(s)];return{animation:t?"".concat(et(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(et(n)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||s||"top-center",t.visible):{opacity:0},i=a.createElement(Gt,{toast:t}),o=a.createElement(Kt,Ue({},t.ariaProps),bt(t.message,t));return a.createElement(Qt,{className:t.className,style:Ue(Ue(Ue({},l),r),t.style)},"function"==typeof n?n({icon:i,message:o}):a.createElement(a.Fragment,null,i,o))});!function(e,t,s,r){Ge.p=t,Je=e,Xe=s,Ze=r}(a.createElement);var Xt=e=>{let{id:t,className:s,style:r,onHeightUpdate:n,children:l}=e,i=a.useCallback(e=>{if(e){let s=()=>{let s=e.getBoundingClientRect().height;n(t,s)};s(),new MutationObserver(s).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return a.createElement("div",{ref:i,className:s,style:r},l)},Zt=Ke(gt||(gt=De(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),es=e=>{let{reverseOrder:t,position:s="top-center",toastOptions:r,gutter:n,children:l,toasterId:i,containerStyle:o,containerClassName:c}=e,{toasts:d,handlers:u}=At(r,i);return a.createElement("div",{"data-rht-toaster":i||"",style:Ue({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},o),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(e=>{let r=e.position||s,i=((e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Ue(Ue({left:0,right:0,display:"flex",position:"absolute",transition:vt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(s?1:-1),"px)")},r),n)})(r,u.calculateOffset(e,{reverseOrder:t,gutter:n,defaultPosition:s}));return a.createElement(Xt,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?Zt:"",style:i},"custom"===e.type?bt(e.message,e):l?l(e):a.createElement(Jt,{toast:e,position:r}))}))};function ts(e,t){return function(){return e.apply(t,arguments)}}const{toString:ss}=Object.prototype,{getPrototypeOf:rs}=Object,{iterator:ns,toStringTag:as}=Symbol,ls=(is=Object.create(null),e=>{const t=ss.call(e);return is[t]||(is[t]=t.slice(8,-1).toLowerCase())});var is;const os=e=>(e=e.toLowerCase(),t=>ls(t)===e),cs=e=>t=>typeof t===e,{isArray:ds}=Array,us=cs("undefined");function ms(e){return null!==e&&!us(e)&&null!==e.constructor&&!us(e.constructor)&&hs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ps=os("ArrayBuffer");const xs=cs("string"),hs=cs("function"),fs=cs("number"),gs=e=>null!==e&&"object"===typeof e,bs=e=>{if("object"!==ls(e))return!1;const t=rs(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(as in e)&&!(ns in e)},ys=os("Date"),vs=os("File"),js=os("Blob"),Ns=os("FileList"),ws=os("URLSearchParams"),[ks,_s,Cs,Ss]=["ReadableStream","Request","Response","Headers"].map(os);function Es(e,t){let s,r,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ds(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{if(ms(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let l;for(s=0;s<a;s++)l=r[s],t.call(null,e[l],l,e)}}function Fs(e,t){if(ms(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r,n=s.length;for(;n-- >0;)if(r=s[n],t===r.toLowerCase())return r;return null}const Ls="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ps=e=>!us(e)&&e!==Ls;const As=(Rs="undefined"!==typeof Uint8Array&&rs(Uint8Array),e=>Rs&&e instanceof Rs);var Rs;const Ts=os("HTMLFormElement"),Ds=(e=>{let{hasOwnProperty:t}=e;return(e,s)=>t.call(e,s)})(Object.prototype),Ms=os("RegExp"),Os=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Es(s,(s,n)=>{let a;!1!==(a=t(s,n,e))&&(r[n]=a||s)}),Object.defineProperties(e,r)};const Is=os("AsyncFunction"),zs=((e,t)=>{return e?setImmediate:t?(s="axios@".concat(Math.random()),r=[],Ls.addEventListener("message",e=>{let{source:t,data:n}=e;t===Ls&&n===s&&r.length&&r.shift()()},!1),e=>{r.push(e),Ls.postMessage(s,"*")}):e=>setTimeout(e);var s,r})("function"===typeof setImmediate,hs(Ls.postMessage)),Us="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ls):"undefined"!==typeof process&&process.nextTick||zs,Bs={isArray:ds,isArrayBuffer:ps,isBuffer:ms,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||hs(e.append)&&("formdata"===(t=ls(e))||"object"===t&&hs(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ps(e.buffer),t},isString:xs,isNumber:fs,isBoolean:e=>!0===e||!1===e,isObject:gs,isPlainObject:bs,isEmptyObject:e=>{if(!gs(e)||ms(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Be){return!1}},isReadableStream:ks,isRequest:_s,isResponse:Cs,isHeaders:Ss,isUndefined:us,isDate:ys,isFile:vs,isBlob:js,isRegExp:Ms,isFunction:hs,isStream:e=>gs(e)&&hs(e.pipe),isURLSearchParams:ws,isTypedArray:As,isFileList:Ns,forEach:Es,merge:function e(){const{caseless:t,skipUndefined:s}=Ps(this)&&this||{},r={},n=(n,a)=>{const l=t&&Fs(r,a)||a;bs(r[l])&&bs(n)?r[l]=e(r[l],n):bs(n)?r[l]=e({},n):ds(n)?r[l]=n.slice():s&&us(n)||(r[l]=n)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Es(arguments[a],n);return r},extend:function(e,t,s){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Es(t,(t,r)=>{s&&hs(t)?e[r]=ts(t,s):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,r)=>{let n,a,l;const i={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),a=n.length;a-- >0;)l=n[a],r&&!r(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==s&&rs(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:ls,kindOfTest:os,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return-1!==r&&r===s},toArray:e=>{if(!e)return null;if(ds(e))return e;let t=e.length;if(!fs(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[ns]).call(e);let r;for(;(r=s.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const r=[];for(;null!==(s=e.exec(t));)r.push(s);return r},isHTMLForm:Ts,hasOwnProperty:Ds,hasOwnProp:Ds,reduceDescriptors:Os,freezeMethods:e=>{Os(e,(t,s)=>{if(hs(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const r=e[s];hs(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet:(e,t)=>{const s={},r=e=>{e.forEach(e=>{s[e]=!0})};return ds(e)?r(e):r(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,s){return t.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Fs,global:Ls,isContextDefined:Ps,isSpecCompliantForm:function(e){return!!(e&&hs(e.append)&&"FormData"===e[as]&&e[ns])},toJSONObject:e=>{const t=new Array(10),s=(e,r)=>{if(gs(e)){if(t.indexOf(e)>=0)return;if(ms(e))return e;if(!("toJSON"in e)){t[r]=e;const n=ds(e)?[]:{};return Es(e,(e,t)=>{const a=s(e,r+1);!us(a)&&(n[t]=a)}),t[r]=void 0,n}}return e};return s(e,0)},isAsyncFn:Is,isThenable:e=>e&&(gs(e)||hs(e))&&hs(e.then)&&hs(e.catch),setImmediate:zs,asap:Us,isIterable:e=>null!=e&&hs(e[ns])};function Vs(e,t,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}Bs.inherits(Vs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Bs.toJSONObject(this.config),code:this.code,status:this.status}}});const Ws=Vs.prototype,qs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qs[e]={value:e}}),Object.defineProperties(Vs,qs),Object.defineProperty(Ws,"isAxiosError",{value:!0}),Vs.from=(e,t,s,r,n,a)=>{const l=Object.create(Ws);Bs.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",o=null==t&&e?e.code:t;return Vs.call(l,i,o,s,r,n),e&&null==l.cause&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",a&&Object.assign(l,a),l};const Hs=Vs;function Gs(e){return Bs.isPlainObject(e)||Bs.isArray(e)}function $s(e){return Bs.endsWith(e,"[]")?e.slice(0,-2):e}function Ys(e,t,s){return e?e.concat(t).map(function(e,t){return e=$s(e),!s&&t?"["+e+"]":e}).join(s?".":""):t}const Qs=Bs.toFlatObject(Bs,{},null,function(e){return/^is[A-Z]/.test(e)});const Ks=function(e,t,s){if(!Bs.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(s=Bs.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Bs.isUndefined(t[e])})).metaTokens,n=s.visitor||c,a=s.dots,l=s.indexes,i=(s.Blob||"undefined"!==typeof Blob&&Blob)&&Bs.isSpecCompliantForm(t);if(!Bs.isFunction(n))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(Bs.isDate(e))return e.toISOString();if(Bs.isBoolean(e))return e.toString();if(!i&&Bs.isBlob(e))throw new Hs("Blob is not supported. Use a Buffer instead.");return Bs.isArrayBuffer(e)||Bs.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,n){let i=e;if(e&&!n&&"object"===typeof e)if(Bs.endsWith(s,"{}"))s=r?s:s.slice(0,-2),e=JSON.stringify(e);else if(Bs.isArray(e)&&function(e){return Bs.isArray(e)&&!e.some(Gs)}(e)||(Bs.isFileList(e)||Bs.endsWith(s,"[]"))&&(i=Bs.toArray(e)))return s=$s(s),i.forEach(function(e,r){!Bs.isUndefined(e)&&null!==e&&t.append(!0===l?Ys([s],r,a):null===l?s:s+"[]",o(e))}),!1;return!!Gs(e)||(t.append(Ys(n,s,a),o(e)),!1)}const d=[],u=Object.assign(Qs,{defaultVisitor:c,convertValue:o,isVisitable:Gs});if(!Bs.isObject(e))throw new TypeError("data must be an object");return function e(s,r){if(!Bs.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+r.join("."));d.push(s),Bs.forEach(s,function(s,a){!0===(!(Bs.isUndefined(s)||null===s)&&n.call(t,s,Bs.isString(a)?a.trim():a,r,u))&&e(s,r?r.concat(a):[a])}),d.pop()}}(e),t};function Js(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Xs(e,t){this._pairs=[],e&&Ks(e,this,t)}const Zs=Xs.prototype;Zs.append=function(e,t){this._pairs.push([e,t])},Zs.toString=function(e){const t=e?function(t){return e.call(this,t,Js)}:Js;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const er=Xs;function tr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function sr(e,t,s){if(!t)return e;const r=s&&s.encode||tr;Bs.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let a;if(a=n?n(t,s):Bs.isURLSearchParams(t)?t.toString():new er(t,s).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const rr=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Bs.forEach(this.handlers,function(t){null!==t&&e(t)})}},nr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ar={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:er,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},lr="undefined"!==typeof window&&"undefined"!==typeof document,ir="object"===typeof navigator&&navigator||void 0,or=lr&&(!ir||["ReactNative","NativeScript","NS"].indexOf(ir.product)<0),cr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,dr=lr&&window.location.href||"http://localhost",ur=Ue(Ue({},r),ar);const mr=function(e){function t(e,s,r,n){let a=e[n++];if("__proto__"===a)return!0;const l=Number.isFinite(+a),i=n>=e.length;if(a=!a&&Bs.isArray(r)?r.length:a,i)return Bs.hasOwnProp(r,a)?r[a]=[r[a],s]:r[a]=s,!l;r[a]&&Bs.isObject(r[a])||(r[a]=[]);return t(e,s,r[a],n)&&Bs.isArray(r[a])&&(r[a]=function(e){const t={},s=Object.keys(e);let r;const n=s.length;let a;for(r=0;r<n;r++)a=s[r],t[a]=e[a];return t}(r[a])),!l}if(Bs.isFormData(e)&&Bs.isFunction(e.entries)){const s={};return Bs.forEachEntry(e,(e,r)=>{t(function(e){return Bs.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,s,0)}),s}return null};const pr={transitional:nr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,n=Bs.isObject(e);n&&Bs.isHTMLForm(e)&&(e=new FormData(e));if(Bs.isFormData(e))return r?JSON.stringify(mr(e)):e;if(Bs.isArrayBuffer(e)||Bs.isBuffer(e)||Bs.isStream(e)||Bs.isFile(e)||Bs.isBlob(e)||Bs.isReadableStream(e))return e;if(Bs.isArrayBufferView(e))return e.buffer;if(Bs.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ks(e,new ur.classes.URLSearchParams,Ue({visitor:function(e,t,s,r){return ur.isNode&&Bs.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Bs.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ks(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||r?(t.setContentType("application/json",!1),function(e,t,s){if(Bs.isString(e))try{return(t||JSON.parse)(e),Bs.trim(e)}catch(Be){if("SyntaxError"!==Be.name)throw Be}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||pr.transitional,s=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Bs.isResponse(e)||Bs.isReadableStream(e))return e;if(e&&Bs.isString(e)&&(s&&!this.responseType||r)){const s=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(Be){if(s){if("SyntaxError"===Be.name)throw Hs.from(Be,Hs.ERR_BAD_RESPONSE,this,null,this.response);throw Be}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Bs.forEach(["delete","get","head","post","put","patch"],e=>{pr.headers[e]={}});const xr=pr,hr=Bs.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fr=Symbol("internals");function gr(e){return e&&String(e).trim().toLowerCase()}function br(e){return!1===e||null==e?e:Bs.isArray(e)?e.map(br):String(e)}function yr(e,t,s,r,n){return Bs.isFunction(r)?r.call(this,t,s):(n&&(t=s),Bs.isString(t)?Bs.isString(r)?-1!==t.indexOf(r):Bs.isRegExp(r)?r.test(t):void 0:void 0)}class vr{constructor(e){e&&this.set(e)}set(e,t,s){const r=this;function n(e,t,s){const n=gr(t);if(!n)throw new Error("header name must be a non-empty string");const a=Bs.findKey(r,n);(!a||void 0===r[a]||!0===s||void 0===s&&!1!==r[a])&&(r[a||t]=br(e))}const a=(e,t)=>Bs.forEach(e,(e,s)=>n(e,s,t));if(Bs.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Bs.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let s,r,n;return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),s=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!s||t[s]&&hr[s]||("set-cookie"===s?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t})(e),t);else if(Bs.isObject(e)&&Bs.isIterable(e)){let s,r,n={};for(const t of e){if(!Bs.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[r=t[0]]=(s=n[r])?Bs.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}a(n,t)}else null!=e&&n(t,e,s);return this}get(e,t){if(e=gr(e)){const s=Bs.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}(e);if(Bs.isFunction(t))return t.call(this,e,s);if(Bs.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=gr(e)){const s=Bs.findKey(this,e);return!(!s||void 0===this[s]||t&&!yr(0,this[s],s,t))}return!1}delete(e,t){const s=this;let r=!1;function n(e){if(e=gr(e)){const n=Bs.findKey(s,e);!n||t&&!yr(0,s[n],n,t)||(delete s[n],r=!0)}}return Bs.isArray(e)?e.forEach(n):n(e),r}clear(e){const t=Object.keys(this);let s=t.length,r=!1;for(;s--;){const n=t[s];e&&!yr(0,this[n],n,e,!0)||(delete this[n],r=!0)}return r}normalize(e){const t=this,s={};return Bs.forEach(this,(r,n)=>{const a=Bs.findKey(s,n);if(a)return t[a]=br(r),void delete t[n];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}(n):String(n).trim();l!==n&&delete t[n],t[l]=br(r),s[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Bs.forEach(this,(s,r)=>{null!=s&&!1!==s&&(t[r]=e&&Bs.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,s]=e;return t+": "+s}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var s=arguments.length,r=new Array(s>1?s-1:0),n=1;n<s;n++)r[n-1]=arguments[n];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[fr]=this[fr]={accessors:{}}).accessors,s=this.prototype;function r(e){const r=gr(e);t[r]||(!function(e,t){const s=Bs.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(e,s,n){return this[r].call(this,t,e,s,n)},configurable:!0})})}(s,e),t[r]=!0)}return Bs.isArray(e)?e.forEach(r):r(e),this}}vr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Bs.reduceDescriptors(vr.prototype,(e,t)=>{let{value:s}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(e){this[r]=e}}}),Bs.freezeMethods(vr);const jr=vr;function Nr(e,t){const s=this||xr,r=t||s,n=jr.from(r.headers);let a=r.data;return Bs.forEach(e,function(e){a=e.call(s,a,n.normalize(),t?t.status:void 0)}),n.normalize(),a}function wr(e){return!(!e||!e.__CANCEL__)}function kr(e,t,s){Hs.call(this,null==e?"canceled":e,Hs.ERR_CANCELED,t,s),this.name="CanceledError"}Bs.inherits(kr,Hs,{__CANCEL__:!0});const _r=kr;function Cr(e,t,s){const r=s.config.validateStatus;s.status&&r&&!r(s.status)?t(new Hs("Request failed with status code "+s.status,[Hs.ERR_BAD_REQUEST,Hs.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const Sr=function(e,t){e=e||10;const s=new Array(e),r=new Array(e);let n,a=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=r[l];n||(n=o),s[a]=i,r[a]=o;let d=l,u=0;for(;d!==a;)u+=s[d++],d%=e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),o-n<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const Er=function(e,t){let s,r,n=0,a=1e3/t;const l=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=a,s=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-n;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=a?l(o,e):(s=o,r||(r=setTimeout(()=>{r=null,l(s)},a-t)))},()=>s&&l(s)]},Fr=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const n=Sr(50,250);return Er(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,i=a-r,o=n(i);r=a;e({loaded:a,total:l,progress:l?a/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&a<=l?(l-a)/o:void 0,event:s,lengthComputable:null!=l,[t?"download":"upload"]:!0})},s)},Lr=(e,t)=>{const s=null!=e;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Pr=e=>function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return Bs.asap(()=>e(...s))},Ar=ur.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,ur.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(ur.origin),ur.navigator&&/(msie|trident)/i.test(ur.navigator.userAgent)):()=>!0,Rr=ur.hasStandardBrowserEnv?{write(e,t,s,r,n,a){const l=[e+"="+encodeURIComponent(t)];Bs.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),Bs.isString(r)&&l.push("path="+r),Bs.isString(n)&&l.push("domain="+n),!0===a&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Tr(e,t,s){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Dr=e=>e instanceof jr?Ue({},e):e;function Mr(e,t){t=t||{};const s={};function r(e,t,s,r){return Bs.isPlainObject(e)&&Bs.isPlainObject(t)?Bs.merge.call({caseless:r},e,t):Bs.isPlainObject(t)?Bs.merge({},t):Bs.isArray(t)?t.slice():t}function n(e,t,s,n){return Bs.isUndefined(t)?Bs.isUndefined(e)?void 0:r(void 0,e,0,n):r(e,t,0,n)}function a(e,t){if(!Bs.isUndefined(t))return r(void 0,t)}function l(e,t){return Bs.isUndefined(t)?Bs.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(s,n,a){return a in t?r(s,n):a in e?r(void 0,s):void 0}const o={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,s)=>n(Dr(e),Dr(t),0,!0)};return Bs.forEach(Object.keys(Ue(Ue({},e),t)),function(r){const a=o[r]||n,l=a(e[r],t[r],r);Bs.isUndefined(l)&&a!==i||(s[r]=l)}),s}const Or=e=>{const t=Mr({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:a,headers:l,auth:i}=t;if(t.headers=l=jr.from(l),t.url=sr(Tr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),Bs.isFormData(s))if(ur.hasStandardBrowserEnv||ur.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Bs.isFunction(s.getHeaders)){const e=s.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[s,r]=e;t.includes(s.toLowerCase())&&l.set(s,r)})}if(ur.hasStandardBrowserEnv&&(r&&Bs.isFunction(r)&&(r=r(t)),r||!1!==r&&Ar(t.url))){const e=n&&a&&Rr.read(a);e&&l.set(n,e)}return t},Ir="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,s){const r=Or(e);let n=r.data;const a=jr.from(r.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=r;function x(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let h=new XMLHttpRequest;function f(){if(!h)return;const r=jr.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Cr(function(e){t(e),x()},function(e){s(e),x()},{data:u&&"text"!==u&&"json"!==u?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout,"onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(f)},h.onabort=function(){h&&(s(new Hs("Request aborted",Hs.ECONNABORTED,e,h)),h=null)},h.onerror=function(t){const r=t&&t.message?t.message:"Network Error",n=new Hs(r,Hs.ERR_NETWORK,e,h);n.event=t||null,s(n),h=null},h.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const n=r.transitional||nr;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),s(new Hs(t,n.clarifyTimeoutError?Hs.ETIMEDOUT:Hs.ECONNABORTED,e,h)),h=null},void 0===n&&a.setContentType(null),"setRequestHeader"in h&&Bs.forEach(a.toJSON(),function(e,t){h.setRequestHeader(t,e)}),Bs.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),u&&"json"!==u&&(h.responseType=r.responseType),p&&([o,d]=Fr(p,!0),h.addEventListener("progress",o)),m&&h.upload&&([i,c]=Fr(m),h.upload.addEventListener("progress",i),h.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(l=t=>{h&&(s(!t||t.type?new _r(null,e,h):t),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===ur.protocols.indexOf(g)?s(new Hs("Unsupported protocol "+g+":",Hs.ERR_BAD_REQUEST,e)):h.send(n||null)})},zr=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,r=new AbortController;const n=function(e){if(!s){s=!0,l();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Hs?t:new _r(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,n(new Hs("timeout ".concat(t," of ms exceeded"),Hs.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)}),e=null)};e.forEach(e=>e.addEventListener("abort",n));const{signal:i}=r;return i.unsubscribe=()=>Bs.asap(l),i}};function Ur(e,t){this.v=e,this.k=t}function Br(e){return function(){return new Vr(e.apply(this,arguments))}}function Vr(e){var t,s;function r(t,s){try{var a=e[t](s),l=a.value,i=l instanceof Ur;Promise.resolve(i?l.v:l).then(function(s){if(i){var o="return"===t?"return":"next";if(!l.k||s.done)return r(o,s);s=e[o](s).value}n(a.done?"return":"normal",s)},function(e){r("throw",e)})}catch(e){n("throw",e)}}function n(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?r(t.key,t.arg):s=null}this._invoke=function(e,n){return new Promise(function(a,l){var i={key:e,arg:n,resolve:a,reject:l,next:null};s?s=s.next=i:(t=s=i,r(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}function Wr(e){return new Ur(e,0)}function qr(e){var t={},s=!1;function r(t,r){return s=!0,r=new Promise(function(s){s(e[t](r))}),{done:!1,value:new Ur(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return s?(s=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(s)throw s=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return s?(s=!1,e):r("return",e)}),t}function Hr(e){var t,s,r,n=2;for("undefined"!=typeof Symbol&&(s=Symbol.asyncIterator,r=Symbol.iterator);n--;){if(s&&null!=(t=e[s]))return t.call(e);if(r&&null!=(t=e[r]))return new Gr(t.call(e));s="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Gr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Gr=function(e){this.s=e,this.n=e.next},Gr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):t(s.apply(this.s,arguments))},throw:function(e){var s=this.s.return;return void 0===s?Promise.reject(e):t(s.apply(this.s,arguments))}},new Gr(e)}Vr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Vr.prototype.next=function(e){return this._invoke("next",e)},Vr.prototype.throw=function(e){return this._invoke("throw",e)},Vr.prototype.return=function(e){return this._invoke("return",e)};const $r=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let r,n=0;for(;n<s;)r=n+t,yield e.slice(n,r),n=r},Yr=function(){var e=Br(function*(e,t){var s,r=!1,n=!1;try{for(var a,l=Hr(Qr(e));r=!(a=yield Wr(l.next())).done;r=!1){const e=a.value;yield*qr(Hr($r(e,t)))}}catch(i){n=!0,s=i}finally{try{r&&null!=l.return&&(yield Wr(l.return()))}finally{if(n)throw s}}});return function(t,s){return e.apply(this,arguments)}}(),Qr=function(){var e=Br(function*(e){if(e[Symbol.asyncIterator])return void(yield*qr(Hr(e)));const t=e.getReader();try{for(;;){const{done:e,value:s}=yield Wr(t.read());if(e)break;yield s}}finally{yield Wr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Kr=(e,t,s,r)=>{const n=Yr(e,t);let a,l=0,i=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await n.next();if(t)return i(),void e.close();let a=r.byteLength;if(s){let e=l+=a;s(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),n.return())},{highWaterMark:2})},{isFunction:Jr}=Bs,Xr=(e=>{let{Request:t,Response:s}=e;return{Request:t,Response:s}})(Bs.global),{ReadableStream:Zr,TextEncoder:en}=Bs.global,tn=function(e){try{for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return!!e(...s)}catch(Be){return!1}},sn=e=>{e=Bs.merge.call({skipUndefined:!0},Xr,e);const{fetch:t,Request:s,Response:r}=e,n=t?Jr(t):"function"===typeof fetch,a=Jr(s),l=Jr(r);if(!n)return!1;const i=n&&Jr(Zr),o=n&&("function"===typeof en?(c=new en,e=>c.encode(e)):async e=>new Uint8Array(await new s(e).arrayBuffer()));var c;const d=a&&i&&tn(()=>{let e=!1;const t=new s(ur.origin,{body:new Zr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=l&&i&&tn(()=>Bs.isReadableStream(new r("").body)),m={stream:u&&(e=>e.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,s)=>{let r=t&&t[e];if(r)return r.call(t);throw new Hs("Response type '".concat(e,"' is not supported"),Hs.ERR_NOT_SUPPORT,s)})});const p=async(e,t)=>{const r=Bs.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Bs.isBlob(e))return e.size;if(Bs.isSpecCompliantForm(e)){const t=new s(ur.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Bs.isArrayBufferView(e)||Bs.isArrayBuffer(e)?e.byteLength:(Bs.isURLSearchParams(e)&&(e+=""),Bs.isString(e)?(await o(e)).byteLength:void 0)})(t):r};return async e=>{let{url:n,method:l,data:i,signal:o,cancelToken:c,timeout:x,onDownloadProgress:h,onUploadProgress:f,responseType:g,headers:b,withCredentials:y="same-origin",fetchOptions:v}=Or(e),j=t||fetch;g=g?(g+"").toLowerCase():"text";let N=zr([o,c&&c.toAbortSignal()],x),w=null;const k=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let _;try{if(f&&d&&"get"!==l&&"head"!==l&&0!==(_=await p(b,i))){let e,t=new s(n,{method:"POST",body:i,duplex:"half"});if(Bs.isFormData(i)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,s]=Lr(_,Fr(Pr(f)));i=Kr(t.body,65536,e,s)}}Bs.isString(y)||(y=y?"include":"omit");const t=a&&"credentials"in s.prototype,o=Ue(Ue({},v),{},{signal:N,method:l.toUpperCase(),headers:b.normalize().toJSON(),body:i,duplex:"half",credentials:t?y:void 0});w=a&&new s(n,o);let c=await(a?j(w,v):j(n,o));const x=u&&("stream"===g||"response"===g);if(u&&(h||x&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Bs.toFiniteNumber(c.headers.get("content-length")),[s,n]=h&&Lr(t,Fr(Pr(h),!0))||[];c=new r(Kr(c.body,65536,s,()=>{n&&n(),k&&k()}),e)}g=g||"text";let C=await m[Bs.findKey(m,g)||"text"](c,e);return!x&&k&&k(),await new Promise((t,s)=>{Cr(t,s,{data:C,headers:jr.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(C){if(k&&k(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Hs("Network Error",Hs.ERR_NETWORK,e,w),{cause:C.cause||C});throw Hs.from(C,C&&C.code,e,w)}}},rn=new Map,nn=e=>{let t=e?e.env:{};const{fetch:s,Request:r,Response:n}=t,a=[r,n,s];let l,i,o=a.length,c=rn;for(;o--;)l=a[o],i=c.get(l),void 0===i&&c.set(l,i=o?new Map:sn(t)),c=i;return i},an=(nn(),{http:null,xhr:Ir,fetch:{get:nn}});Bs.forEach(an,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Be){}Object.defineProperty(e,"adapterName",{value:t})}});const ln=e=>"- ".concat(e),on=e=>Bs.isFunction(e)||null===e||!1===e,cn=(e,t)=>{e=Bs.isArray(e)?e:[e];const{length:s}=e;let r,n;const a={};for(let l=0;l<s;l++){let s;if(r=e[l],n=r,!on(r)&&(n=an[(s=String(r)).toLowerCase()],void 0===n))throw new Hs("Unknown adapter '".concat(s,"'"));if(n&&(Bs.isFunction(n)||(n=n.get(t))))break;a[s||"#"+l]=n}if(!n){const e=Object.entries(a).map(e=>{let[t,s]=e;return"adapter ".concat(t," ")+(!1===s?"is not supported by the environment":"is not available in the build")});let t=s?e.length>1?"since :\n"+e.map(ln).join("\n"):" "+ln(e[0]):"as no adapter specified";throw new Hs("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return n};function dn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _r(null,e)}function un(e){dn(e),e.headers=jr.from(e.headers),e.data=Nr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return cn(e.adapter||xr.adapter,e)(e).then(function(t){return dn(e),t.data=Nr.call(e,e.transformResponse,t),t.headers=jr.from(t.headers),t},function(t){return wr(t)||(dn(e),t&&t.response&&(t.response.data=Nr.call(e,e.transformResponse,t.response),t.response.headers=jr.from(t.response.headers))),Promise.reject(t)})}const mn="1.12.2",pn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{pn[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const xn={};pn.transitional=function(e,t,s){function r(e,t){return"[Axios v"+mn+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,n,a)=>{if(!1===e)throw new Hs(r(n," has been removed"+(t?" in "+t:"")),Hs.ERR_DEPRECATED);return t&&!xn[n]&&(xn[n]=!0,console.warn(r(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,n,a)}},pn.spelling=function(e){return(t,s)=>(console.warn("".concat(s," is likely a misspelling of ").concat(e)),!0)};const hn={assertOptions:function(e,t,s){if("object"!==typeof e)throw new Hs("options must be an object",Hs.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const a=r[n],l=t[a];if(l){const t=e[a],s=void 0===t||l(t,a,e);if(!0!==s)throw new Hs("option "+a+" must be "+s,Hs.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new Hs("Unknown option "+a,Hs.ERR_BAD_OPTION)}},validators:pn},fn=hn.validators;class gn{constructor(e){this.defaults=e||{},this.interceptors={request:new rr,response:new rr}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(Be){}}throw s}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Mr(this.defaults,t);const{transitional:s,paramsSerializer:r,headers:n}=t;void 0!==s&&hn.assertOptions(s,{silentJSONParsing:fn.transitional(fn.boolean),forcedJSONParsing:fn.transitional(fn.boolean),clarifyTimeoutError:fn.transitional(fn.boolean)},!1),null!=r&&(Bs.isFunction(r)?t.paramsSerializer={serialize:r}:hn.assertOptions(r,{encode:fn.function,serialize:fn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),hn.assertOptions(t,{baseUrl:fn.spelling("baseURL"),withXsrfToken:fn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=n&&Bs.merge(n.common,n[t.method]);n&&Bs.forEach(["delete","get","head","post","put","patch","common"],e=>{delete n[e]}),t.headers=jr.concat(a,n);const l=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[un.bind(this),void 0];for(e.unshift(...l),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=un.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return sr(Tr((e=Mr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Bs.forEach(["delete","get","head","options"],function(e){gn.prototype[e]=function(t,s){return this.request(Mr(s||{},{method:e,url:t,data:(s||{}).data}))}}),Bs.forEach(["post","put","patch"],function(e){function t(t){return function(s,r,n){return this.request(Mr(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:r}))}}gn.prototype[e]=t(),gn.prototype[e+"Form"]=t(!0)});const bn=gn;class yn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{s.subscribe(e),t=e}).then(e);return r.cancel=function(){s.unsubscribe(t)},r},e(function(e,r,n){s.reason||(s.reason=new _r(e,r,n),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new yn(function(t){e=t});return{token:t,cancel:e}}}const vn=yn;const jn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jn).forEach(e=>{let[t,s]=e;jn[s]=t});const Nn=jn;const wn=function e(t){const s=new bn(t),r=ts(bn.prototype.request,s);return Bs.extend(r,bn.prototype,s,{allOwnKeys:!0}),Bs.extend(r,s,null,{allOwnKeys:!0}),r.create=function(s){return e(Mr(t,s))},r}(xr);wn.Axios=bn,wn.CanceledError=_r,wn.CancelToken=vn,wn.isCancel=wr,wn.VERSION=mn,wn.toFormData=Ks,wn.AxiosError=Hs,wn.Cancel=wn.CanceledError,wn.all=function(e){return Promise.all(e)},wn.spread=function(e){return function(t){return e.apply(null,t)}},wn.isAxiosError=function(e){return Bs.isObject(e)&&!0===e.isAxiosError},wn.mergeConfig=Mr,wn.AxiosHeaders=jr,wn.formToJSON=e=>mr(Bs.isHTMLForm(e)?new FormData(e):e),wn.getAdapter=cn,wn.HttpStatusCode=Nn,wn.default=wn;const kn=wn,_n="https://backend.getnayi.com",Cn=kn.create({baseURL:_n,withCredentials:!0,headers:{"Content-Type":"application/json"},timeout:1e4});Cn.interceptors.request.use(e=>{var t;const s=localStorage.getItem("auth_token");return s&&(e.headers.Authorization="Bearer ".concat(s)),null!==(t=e.url)&&void 0!==t&&t.includes("approve")&&(console.log("=== APPROVE REQUEST DEBUG ==="),console.log("URL:",e.url),console.log("Method:",e.method),console.log("Data (before transform):",e.data),console.log("Da ta type:",typeof e.data),console.log("Headers:",JSON.stringify(e.headers,null,2)),console.log("===========================")),e},e=>(console.error("Request error:",e),Promise.reject(e))),Cn.interceptors.response.use(e=>(console.log("Response received:",e.status,e.config.url),e),e=>{var t,s;return console.error("Response error:",null===(t=e.response)||void 0===t?void 0:t.status,null===(s=e.config)||void 0===s?void 0:s.url,e.message),Promise.reject(e)});const Sn=async e=>(await Cn.post("/api/auth/request-otp",{phone:e})).data,En=async(e,t)=>(await Cn.post("/api/auth/verify-otp",{phone:e,code:t})).data,Fn=async(e,t,s,r)=>(await Cn.post("/api/auth/signup",{onboardingToken:e,username:t,full_name:s,preferences:r})).data,Ln=async()=>(await Cn.get("/api/me")).data,Pn=async()=>{const e=await Cn.post("/api/auth/logout");return localStorage.removeItem("auth_token"),e.data},An=async()=>(await Cn.get("/api/categories")).data,Rn=async()=>(await Cn.get("/api/admin/categories")).data,Tn=async e=>(await Cn.post("/api/admin/categories",e)).data,Dn=async(e,t)=>(await Cn.put("/api/admin/categories/".concat(e),t)).data,Mn=async e=>(await Cn.post("/api/providers",e)).data,On=async e=>(await Cn.put("/api/providers/me",e)).data,In=async()=>(await Cn.get("/api/providers/me")).data,zn=async()=>(await Cn.get("/api/providers/request-status")).data,Un=async e=>{const t=new FormData;t.append("video",e);const s=localStorage.getItem("auth_token"),r={"Content-Type":"multipart/form-data"};s&&(r.Authorization="Bearer ".concat(s));return(await kn.post("".concat(_n,"/api/upload/video"),t,{withCredentials:!0,headers:r,timeout:3e5,onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);console.log("Upload progress: ".concat(t,"%"))}})).data},Bn=async e=>{const t=new FormData;t.append("image",e);const s=localStorage.getItem("auth_token"),r={"Content-Type":"multipart/form-data"};s&&(r.Authorization="Bearer ".concat(s));return(await kn.post("".concat(_n,"/api/upload/image"),t,{withCredentials:!0,headers:r,timeout:12e4,onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);console.log("Image upload progress: ".concat(t,"%"))}})).data},Vn=async e=>(await Cn.post("/api/videos",e)).data,Wn=async e=>(await Cn.post("/api/listings",e)).data,qn=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/listings",{params:e})).data},Hn=async()=>(await Cn.get("/api/listings/my")).data,Gn=async e=>(await Cn.post("/api/listings/".concat(e,"/like"))).data,$n=async e=>(await Cn.delete("/api/listings/".concat(e,"/like"))).data,Yn=async e=>(await Cn.get("/api/listings/".concat(e,"/like/status"))).data,Qn=async e=>(await Cn.post("/api/listings/".concat(e,"/love"))).data,Kn=async e=>(await Cn.delete("/api/listings/".concat(e,"/love"))).data,Jn=async e=>(await Cn.get("/api/listings/".concat(e,"/love/status"))).data,Xn=async e=>(await Cn.post("/api/listings/".concat(e,"/click"))).data,Zn=async()=>(await Cn.get("/api/subscription/status")).data,ea=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;return(await Cn.post("/api/subscription/subscribe",{duration_months:e})).data},ta=async e=>(await Cn.post("/api/subscription/coupons/validate",e)).data,sa=async()=>(await Cn.get("/api/wishlist")).data,ra=async e=>(await Cn.post("/api/wishlist/".concat(e))).data,na=async e=>(await Cn.delete("/api/wishlist/".concat(e))).data,aa={follow:async e=>(await Cn.post("/api/users/".concat(e,"/follow"))).data,unfollow:async e=>(await Cn.delete("/api/users/".concat(e,"/follow"))).data,getFollowStatus:async e=>(await Cn.get("/api/users/".concat(e,"/follow/status"))).data,getFollowers:async e=>(await Cn.get("/api/users/".concat(e,"/followers"))).data,getFollowing:async e=>(await Cn.get("/api/users/".concat(e,"/following"))).data,getProfile:async()=>(await Cn.get("/api/user/profile")).data,getProfileByUsername:async e=>(await Cn.get("/api/profile/".concat(e))).data,updateProfile:async e=>(await Cn.put("/api/user/profile",e)).data,submitVideoUploadRequest:async e=>(await Cn.post("/api/video-upload-request",e)).data,submitPromotion:async e=>(await Cn.post("/api/promotion-submission",e)).data,getPromotionSubmissions:async()=>(await Cn.get("/api/promotion-submissions")).data,getMyVideos:async()=>(await Cn.get("/api/videos/my")).data},la={getFeed:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(await Cn.get("/api/watch/feed",{params:{limit:e,offset:t}})).data},getFeedWithAdminPriority:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(await Cn.get("/api/watch/feed/admin-priority",{params:{limit:e,offset:t}})).data},getVideoDetails:async e=>(await Cn.get("/api/watch/".concat(e))).data,engage:async(e,t)=>(await Cn.post("/api/watch/".concat(e,"/engage"),{listing_id:e,action:t})).data,like:async e=>(await Cn.post("/api/watch/".concat(e,"/like"))).data,unlike:async e=>(await Cn.delete("/api/watch/".concat(e,"/like"))).data,getLikeStatus:async e=>(await Cn.get("/api/watch/".concat(e,"/like/status"))).data,love:async e=>await la.engage(e,"love"),view:async e=>await la.engage(e,"view"),click:async e=>await la.engage(e,"click"),getVideosByProvider:async e=>(await Cn.get("/api/watch/provider/".concat(e,"/videos"))).data,getProductsByProvider:async e=>(await Cn.get("/api/watch/provider/".concat(e,"/products"))).data},ia=async()=>(await Cn.get("/api/admin/dashboard")).data,oa=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30d";return(await Cn.get("/api/admin/reports",{params:{date_range:e}})).data},ca=async()=>(await Cn.get("/api/admin/reports/test")).data,da=async()=>(await Cn.get("/api/admin/reports/simple")).data,ua=async()=>(await Cn.get("/api/admin/settings")).data,ma=async(e,t)=>(await Cn.put("/api/admin/settings/".concat(e),t)).data,pa=async e=>(await Cn.post("/api/admin/create-admin",e)).data,xa=async e=>(await Cn.post("/api/admin/roles",e)).data,ha=async(e,t)=>(await Cn.put("/api/admin/roles/".concat(e),t)).data,fa=async e=>(await Cn.delete("/api/admin/roles/".concat(e))).data,ga=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/admin/users",{params:e})).data},ba=async e=>(await Cn.get("/api/admin/users/".concat(e))).data,ya=async(e,t)=>(await Cn.put("/api/admin/users/".concat(e,"/status"),{status:t})).data,va=async e=>(await Cn.delete("/api/admin/users/".concat(e))).data,ja=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/admin/influencers",{params:e})).data},Na=async e=>(await Cn.get("/api/admin/influencers/".concat(e))).data,wa=async function(e,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r={action:t,reason:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""};s&&(r.request_id=s);return(await Cn.post("/api/admin/influencers/".concat(e,"/approve"),r)).data},ka=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/admin/brands",{params:e})).data},_a=async e=>(await Cn.get("/api/admin/brands/".concat(e))).data,Ca=async function(e,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r={action:t,reason:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""};s&&(r.request_id=s);return(await Cn.post("/api/admin/brands/".concat(e,"/approve"),r)).data},Sa=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(await Cn.post("/api/admin/videos/".concat(e,"/approve"),{action:t,reason:s})).data},Ea=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/admin/videos",{params:e})).data},Fa=async e=>(await Cn.get("/api/admin/videos/".concat(e))).data,La=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(await Cn.post("/api/admin/videos/".concat(e,"/moderate"),{action:t,reason:s,category:r})).data},Pa=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return(await Cn.post("/api/admin/videos/bulk-moderate",{video_ids:e,action:t,reason:s,category:r})).data},Aa=async e=>(await Cn.post("/api/admin/videos/upload",e)).data,Ra=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/admin/videos/admin-videos",{params:e})).data},Ta=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await Cn.get("/api/admin/listings",{params:e})).data},Da=async e=>(await Cn.get("/api/admin/listings/".concat(e))).data,Ma=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!t||!["approve","reject"].includes(t))throw new Error("Invalid action: ".concat(t,". Must be 'approve' or 'reject'"));const n={action:t,rejection_reason:s||"",admin_notes:r||""};console.log("Sending approve listing request:",{requestId:e,action:t,payload:n});try{return(await Cn.post("/api/admin/listings/".concat(e,"/approve"),n)).data}catch(a){throw console.error("Error in approveListing:",a),a.config&&(console.error("Request URL:",a.config.url),console.error("Request method:",a.config.method),console.error("Request data:",a.config.data),console.error("Request headers:",a.config.headers)),a}},Oa=async()=>(await Cn.get("/api/admin/subscription-plans")).data,Ia=async e=>(await Cn.post("/api/admin/subscription-plans",e)).data,za=async(e,t)=>(await Cn.put("/api/admin/subscription-plans/".concat(e),t)).data,Ua=async()=>(await Cn.get("/api/admin/discount-coupons")).data,Ba=async e=>(await Cn.post("/api/admin/discount-coupons",e)).data,Va=async(e,t)=>(await Cn.put("/api/admin/discount-coupons/".concat(e),t)).data,Wa=async()=>(await Cn.get("/api/admin/subscription-transactions")).data,qa=async()=>(await Cn.get("/api/admin/subscription-alerts")).data,Ha=async()=>(await Cn.get("/api/admin/promotion-submissions")).data,Ga=async(e,t)=>(await Cn.post("/api/admin/promotion-submissions/".concat(e,"/review"),t)).data,$a=async()=>(await Cn.get("/api/admin/promotion-analytics")).data,Ya=async()=>(await Cn.get("/api/admin/payment-transactions")).data,Qa=async()=>(await Cn.get("/api/admin/refund-requests")).data,Ka=async(e,t)=>(await Cn.post("/api/admin/refund-requests/".concat(e,"/initiate"),t)).data,Ja=async(e,t)=>{const s=new URLSearchParams;e&&s.append("type",e),t&&s.append("date",t);return(await Cn.get("/api/admin/revenue-reports?".concat(s.toString()))).data},Xa=async()=>(await Cn.get("/api/admin/payment-gateway-logs")).data,Za=async()=>(await Cn.get("/api/admin/payment-analytics")).data,el=async()=>(await Cn.get("/api/admin/notifications/push")).data,tl=async e=>(await Cn.post("/api/admin/notifications/push",e)).data,sl=async()=>(await Cn.get("/api/admin/notifications/email")).data,rl=async e=>(await Cn.post("/api/admin/notifications/email",e)).data,nl=async()=>(await Cn.get("/api/admin/support-tickets")).data,al=async(e,t)=>(await Cn.post("/api/admin/support-tickets/".concat(e,"/reply"),t)).data,ll=async()=>(await Cn.get("/api/admin/notifications/analytics")).data,il=async()=>(await Cn.get("/api/admin/cms/static-pages")).data,ol=async e=>(await Cn.post("/api/admin/cms/static-pages",e)).data,cl=async(e,t)=>(await Cn.put("/api/admin/cms/static-pages/".concat(e),t)).data,dl=async e=>(await Cn.delete("/api/admin/cms/static-pages/".concat(e))).data,ul=async()=>(await Cn.get("/api/admin/cms/faqs")).data,ml=async e=>(await Cn.post("/api/admin/cms/faqs",e)).data,pl=async(e,t)=>(await Cn.put("/api/admin/cms/faqs/".concat(e),t)).data,xl=async e=>(await Cn.delete("/api/admin/cms/faqs/".concat(e))).data,hl=async()=>(await Cn.get("/api/admin/cms/banners")).data,fl=async e=>(await Cn.post("/api/admin/cms/banners",e)).data,gl=async(e,t)=>(await Cn.put("/api/admin/cms/banners/".concat(e),t)).data,bl=async e=>(await Cn.delete("/api/admin/cms/banners/".concat(e))).data,yl=async()=>(await Cn.get("/api/admin/cms/featured-sections")).data,vl=async e=>(await Cn.post("/api/admin/cms/featured-sections",e)).data,jl=async(e,t)=>(await Cn.put("/api/admin/cms/featured-sections/".concat(e),t)).data,Nl=async e=>(await Cn.delete("/api/admin/cms/featured-sections/".concat(e))).data,wl=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(await Cn.get("/api/search/suggestions",{params:{q:e,limit:t}})).data},kl=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all";return(await Cn.get("/api/search",{params:{q:e,limit:t,type:s}})).data},_l=Cn;var Cl=s(579);const Sl=(0,a.createContext)(null),El=()=>{const e=(0,a.useContext)(Sl);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Fl=e=>{let{children:t}=e;const[s,r]=(0,a.useState)(null),[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{c()},[]);const c=async()=>{try{l(!0);const e=await Ln();e.ok&&e.user&&r(e.user)}catch(e){r(null)}finally{l(!1)}},d={user:s,loading:n,error:i,login:e=>{r(e)},logout:async()=>{try{await Pn(),r(null),localStorage.removeItem("auth_token")}catch(e){console.error("Logout error:",e),localStorage.removeItem("auth_token")}},checkAuth:c,isAuthenticated:!!s};return(0,Cl.jsx)(Sl.Provider,{value:d,children:t})},Ll=e=>{let{children:t,adminOnly:s=!1}=e;const{isAuthenticated:r,loading:n,user:a}=El();return n?(0,Cl.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#4B2BD6]"}),(0,Cl.jsx)("p",{className:"mt-4 text-gray-600 font-poppins",children:"Loading..."})]})}):r?!s||null!==a&&void 0!==a&&a.is_admin?t:(0,Cl.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this area."}),(0,Cl.jsx)("button",{onClick:()=>window.history.back(),className:"bg-[#4B2BD6] text-white px-6 py-2 rounded-lg hover:bg-[#3D24A8] transition-colors",children:"Go Back"})]})}):(0,Cl.jsx)(fe,{to:"/",replace:!0})},Pl=e=>{let{children:t}=e;const{isAuthenticated:s,loading:r}=El();return r?(0,Cl.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white p-4",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#4B2BD6]"}),(0,Cl.jsx)("p",{className:"mt-4 text-gray-600 font-poppins",children:"Loading..."})]})}):s&&"/"===window.location.pathname?(0,Cl.jsx)(fe,{to:"/watch",replace:!0}):t},Al=e=>{let{children:t}=e;const[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),c=Z(),d=te(),u=[{name:"Dashboard",path:"/admin/dashboard",permission:"dashboard",icon:(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"})})},{name:"Reports & Analytics",path:"/admin/reports",permission:"reports",icon:(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"Settings & Configuration",path:"/admin/settings",permission:"settings",icon:(0,Cl.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{name:"User Management",path:"/admin/users",permission:"user_management",icon:(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{name:"Influencer Management",path:"/admin/influencers",permission:"influencer_management",icon:(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})},{name:"Brand Management",path:"/admin/brands",permission:"brand_management",icon:(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{name:"Listing Management",path:"/admin/listings",permission:"listing_management",icon:(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"Video Management",path:"/admin/videos",permission:"video_management",icon:(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})},{name:"Subscription Management",path:"/admin/subscriptions",permission:"subscription_management",icon:(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})},{name:"Promotion Approval",path:"/admin/promotions",permission:"promotion_management",icon:(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{name:"Payment & Transactions",path:"/admin/payments",permission:"payment_management",icon:(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})},{name:"Notifications & Communication",path:"/admin/notifications",permission:"notification_management",icon:(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h6v-2H4v2zm0-4h6v-2H4v2zm0-4h6V9H4v2zm0-4h6V5H4v2zm12 0h2V5h-2v2z"})})},{name:"CMS (Content Management)",path:"/admin/cms",permission:"cms_management",icon:(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}];(0,a.useEffect)(()=>{const e=setTimeout(()=>{i&&(console.log("\ud83d\udd0d Permission loading timeout, setting fallback permissions"),l(["all"]),o(!1))},5e3);return(async()=>{try{const e=localStorage.getItem("admin_token");if(!e)return console.log("\ud83d\udd0d No admin token found, setting fallback permissions"),l(["all"]),void o(!1);const t=await fetch("/api/me",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();console.log("\ud83d\udd0d User data from /api/me:",e),e.user&&e.user.admin_role&&e.user.admin_role.permissions?(console.log("\ud83c\udfaf Setting permissions from admin role:",e.user.admin_role.permissions),l(e.user.admin_role.permissions)):e.user&&e.user.is_admin&&(console.log("\ud83c\udfaf Setting fallback permissions for admin user"),l(["all"]))}else console.log("\ud83d\udd0d API response not ok, setting fallback permissions"),l(["all"])}catch(e){console.error("Error fetching user permissions:",e),l(["all"])}finally{o(!1)}})(),()=>clearTimeout(e)},[]);const m=u.filter(e=>{return!(t=e.permission)||!!n.includes("all")||n.includes(t);var t});n.includes("all")&&console.log("\ud83c\udfaf SUPER ADMIN detected - showing all sidebar panels:",m.map(e=>e.name)),console.log("\ud83d\udd0d Current user permissions:",n),console.log("\ud83d\udd0d Filtered menu items count:",m.length),console.log("\ud83d\udd0d All menu items:",u.map(e=>e.name));const p=e=>c.pathname===e;return(0,Cl.jsxs)("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[s&&(0,Cl.jsx)("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>r(!1)}),(0,Cl.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-80 bg-gray-800 shadow-xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:h-full ".concat(s?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-600",children:[(0,Cl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cl.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-xl font-bold text-white",children:"GetNayi"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-300",children:"Admin Panel"})]})]}),(0,Cl.jsx)("button",{onClick:()=>r(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Cl.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:i?(0,Cl.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Cl.jsx)("div",{className:"w-6 h-6 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"})}):m.length>0?m.map(e=>(0,Cl.jsxs)(Pe,{to:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 ".concat(p(e.path)?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),onClick:()=>r(!1),children:[e.icon,(0,Cl.jsx)("span",{children:e.name})]},e.path)):u.map(e=>(0,Cl.jsxs)(Pe,{to:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 ".concat(p(e.path)?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),onClick:()=>r(!1),children:[e.icon,(0,Cl.jsx)("span",{children:e.name})]},e.path))}),!1,(0,Cl.jsxs)("div",{className:"border-t border-gray-600 p-4",children:[(0,Cl.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Cl.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:(0,Cl.jsx)("span",{className:"text-white font-semibold text-sm",children:"A"})}),(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-white",children:"Admin User"}),(0,Cl.jsx)("p",{className:"text-xs text-gray-300",children:"Super Admin"})]})]}),(0,Cl.jsxs)("button",{onClick:()=>{localStorage.removeItem("admin_token"),d("/admin/login")},className:"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-300 hover:bg-red-600 hover:text-white rounded-lg transition-colors",children:[(0,Cl.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,Cl.jsx)("span",{children:"Sign Out"})]})]})]}),(0,Cl.jsxs)("div",{className:"flex-1 h-full overflow-y-auto",children:[(0,Cl.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 lg:hidden",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between h-16 px-4",children:[(0,Cl.jsx)("button",{onClick:()=>r(!0),className:"text-gray-500 hover:text-gray-700",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cl.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),(0,Cl.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"GetNayi Admin"})]}),(0,Cl.jsx)("div",{className:"w-6"})]})}),(0,Cl.jsx)("main",{children:t})]})]})},Rl=e=>{let{activeTab:t}=e;const s=te(),r=Z(),{user:n}=El(),a=[{id:"home",label:"Home",path:"/home",icon:"home"},{id:"watch",label:"Watch",path:"/watch",icon:"play"},{id:"add",label:"List",path:"/listing",icon:"plus"},{id:"wishlist",label:"Wishlist",path:"/wishlist",icon:"heart"},{id:"profile",label:"Profile",path:"/profile",icon:"user"}],l=null!==n&&void 0!==n&&n.is_admin?[...a,{id:"admin",label:"Admin",path:"/admin/dashboard",icon:"admin"}]:a,i=(e,t)=>{const s=t?"#FFFFFF":"#6B7280",r="w-5 h-5";switch(e){case"home":return(0,Cl.jsx)("svg",{className:r,fill:t?s:"none",stroke:s,viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})});case"play":return(0,Cl.jsxs)("svg",{className:r,fill:t?s:"none",stroke:s,viewBox:"0 0 24 24",children:[(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]});case"plus":return(0,Cl.jsx)("svg",{className:r,fill:"none",stroke:s,viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"})});case"heart":return(0,Cl.jsx)("svg",{className:r,fill:t?s:"none",stroke:s,viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})});case"user":return(0,Cl.jsx)("svg",{className:r,fill:t?s:"none",stroke:s,viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})});case"admin":return(0,Cl.jsx)("svg",{className:r,fill:t?s:"none",stroke:s,viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})});default:return null}},o=e=>t?e.id===t:"/home"===e.path?"/home"===r.pathname:e.path&&r.pathname.startsWith(e.path);return(0,Cl.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-[9999] safe-bottom",style:{paddingBottom:"env(safe-area-inset-bottom, 0)"},children:(0,Cl.jsx)("div",{className:"bg-white mx-auto relative",style:{maxWidth:"calc(100% - 32px)",width:"100%",margin:"0 16px 16px",borderRadius:"24px",boxShadow:"0 12px 30px rgba(16, 24, 40, 0.12)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:(0,Cl.jsx)("div",{className:"flex justify-around items-center py-3 px-4",children:l.map(e=>(0,Cl.jsxs)("button",{onClick:()=>(e=>{e.path&&s(e.path)})(e),className:"flex flex-col items-center justify-center flex-1 py-1 relative",style:{minWidth:"44px",minHeight:"44px"},"aria-label":e.label,disabled:!e.path,children:[(0,Cl.jsx)("div",{className:"p-2 rounded-full transition-all duration-200",style:Ue({},o(e)?{background:"#4B2BD6",width:"44px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center"}:{background:"transparent"}),children:i(e.icon,o(e))}),(0,Cl.jsx)("span",{className:"text-xs font-medium mt-1 font-poppins",style:Ue({fontSize:"12px"},o(e)?{color:"#4B2BD6"}:{color:"#6B7280"}),children:e.label}),e.badge&&(0,Cl.jsx)("span",{className:"absolute top-0 right-4 bg-[#4B2BD6] text-white text-[10px] px-1.5 py-0.5 rounded-full font-medium",style:{right:"8px"},children:e.badge})]},e.id))})})})},Tl=()=>{const e=te(),{isAuthenticated:t,loading:s}=El(),r=(0,a.useRef)(null),n=window.matchMedia("(prefers-reduced-motion: reduce)").matches;(0,a.useEffect)(()=>{!s&&t&&e("/home",{replace:!0})},[t,s,e]),(0,a.useEffect)(()=>{if(n)return;const e=r.current;e&&(e.style.animation="fadeInSlide 0.8s ease-out")},[n]);return s||t?null:(0,Cl.jsxs)("div",{className:"min-h-screen w-full relative overflow-hidden flex flex-col",role:"main","aria-label":"Welcome to GetNayi",children:[(0,Cl.jsx)("div",{className:"absolute inset-0",style:{background:"radial-gradient(ellipse at center, #6A00FF 0%, #7C3AED 25%, #9333EA 45%, #A855F7 65%, #3B82F6 85%, #60A5FA 100%)"}}),(0,Cl.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-3/4 opacity-50",style:{background:"radial-gradient(ellipse 180% 120% at 15% 100%, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.6) 30%, rgba(255, 255, 255, 0.3) 50%, transparent 75%)",filter:"blur(100px)",transform:"translateY(10%)"},"aria-hidden":"true"}),(0,Cl.jsx)("div",{className:"absolute z-10",style:{bottom:"250px",left:"50%",transform:"translateX(-50%)",width:"220px",height:"430px"},children:(0,Cl.jsx)("div",{ref:r,className:"relative w-full h-full",style:{filter:"drop-shadow(0 30px 60px -12px rgba(0, 0, 0, 0.35))"},children:(0,Cl.jsx)("img",{src:"/assets/images/phone-welcome.png",alt:"Phone mockup displaying product with product image and ADD TO CART badges",className:"w-full h-full object-contain",style:{userSelect:"none",pointerEvents:"none"}})})}),(0,Cl.jsxs)("div",{className:"absolute z-10",style:{bottom:"48px",left:"24px",width:"60%",maxWidth:"320px"},children:[(0,Cl.jsx)("div",{className:"mb-6",children:(0,Cl.jsx)("img",{src:"/assets/images/logo-wordmark.png",alt:"GetNayi logo and wordmark",className:"h-12 object-contain",style:{userSelect:"none",pointerEvents:"none"}})}),(0,Cl.jsxs)("h2",{className:"text-3xl font-bold mb-6 leading-tight font-poppins",style:{color:"#1A1A1A",fontSize:"32px",lineHeight:"1.2"},children:["Unleash ",(0,Cl.jsx)("span",{className:"text-[#6A00FF]",children:"New Age"})," of",(0,Cl.jsx)("br",{}),"Ecommerce"]}),(0,Cl.jsx)("button",{onClick:()=>{e("/login")},className:"w-full text-white font-bold py-4 px-8 rounded-full text-base transition-all duration-200 shadow-xl font-poppins touch-manipulation active:scale-95",style:{background:"#6A00FF",boxShadow:"0 12px 30px -5px rgba(106, 0, 255, 0.55), 0 4px 8px -2px rgba(106, 0, 255, 0.4)",fontSize:"16px",letterSpacing:"0.025em",fontWeight:"700"},"aria-label":"Get started with GetNayi",onMouseDown:e=>{n||(e.currentTarget.style.transform="scale(0.95)")},onMouseUp:e=>{e.currentTarget.style.transform="scale(1)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},children:"Get Started"})]}),(0,Cl.jsx)("style",{children:"\n        @keyframes fadeInSlide {\n          from {\n            opacity: 0;\n            transform: translateY(30px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @media (prefers-reduced-motion: reduce) {\n          * {\n            animation-duration: 0.01ms !important;\n            animation-iteration-count: 1 !important;\n            transition-duration: 0.01ms !important;\n          }\n        }\n      "})]})},Dl=[{code:"+1",name:"United States",flag:"\ud83c\uddfa\ud83c\uddf8"},{code:"+1",name:"Canada",flag:"\ud83c\udde8\ud83c\udde6"},{code:"+91",name:"India",flag:"\ud83c\uddee\ud83c\uddf3"},{code:"+44",name:"United Kingdom",flag:"\ud83c\uddec\ud83c\udde7"},{code:"+61",name:"Australia",flag:"\ud83c\udde6\ud83c\uddfa"},{code:"+81",name:"Japan",flag:"\ud83c\uddef\ud83c\uddf5"},{code:"+86",name:"China",flag:"\ud83c\udde8\ud83c\uddf3"},{code:"+49",name:"Germany",flag:"\ud83c\udde9\ud83c\uddea"},{code:"+33",name:"France",flag:"\ud83c\uddeb\ud83c\uddf7"},{code:"+971",name:"UAE",flag:"\ud83c\udde6\ud83c\uddea"},{code:"+966",name:"Saudi Arabia",flag:"\ud83c\uddf8\ud83c\udde6"},{code:"+52",name:"Mexico",flag:"\ud83c\uddf2\ud83c\uddfd"},{code:"+55",name:"Brazil",flag:"\ud83c\udde7\ud83c\uddf7"},{code:"+27",name:"South Africa",flag:"\ud83c\uddff\ud83c\udde6"},{code:"+62",name:"Indonesia",flag:"\ud83c\uddee\ud83c\udde9"},{code:"+60",name:"Malaysia",flag:"\ud83c\uddf2\ud83c\uddfe"},{code:"+65",name:"Singapore",flag:"\ud83c\uddf8\ud83c\uddec"},{code:"+63",name:"Philippines",flag:"\ud83c\uddf5\ud83c\udded"},{code:"+82",name:"South Korea",flag:"\ud83c\uddf0\ud83c\uddf7"},{code:"+92",name:"Pakistan",flag:"\ud83c\uddf5\ud83c\uddf0"}],Ml=()=>{const e=te(),{login:t}=El(),[s,r]=(0,a.useState)("phone"),[n,l]=(0,a.useState)("+91"),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[p,x]=(0,a.useState)(!1),[h,f]=(0,a.useState)(""),[g,b]=(0,a.useState)(0),[y,v]=(0,a.useState)(["","","","","",""]);a.useEffect(()=>{if("otp"!==s||g<=0)return;const e=setInterval(()=>b(e=>e>0?e-1:0),1e3);return()=>clearInterval(e)},[s,g]);const j=a.useMemo(()=>{if(!c)return"";const e=c.slice(-4);return"\u2022\u2022\u2022\u2022\u2022\u2022".concat(e)},[c]);return(0,Cl.jsxs)("div",{className:"min-h-screen bg-white relative overflow-hidden",children:[(0,Cl.jsx)("div",{className:"pointer-events-none absolute -top-32 -right-32 w-96 h-96 rounded-full bg-[#6A00FF]/10 blur-3xl"}),(0,Cl.jsx)("div",{className:"pointer-events-none absolute -bottom-24 -left-24 w-80 h-80 rounded-full bg-purple-400/10 blur-3xl"}),(0,Cl.jsx)("div",{className:"flex items-center justify-center p-4 sm:p-6 min-h-screen",children:(0,Cl.jsxs)("div",{className:"bg-white/80 backdrop-blur border border-gray-200 rounded-2xl shadow-xl p-6 sm:p-8 w-full max-w-md relative z-10",children:[(0,Cl.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,Cl.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 font-poppins",children:"Welcome to GetNayi"}),(0,Cl.jsx)("p",{className:"text-sm sm:text-base text-gray-600 font-poppins",children:"phone"===s?"Sign in with your mobile number":"Enter the 6-digit code"})]}),h&&(0,Cl.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-xs sm:text-sm font-poppins",children:h}),"phone"===s?(0,Cl.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f(""),!i||i.length<7)return void f("Please enter a valid phone number");const t=i.replace(/\D/g,""),s="".concat(n).concat(t);d(s),x(!0);try{const e=await Sn(s);e.dev_otp&&console.log("DEV OTP:",e.dev_otp),r("otp"),b(30),v(["","","","","",""])}catch(c){var a;if(console.error("OTP Request Error:",c),"NETWORK_ERROR"===c.code||"Network Error"===c.message)f("Network error. Please check your internet connection.");else if(0===(null===(a=c.response)||void 0===a?void 0:a.status))f("Cannot connect to server. Please try again.");else{var l,o;f((null===(l=c.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.error)||c.message||"Failed to send OTP")}}finally{x(!1)}},children:[(0,Cl.jsxs)("div",{className:"mb-6",children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3 font-poppins",children:"Phone Number"}),(0,Cl.jsxs)("div",{className:"space-y-3",children:[(0,Cl.jsx)("select",{value:n,onChange:e=>l(e.target.value),className:"w-full px-4 py-4 text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent bg-white text-gray-900 appearance-none",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},disabled:p,children:Dl.map((e,t)=>(0,Cl.jsxs)("option",{value:e.code,className:"bg-white text-gray-900",children:[e.flag," ",e.name," (",e.code,")"]},t))}),(0,Cl.jsx)("input",{type:"tel",inputMode:"numeric",value:i,onChange:e=>o(e.target.value.replace(/\D/g,"")),placeholder:"1234567890",className:"w-full px-4 py-4 text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent bg-white text-gray-900 placeholder-gray-500",required:!0,disabled:p})]}),(0,Cl.jsx)("p",{className:"mt-2 text-xs text-gray-500 font-poppins",children:"Enter your phone number without country code."})]}),(0,Cl.jsx)("button",{type:"submit",disabled:p,className:"w-full bg-[#6A00FF] text-white py-4 rounded-xl text-base font-medium active:bg-purple-700 disabled:bg-gray-400 transition-colors touch-manipulation font-poppins",children:p?"Sending...":"Send OTP"})]}):(0,Cl.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),f("");const r=(y.join("")||u).slice(0,6);if(6===r.length){x(!0);try{const s=await En(c,r);s.needsOnboard?e("/signup",{state:{onboardingToken:s.onboardingToken}}):(s.token&&localStorage.setItem("auth_token",s.token),t(s.user),e("/watch",{replace:!0}))}catch(l){var n,a;f((null===(n=l.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Invalid OTP"),x(!1)}}else f("OTP must be 6 digits")},children:[(0,Cl.jsxs)("div",{className:"mb-6",children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3 text-center font-poppins",children:"OTP Code"}),(0,Cl.jsx)("div",{className:"flex items-center justify-center gap-2 sm:gap-3",children:y.map((e,t)=>(0,Cl.jsx)("input",{type:"text",inputMode:"numeric",value:y[t],onChange:e=>{const s=e.target.value.replace(/\D/g,"").slice(0,1),r=[...y];if(r[t]=s,v(r),s&&t<5){const e=document.getElementById("otp-".concat(t+1));e&&e.focus()}},onKeyDown:e=>{if("Backspace"===e.key&&!y[t]&&t>0){const e=document.getElementById("otp-".concat(t-1));e&&e.focus()}},id:"otp-".concat(t),className:"w-10 h-12 sm:w-12 sm:h-14 text-center text-xl sm:text-2xl font-bold border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent bg-white text-gray-900",disabled:p,maxLength:1,autoFocus:0===t},t))}),(0,Cl.jsxs)("p",{className:"mt-3 text-xs sm:text-sm text-gray-500 text-center font-poppins",children:["Sent to ",j]}),(0,Cl.jsx)("div",{className:"mt-2 text-center",children:(0,Cl.jsx)("button",{type:"button",disabled:g>0||p,onClick:async()=>{if(!(g>0)&&c){f(""),x(!0);try{const e=await Sn(c);null!==e&&void 0!==e&&e.dev_otp&&console.log("DEV OTP:",e.dev_otp),b(30),v(["","","","","",""]),Pt.success("OTP sent again")}catch(s){var e,t;f((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to resend OTP")}finally{x(!1)}}},className:"text-xs sm:text-sm font-medium text-[#6A00FF] disabled:text-gray-400 underline font-poppins",children:g>0?"Resend in ".concat(g,"s"):"Resend OTP"})})]}),(0,Cl.jsx)("button",{type:"submit",disabled:p,className:"w-full bg-[#6A00FF] text-white py-4 rounded-xl text-base font-medium active:bg-purple-700 disabled:bg-gray-400 transition-colors mb-3 touch-manipulation font-poppins",children:p?"Verifying...":"Verify OTP"}),(0,Cl.jsx)("button",{type:"button",onClick:()=>{r("phone"),m(""),f("")},disabled:p,className:"w-full bg-gray-100 text-gray-700 py-4 rounded-xl text-base font-medium active:bg-gray-200 disabled:bg-gray-50 transition-colors touch-manipulation border border-gray-300 font-poppins",children:"Change Phone Number"})]})]})})]})},Ol=()=>{var e;const t=te(),s=Z(),{login:r}=El(),n=null===(e=s.state)||void 0===e?void 0:e.onboardingToken,[l,i]=(0,a.useState)("info"),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[m,p]=(0,a.useState)([]),[x,h]=(0,a.useState)([]),[f,g]=(0,a.useState)(!1),[b,y]=(0,a.useState)("");(0,a.useEffect)(()=>{n?v():t("/login")},[n,t]);const v=async()=>{try{const e=await An();p(e.categories||[])}catch(e){y("Failed to load categories")}},j=e=>{e.preventDefault(),o.trim()&&d.trim()?o.length<3?y("Username must be at least 3 characters"):(y(""),i("preferences")):y("Username and full name are required")};return"info"===l?(0,Cl.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4 sm:p-6",children:(0,Cl.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-xl p-6 sm:p-8 w-full max-w-md relative z-10",children:[(0,Cl.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,Cl.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 font-poppins",children:"Create Your Account"}),(0,Cl.jsx)("p",{className:"text-sm sm:text-base text-gray-600 font-poppins",children:"Tell us about yourself"})]}),b&&(0,Cl.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-xs sm:text-sm font-poppins",children:b}),(0,Cl.jsxs)("form",{onSubmit:j,children:[(0,Cl.jsxs)("div",{className:"mb-4",children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Username"}),(0,Cl.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"john_doe",className:"w-full px-4 py-4 text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent bg-white text-gray-900 placeholder-gray-500",required:!0})]}),(0,Cl.jsxs)("div",{className:"mb-6",children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2 font-poppins",children:"Full Name"}),(0,Cl.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"John Doe",className:"w-full px-4 py-4 text-base border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent bg-white text-gray-900 placeholder-gray-500",required:!0})]}),(0,Cl.jsx)("button",{type:"submit",className:"w-full bg-[#6A00FF] text-white py-4 rounded-xl text-base font-medium active:bg-purple-700 transition-colors touch-manipulation font-poppins",children:"Continue"})]})]})}):(0,Cl.jsx)("div",{className:"min-h-screen bg-white p-4 sm:p-6",children:(0,Cl.jsx)("div",{className:"max-w-4xl mx-auto py-4 sm:py-8",children:(0,Cl.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-xl p-4 sm:p-8 relative z-10",children:[(0,Cl.jsxs)("div",{className:"text-center mb-6 sm:mb-8",children:[(0,Cl.jsx)("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900 mb-2 font-poppins",children:"Choose Your Interests"}),(0,Cl.jsx)("p",{className:"text-sm sm:text-base text-gray-600 font-poppins",children:"Select at least 1 category you love"}),(0,Cl.jsxs)("div",{className:"mt-2 inline-block px-4 py-2 bg-[#6A00FF] text-white rounded-full text-sm font-medium font-poppins",children:[x.length," selected"]})]}),b&&(0,Cl.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-xs sm:text-sm font-poppins",children:b}),(0,Cl.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:m.map(e=>{var t,s;return(0,Cl.jsxs)("button",{onClick:()=>{return t=e.slug,void h(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"p-4 sm:p-6 rounded-xl border-2 transition-all touch-manipulation ".concat(x.includes(e.slug)?"border-[#6A00FF] bg-[#6A00FF]/10 scale-95":"border-gray-300 active:border-[#6A00FF] bg-white hover:bg-gray-50"),children:[(0,Cl.jsx)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-2 sm:mb-3 rounded-lg overflow-hidden flex items-center justify-center bg-gradient-to-br from-[#6A00FF] to-purple-400",children:e.image_url?(0,Cl.jsx)("img",{src:e.image_url,alt:e.category_name,className:"w-full h-full object-cover",onError:t=>{t.target.style.display="none";const s=t.target.parentElement;if(s&&!s.querySelector("span")){var r,n;const t=document.createElement("span");t.className="text-xl sm:text-2xl text-white font-bold font-poppins",t.textContent=(null===(r=e.category_name)||void 0===r||null===(n=r.charAt(0))||void 0===n?void 0:n.toUpperCase())||"?",s.appendChild(t)}}}):(0,Cl.jsx)("span",{className:"text-xl sm:text-2xl text-white font-bold font-poppins",children:(null===(t=e.category_name)||void 0===t||null===(s=t.charAt(0))||void 0===s?void 0:s.toUpperCase())||"?"})}),(0,Cl.jsx)("h3",{className:"font-semibold text-gray-900 text-center text-sm sm:text-base font-poppins",children:e.category_name}),x.includes(e.slug)&&(0,Cl.jsx)("div",{className:"mt-2 text-center",children:(0,Cl.jsx)("span",{className:"inline-block w-6 h-6 bg-[#6A00FF] text-white rounded-full text-sm leading-6 font-poppins",children:"\u2713"})})]},e.category_id)})}),(0,Cl.jsxs)("div",{className:"space-y-3",children:[(0,Cl.jsx)("button",{onClick:async()=>{if(x.length<1)y("Please select at least 1 category");else{g(!0),y("");try{const e=await Fn(n,o.trim(),d.trim(),x);e.token&&localStorage.setItem("auth_token",e.token),r(e.user),t("/")}catch(a){var e,s;y((null===(e=a.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.error)||"Signup failed")}finally{g(!1)}}},disabled:f||x.length<1,className:"w-full px-8 py-4 bg-[#6A00FF] text-white rounded-xl text-base font-medium active:bg-purple-700 disabled:bg-gray-400 transition-colors touch-manipulation font-poppins",children:f?"Creating Account...":"Get Started"}),(0,Cl.jsx)("button",{onClick:()=>i("info"),className:"w-full px-6 py-3 text-gray-600 active:text-gray-800 font-medium touch-manipulation font-poppins",disabled:f,children:"\u2190 Back"})]})]})})})};var Il={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zl=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],Ul=(e,t)=>{const s=(0,a.forwardRef)((s,r)=>{let{color:n="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d}=s,u=function(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}(s,zl);return(0,a.createElement)("svg",Ue(Ue({ref:r},Il),{},{width:l,height:l,stroke:n,strokeWidth:o?24*Number(i)/Number(l):i,className:["lucide","lucide-".concat((m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),c].join(" ")},u),[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]]);var m});return s.displayName="".concat(e),s},Bl=Ul("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Vl=Ul("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),Wl=Ul("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),ql=Ul("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Hl=Ul("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]),Gl=Ul("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),$l=Ul("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Yl=Ul("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ql=Ul("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Kl=Ul("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Jl=Ul("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Xl=Ul("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zl=Ul("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),ei=Ul("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),ti=Ul("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),si=Ul("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),ri="undefined"!==typeof window,ni=()=>{var e,t,s,r;const n=te(),{isAuthenticated:l}=El(),[i,o]=(0,a.useState)("Best Selling"),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[p,x]=(0,a.useState)({}),[h,f]=(0,a.useState)({}),[g,b]=(0,a.useState)([]),[y,v]=(0,a.useState)([]),[j,N]=(0,a.useState)([]),[w,k]=(0,a.useState)(!0),[_,C]=(0,a.useState)(!0),[S,E]=(0,a.useState)(!0),[F,L]=(0,a.useState)(!0),[P,A]=(0,a.useState)(!1),[R,T]=(0,a.useState)(!1),[D,M]=(0,a.useState)(!1),[O,I]=(0,a.useState)(!1),[z,U]=(0,a.useState)(!1),[B,V]=(0,a.useState)(""),[W,q]=(0,a.useState)(null),[H,G]=(0,a.useState)(null),[$,Y]=(0,a.useState)(!1),[Q,K]=(0,a.useState)(!1),[J,X]=(0,a.useState)(null),Z=!!ri&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,[ee,se]=(0,a.useState)(ri?window.innerWidth:375),re=(0,a.useMemo)(()=>u.length>0?u:c,[u,c]),ne=0===re.length&&(_||w);(0,a.useEffect)(()=>{if(!ri)return;const e=()=>se(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const ae=(0,a.useMemo)(()=>ee>=1280?96:ee>=1024?88:ee>=768?76:ee>=480?66:58,[ee]),le=(0,a.useMemo)(()=>Math.max(28,Math.round(.45*ae)),[ae]),ie=(0,a.useMemo)(()=>Math.max(8,Math.round(.18*ae)),[ae]),oe=(0,a.useMemo)(()=>ae>=88?14:ae>=66?13:12,[ae]),ce=e=>e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(0),"k"):e.toString(),de=e=>"string"===typeof e?e:"$".concat(parseFloat(e).toFixed(0)),ue=e=>{var t,s,r;const n=(null===(t=e.slug)||void 0===t?void 0:t.toLowerCase())||(null===(s=e.category_name)||void 0===s?void 0:s.toLowerCase())||"",a=(null===(r=e.category_name)||void 0===r?void 0:r.toLowerCase())||"";return n.includes("fashion")||a.includes("fashion")?(0,Cl.jsx)(Bl,{className:"text-[#6A00FF]",style:{width:le,height:le}}):n.includes("electronic")||a.includes("electronic")?(0,Cl.jsx)(Vl,{className:"text-[#6A00FF]",style:{width:le,height:le}}):n.includes("beauty")||a.includes("beauty")?(0,Cl.jsx)(Wl,{className:"text-[#6A00FF]",style:{width:le,height:le}}):n.includes("home")||a.includes("home")?(0,Cl.jsx)(ql,{className:"text-[#6A00FF]",style:{width:le,height:le}}):n.includes("sport")||a.includes("sport")||n.includes("fitness")||a.includes("fitness")?(0,Cl.jsx)(Hl,{className:"text-[#6A00FF]",style:{width:le,height:le}}):n.includes("food")||a.includes("food")||n.includes("beverage")||a.includes("beverage")?(0,Cl.jsx)(Gl,{className:"text-[#6A00FF]",style:{width:le,height:le}}):n.includes("service")||a.includes("service")?(0,Cl.jsx)($l,{className:"text-[#6A00FF]",style:{width:le,height:le}}):(0,Cl.jsx)(Bl,{className:"text-[#6A00FF]",style:{width:le,height:le}})};(0,a.useEffect)(()=>{(async()=>{try{k(!0),A(!1);const e=await An();e.categories&&Array.isArray(e.categories)?d(e.categories.slice(0,10)):d([])}catch(e){console.error("Error fetching categories:",e),d([]),A(!0)}finally{k(!1)}})()},[]);const me=(0,a.useCallback)(async e=>{if(!e||0===e.length)return;const t=e.filter(e=>!p[e.category_id]);if(0===t.length)return;const s={};t.forEach(e=>{s[e.category_id]=!0}),f(e=>Ue(Ue({},e),s));const r=t.map(async e=>{try{const t=await qn({category_id:e.category_id,limit:10}),s=t&&Array.isArray(t.listings)?t.listings:[];x(t=>Ue(Ue({},t),{},{[e.category_id]:s}))}catch(t){console.error("Error fetching products for category ".concat(e.category_id,":"),t),x(t=>Ue(Ue({},t),{},{[e.category_id]:[]}))}finally{f(t=>Ue(Ue({},t),{},{[e.category_id]:!1}))}});await Promise.all(r)},[p]);(0,a.useEffect)(()=>{(async()=>{try{C(!0),T(!1);const e=await _l.get("/api/categories/with-approved-videos");e.data&&e.data.categories&&Array.isArray(e.data.categories)?m(e.data.categories):m([])}catch(e){console.error("Error fetching categories with approved videos:",e),m([]),T(!0)}finally{C(!1)}})()},[]),(0,a.useEffect)(()=>{re&&re.length>0&&me(re)},[re,me]),(0,a.useEffect)(()=>{(async()=>{try{E(!0),M(!1);const e=await qn({limit:20});if(e&&e.listings&&Array.isArray(e.listings)){const t=[...e.listings].sort((e,t)=>{const s=new Date(e.created_at||0);return new Date(t.created_at||0)-s});b(t.slice(0,10))}else b([])}catch(e){console.error("Error fetching recently added listings:",e),b([]),M(!0)}finally{E(!1)}})()},[]),(0,a.useEffect)(()=>{(async()=>{try{let e;if(L(!0),I(!1),"Best Selling"===i)if(e=await qn({limit:20}),e&&e.listings&&Array.isArray(e.listings)){const t=[...e.listings].sort((e,t)=>{const s=(e.view_count||0)+2*(e.like_count||0);return(t.view_count||0)+2*(t.like_count||0)-s});v(t.slice(0,10))}else v([]);else if("Trending"===i)e=await qn({limit:20}),e&&e.listings&&Array.isArray(e.listings)?v(e.listings.slice(0,10)):v([]);else if("Price Drop"===i)if(e=await qn({limit:20}),e&&e.listings&&Array.isArray(e.listings)){const t=[...e.listings].sort((e,t)=>parseFloat(e.price||0)-parseFloat(t.price||0));v(t.slice(0,10))}else v([])}catch(e){console.error("Error fetching For Your recommended listings:",e),v([]),I(!0)}finally{L(!1)}})()},[i]),(0,a.useEffect)(()=>{(async()=>{try{const e=await sa();e&&e.wishlist&&Array.isArray(e.wishlist)?N(e.wishlist.map(e=>e.listing_id)):N([])}catch(e){console.error("Error fetching wishlist:",e),N([])}})()},[]);const pe=(0,a.useRef)(new Map),xe=(e,t)=>{const s=e.touches[0];pe.current.set(t,{x:s.clientX,y:s.clientY,time:Date.now(),isScrolling:!1})},he=(e,t)=>{const s=pe.current.get(t);if(!s)return;const r=e.touches[0],n=Math.abs(r.clientX-s.x),a=Math.abs(r.clientY-s.y);Math.sqrt(n*n+a*a)>10&&(s.isScrolling=!0,pe.current.set(t,s))},fe=(e,t,s)=>{const r=pe.current.get(t);r&&!r.isScrolling&&(e.preventDefault(),e.stopPropagation(),s(e)),setTimeout(()=>{pe.current.delete(t)},100)},ge=(e,t)=>{if(!Z&&e.currentTarget){const t=e.currentTarget;t.style.transform="scale(0.96)",setTimeout(()=>{t&&t.style&&(t.style.transform="scale(1)")},150)}n("/category?category_id=".concat(t.category_id,"&category_name=").concat(encodeURIComponent(t.category_name)))},be=(e,t)=>{!Z&&e.currentTarget&&(e.currentTarget.style.transform="scale(0.96)",setTimeout(()=>{e.currentTarget&&(e.currentTarget.style.transform="scale(1)")},150));const s=(null===t||void 0===t?void 0:t.video_id)||(null===t||void 0===t?void 0:t.listing_id);s&&n("/watch?video=".concat(s))},ye=async(e,t)=>{if(e.stopPropagation(),e.preventDefault(),null===t||void 0===t||!t.listing_id)return;const s=j.includes(t.listing_id);try{s?(await na(t.listing_id),N(j.filter(e=>e!==t.listing_id)),Pt.success("Removed from wishlist")):(await ra(t.listing_id),N([...j,t.listing_id]),Pt.success("Added to wishlist"))}catch(a){var r,n;console.error("Error toggling wishlist:",a),Pt.error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to update wishlist")}};(0,a.useEffect)(()=>{if(J&&clearTimeout(J),!z)return V(""),q(null),void G(null);if(B.length<2)return q(null),void G(null);const e=setTimeout(async()=>{try{Y(!0);const e=await wl(B,10);e.ok&&q(e.suggestions)}catch(e){console.error("Error fetching suggestions:",e)}finally{Y(!1)}},300);return X(e),()=>{e&&clearTimeout(e)}},[B,z]);const ve=async e=>{if(e&&!(e.length<2))try{K(!0),G(null);const t=await kl(e,20);t.ok?G(t.results):Pt.error("Search failed")}catch(t){console.error("Error searching:",t),Pt.error("Search failed")}finally{K(!1)}},je=(e,t)=>{if("category"===e)n("/category?category_id=".concat(t.category_id,"&category_name=").concat(encodeURIComponent(t.category_name||"Category"))),U(!1);else if("brand"===e||"influencer"===e){const e=t.user_id||t.provider_id;e?(n("/profile?user_id=".concat(e)),U(!1)):Pt.error("Invalid profile")}else"product"===e&&(n("/watch?video=".concat(t.listing_id)),U(!1))},Ne=async(e,t)=>{e.stopPropagation();const s=j.includes(t.listing_id);try{s?(await na(t.listing_id),N(j.filter(e=>e!==t.listing_id)),Pt.success("Removed from wishlist")):(await ra(t.listing_id),N([...j,t.listing_id]),Pt.success("Added to wishlist"))}catch(a){var r,n;console.error("Error toggling wishlist:",a),Pt.error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to update wishlist")}};return(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)("header",{className:"sticky top-0 z-50 bg-white",children:(0,Cl.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between",children:[(0,Cl.jsx)("div",{className:"flex items-center",children:(0,Cl.jsxs)("span",{className:"text-xl font-bold font-poppins",style:{fontSize:"20px"},children:[(0,Cl.jsx)("span",{style:{color:"#111827"},children:"Get"}),(0,Cl.jsx)("span",{style:{color:"#4B2BD6"},children:"nayi"})]})}),(0,Cl.jsx)("div",{className:"flex items-center space-x-3",children:(0,Cl.jsx)("button",{onClick:()=>U(!0),className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Search",children:(0,Cl.jsx)(Yl,{className:"w-5 h-5 text-gray-600"})})})]})}),(0,Cl.jsx)("section",{className:"px-4",style:{paddingTop:"12px"},children:w?(0,Cl.jsx)("div",{className:"flex space-x-4 overflow-x-auto pb-2",children:[...Array(5)].map((e,t)=>(0,Cl.jsxs)("div",{className:"flex-shrink-0 text-center",children:[(0,Cl.jsx)("div",{className:"rounded-full bg-gray-200 animate-pulse",style:{width:"64px",height:"64px"}}),(0,Cl.jsx)("div",{className:"h-4 w-16 bg-gray-200 animate-pulse rounded mt-2 mx-auto"})]},t))}):c.length>0?(0,Cl.jsx)("div",{className:"flex overflow-x-auto pb-2 scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",gap:"".concat(ie,"px")},children:c.map(e=>{var t,s,r;return(0,Cl.jsxs)("div",{className:"flex-shrink-0 text-center",style:{scrollSnapAlign:"start",width:"".concat(ae,"px")},children:[(0,Cl.jsxs)("div",{className:"rounded-full overflow-hidden cursor-pointer transition-transform duration-150 mx-auto relative",style:{width:"".concat(ae,"px"),height:"".concat(ae,"px"),border:"".concat(Math.max(2,Math.round(.035*ae)),"px solid #4B2BD6"),boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)",backgroundColor:"#F3F4F6"},onClick:t=>ge(t,e),onTouchStart:t=>xe(t,"category-".concat(e.category_id)),onTouchMove:t=>he(t,"category-".concat(e.category_id)),onTouchEnd:t=>fe(t,"category-".concat(e.category_id),t=>ge(t,e)),"aria-label":"".concat(e.category_name," category"),role:"button",tabIndex:0,children:[e.image_url?(0,Cl.jsx)("img",{src:e.image_url,alt:e.category_name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none";const t=e.target.nextElementSibling;t&&(t.style.display="flex")}}):null,(0,Cl.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-[#6A00FF] to-purple-400",style:{display:e.image_url?"none":"flex",zIndex:1},children:(0,Cl.jsx)("span",{className:"text-white font-bold",style:{fontSize:"".concat(Math.round(.4*ae),"px"),fontFamily:"Gilroy, Inter, sans-serif"},children:(null===(t=e.category_name)||void 0===t||null===(s=t.charAt(0))||void 0===s?void 0:s.toUpperCase())||"?"})}),!e.image_url&&(0,Cl.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:ue(e)})]}),(0,Cl.jsx)("p",{className:"font-poppins font-medium mt-2 line-clamp-1 truncate",style:{fontSize:"".concat(oe,"px"),color:"#111827",marginTop:"8px",width:"".concat(ae,"px"),minHeight:"".concat(Math.round(.6*ae),"px"),display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",wordBreak:"break-word"},title:e.category_name,children:(null===(r=e.category_name)||void 0===r?void 0:r.length)>8?"".concat(e.category_name.slice(0,8),"..."):e.category_name})]},e.category_id)})}):P?(0,Cl.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm font-poppins",children:"Could not fetch categories"}):(0,Cl.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm font-poppins",children:"No categories available"})}),(0,Cl.jsxs)("section",{className:"px-4",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Cl.jsx)("h2",{className:"font-bold font-poppins",style:{fontSize:"18px",color:"#111827"},children:"Recently Added"}),(0,Cl.jsx)("div",{className:"flex items-center flex-1 ml-4 mr-2",children:(0,Cl.jsx)("div",{className:"flex-1",style:{height:"1px",backgroundColor:"#E5E7EB"}})}),(0,Cl.jsx)("button",{className:"font-poppins font-medium text-sm",style:{color:"#6B7280",fontSize:"13px"},"aria-label":"See all recently added products",onClick:()=>n("/watch"),children:"see all"})]}),S?(0,Cl.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",paddingRight:"16px"},children:[...Array(3)].map((e,t)=>(0,Cl.jsx)("div",{className:"flex-shrink-0 relative",style:{width:"calc((100vw - 48px - 16px) / 2)",minWidth:"calc((100vw - 48px - 16px) / 2)",scrollSnapAlign:"start"},children:(0,Cl.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:[(0,Cl.jsx)("div2",{className:"relative w-full bg-gray-200 animate-pulse",style:{height:"220px"}}),(0,Cl.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 z-10",children:[(0,Cl.jsx)("div",{className:"h-3 bg-white/70 rounded animate-pulse mb-2",style:{width:"70%"}}),(0,Cl.jsx)("div",{className:"h-4 bg-white rounded animate-pulse mb-1",style:{width:"40%",borderRadius:"6px"}}),(0,Cl.jsx)("div",{className:"h-2 bg-white/60 rounded animate-pulse mt-1",style:{width:"90%"}})]})]})},t))}):g.length>0?(0,Cl.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",paddingRight:"16px"},children:g.map(e=>(0,Cl.jsx)("div",{className:"flex-shrink-0 relative group cursor-pointer transition-transform duration-150",style:{width:"calc((100vw - 48px - 16px) / 2)",minWidth:"calc((100vw - 48px - 16px) / 2)",scrollSnapAlign:"start"},onClick:t=>be(t,e),onTouchStart:t=>xe(t,"card-".concat(e.listing_id)),onTouchMove:t=>he(t,"card-".concat(e.listing_id)),onTouchEnd:t=>fe(t,"card-".concat(e.listing_id),t=>be(t,e)),role:"button",tabIndex:0,"aria-label":"".concat(e.product_name," - ").concat(de(e.price)),children:(0,Cl.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:(0,Cl.jsxs)("div",{className:"relative w-full overflow-hidden bg-gray-800",style:{height:"220px"},children:[e.thumbnail||e.thumbnail_url?(0,Cl.jsx)("img",{src:e.thumbnail||e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://via.placeholder.com/280x180?text=No+Image"}}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:(0,Cl.jsx)("span",{className:"text-gray-400 text-sm",children:"No Image"})}),(0,Cl.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/70 to-transparent pointer-events-none"}),e.view_count>0&&(0,Cl.jsxs)("div",{className:"absolute top-2 left-2 flex items-center gap-1 px-1.5 py-1 rounded z-10",style:{background:"#1E3A8A",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:[(0,Cl.jsx)(Ql,{className:"w-2.5 h-2.5 text-white"}),(0,Cl.jsx)("span",{className:"text-white font-poppins font-medium",style:{fontSize:"10px"},children:ce(e.view_count||0)})]}),(0,Cl.jsx)("button",{onClick:t=>ye(t,e),onMouseDown:e=>{e.stopPropagation()},onTouchStart:e=>{e.stopPropagation()},className:"absolute top-2 right-2 w-7 h-7 rounded-lg bg-white flex items-center justify-center shadow-md hover:bg-gray-50 transition-all z-20 pointer-events-auto",style:{minWidth:"28px",minHeight:"28px"},"aria-label":j.includes(e.listing_id)?"Remove from wishlist":"Add to wishlist",children:(0,Cl.jsx)(Kl,{className:"w-4 h-4 ".concat(j.includes(e.listing_id)?"fill-red-500 text-red-500":"text-gray-700")})}),(0,Cl.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 z-10",children:[(0,Cl.jsx)("h3",{className:"font-poppins font-semibold mb-0.5 line-clamp-2 text-white",style:{fontSize:"12px",lineHeight:"1.3",fontWeight:"600",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"},children:e.product_name}),(0,Cl.jsx)("div",{className:"inline-block px-2 py-1 rounded mt-0.5 mb-0.5",style:{background:"#FFFFFF",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",borderRadius:"6px"},children:(0,Cl.jsx)("span",{className:"font-poppins font-semibold",style:{color:"#111827",fontSize:"11px"},children:de(e.price)})})]})]})})},e.listing_id))}):D?(0,Cl.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:"Could not fetch listings"}):(0,Cl.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:"No recently added listings"})]}),(0,Cl.jsxs)("section",{className:"px-4 py-4 pb-6 sm:pb-12",style:{paddingTop:"18px"},children:[(0,Cl.jsx)("div",{className:"mb-4",children:(0,Cl.jsx)("h2",{className:"font-bold font-poppins",style:{fontSize:"18px",color:"#111827"},children:"For You"})}),(0,Cl.jsx)("div",{className:"flex gap-2 mb-4 overflow-x-auto scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",gap:"8px"},role:"tablist","aria-label":"Filter options",children:["Best Selling","Trending","Price Drop"].map(e=>(0,Cl.jsx)("button",{onClick:()=>o(e),className:"flex-shrink-0 px-3 py-1.5 rounded-full font-poppins font-medium transition-all duration-200",style:Ue({scrollSnapAlign:"start",fontSize:"11px",minHeight:"32px",whiteSpace:"nowrap"},i===e?{background:"#4B2BD6",color:"#FFFFFF",border:"none"}:{background:"#FFFFFF",color:"#111827",border:"1px solid #D1D5DB"}),role:"tab","aria-selected":i===e,"aria-label":"Filter by ".concat(e),children:e},e))}),F?(0,Cl.jsx)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[...Array(4)].map((e,t)=>(0,Cl.jsx)("div",{className:"relative",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:[(0,Cl.jsx)("div",{className:"relative w-full bg-gray-200 animate-pulse",style:{height:"220px"}}),(0,Cl.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5",children:[(0,Cl.jsx)("div",{className:"h-3 bg-gray-300 rounded animate-pulse mb-2",style:{width:"70%"}}),(0,Cl.jsx)("div",{className:"h-4 bg-gray-300 rounded animate-pulse mb-1",style:{width:"40%"}}),(0,Cl.jsx)("div",{className:"h-2 bg-gray-300 rounded animate-pulse mt-1",style:{width:"85%"}})]})]})},t))}):y.length>0?(0,Cl.jsx)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:y.map(e=>(0,Cl.jsx)("div",{className:"relative group cursor-pointer transition-transform duration-150",onClick:t=>be(t,e),onTouchStart:t=>xe(t,"card-".concat(e.listing_id)),onTouchMove:t=>he(t,"card-".concat(e.listing_id)),onTouchEnd:t=>fe(t,"card-".concat(e.listing_id),t=>be(t,e)),role:"button",tabIndex:0,"aria-label":"".concat(e.product_name," - ").concat(de(e.price)),children:(0,Cl.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:(0,Cl.jsxs)("div",{className:"relative w-full overflow-hidden bg-gray-800",style:{height:"220px"},children:[e.thumbnail||e.thumbnail_url?(0,Cl.jsx)("img",{src:e.thumbnail||e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://via.placeholder.com/280x180?text=No+Image"}}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:(0,Cl.jsx)("span",{className:"text-gray-400 text-sm",children:"No Image"})}),(0,Cl.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/70 to-transparent pointer-events-none"}),e.view_count>0&&(0,Cl.jsxs)("div",{className:"absolute top-2 left-2 flex items-center gap-1 px-1.5 py-1 rounded z-10",style:{background:"#1E3A8A",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:[(0,Cl.jsx)(Ql,{className:"w-2.5 h-2.5 text-white"}),(0,Cl.jsx)("span",{className:"text-white font-poppins font-medium",style:{fontSize:"10px"},children:ce(e.view_count||0)})]}),(0,Cl.jsx)("button",{onClick:t=>ye(t,e),onMouseDown:e=>{e.stopPropagation()},onTouchStart:e=>{e.stopPropagation()},className:"absolute top-2 right-2 w-7 h-7 rounded-lg bg-white flex items-center justify-center shadow-md hover:bg-gray-50 transition-all z-20 pointer-events-auto",style:{minWidth:"28px",minHeight:"28px"},"aria-label":j.includes(e.listing_id)?"Remove from wishlist":"Add to wishlist",children:(0,Cl.jsx)(Kl,{className:"w-4 h-4 ".concat(j.includes(e.listing_id)?"fill-red-500 text-red-500":"text-gray-700")})}),(0,Cl.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 z-10",children:[(0,Cl.jsx)("h3",{className:"font-poppins font-semibold mb-0.5 line-clamp-2 text-white",style:{fontSize:"12px",lineHeight:"1.3",fontWeight:"600",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"},children:e.product_name}),(0,Cl.jsx)("div",{className:"inline-block px-2 py-1 rounded mt-0.5 mb-0.5",style:{background:"#FFFFFF",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",borderRadius:"6px"},children:(0,Cl.jsx)("span",{className:"font-poppins font-semibold",style:{color:"#111827",fontSize:"11px"},children:de(e.price)})})]})]})})},"for-you-".concat(e.listing_id)))}):O?(0,Cl.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:"Could not fetch listings"}):(0,Cl.jsxs)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:["No listings available for ",i]})]}),(0,Cl.jsx)("section",{className:"px-4 py-4 pb-32 sm:pb-12",style:{paddingTop:"18px"},children:ne?(0,Cl.jsx)("div",{className:"space-y-8",children:[...Array(3)].map((e,t)=>(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Cl.jsx)("div",{className:"h-6 bg-gray-200 animate-pulse rounded w-32"}),(0,Cl.jsx)("div",{className:"flex items-center flex-1 ml-4 mr-2",children:(0,Cl.jsx)("div",{className:"flex-1 h-px bg-gray-200"})}),(0,Cl.jsx)("div",{className:"h-4 bg-gray-200 animate-pulse rounded w-12"})]}),(0,Cl.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",paddingRight:"16px"},children:[...Array(3)].map((e,t)=>(0,Cl.jsx)("div",{className:"flex-shrink-0 relative",style:{width:"calc((100vw - 48px - 16px) / 2)",minWidth:"calc((100vw - 48px - 16px) / 2)",scrollSnapAlign:"start"},children:(0,Cl.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:[(0,Cl.jsx)("div",{className:"relative w-full bg-gray-200 animate-pulse",style:{height:"220px"}}),(0,Cl.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 z-10",children:[(0,Cl.jsx)("div",{className:"h-3 bg-white/70 rounded animate-pulse mb-2",style:{width:"70%"}}),(0,Cl.jsx)("div",{className:"h-4 bg-white rounded animate-pulse mb-1",style:{width:"40%",borderRadius:"6px"}}),(0,Cl.jsx)("div",{className:"h-2 bg-white/60 rounded animate-pulse mt-1",style:{width:"90%"}})]})]})},t))})]},t))}):re.length>0?(0,Cl.jsx)("div",{className:"space-y-8",children:re.map(e=>{const t=p[e.category_id]||[],s=h[e.category_id];return(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Cl.jsx)("h2",{className:"font-bold font-poppins",style:{fontSize:"18px",color:"#111827"},children:e.category_name}),(0,Cl.jsx)("div",{className:"flex items-center flex-1 ml-4 mr-2",children:(0,Cl.jsx)("div",{className:"flex-1",style:{height:"1px",backgroundColor:"#E5E7EB"}})}),(0,Cl.jsx)("button",{className:"font-poppins font-medium text-sm",style:{color:"#6B7280",fontSize:"13px"},"aria-label":"See all ".concat(e.category_name," products"),onClick:()=>{n("/category?category_id=".concat(e.category_id,"&category_name=").concat(encodeURIComponent(e.category_name)))},children:"see all"})]}),s?(0,Cl.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",paddingRight:"16px"},children:[...Array(3)].map((e,t)=>(0,Cl.jsx)("div",{className:"flex-shrink-0 relative",style:{width:"calc((100vw - 48px - 16px) / 2)",minWidth:"calc((100vw - 48px - 16px) / 2)",scrollSnapAlign:"start"},children:(0,Cl.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:[(0,Cl.jsx)("div",{className:"relative w-full bg-gray-200 animate-pulse",style:{height:"220px"}}),(0,Cl.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5",children:[(0,Cl.jsx)("div",{className:"h-3 bg-gray-300 rounded animate-pulse mb-2",style:{width:"70%"}}),(0,Cl.jsx)("div",{className:"h-4 bg-gray-300 rounded animate-pulse mb-1",style:{width:"40%"}}),(0,Cl.jsx)("div",{className:"h-2 bg-gray-300 rounded animate-pulse mt-1",style:{width:"90%"}})]})]})},t))}):t.length>0?(0,Cl.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-hide",style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",paddingRight:"16px"},children:t.map(e=>(0,Cl.jsx)("div",{className:"flex-shrink-0 relative group cursor-pointer transition-transform duration-150",style:{width:"calc((100vw - 48px - 16px) / 2)",minWidth:"calc((100vw - 48px - 16px) / 2)",scrollSnapAlign:"start"},onClick:t=>be(t,e),onTouchStart:t=>xe(t,"card-".concat(e.listing_id)),onTouchMove:t=>he(t,"card-".concat(e.listing_id)),onTouchEnd:t=>fe(t,"card-".concat(e.listing_id),t=>be(t,e)),role:"button",tabIndex:0,"aria-label":"".concat(e.product_name," - ").concat(de(e.price)),children:(0,Cl.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:(0,Cl.jsxs)("div",{className:"relative w-full overflow-hidden bg-gray-800",style:{height:"220px"},children:[e.video_url?(0,Cl.jsxs)("div",{className:"relative w-full h-full bg-gray-800",children:[(0,Cl.jsx)("video",{src:e.video_url,poster:e.thumbnail_url,className:"w-full h-full object-cover",preload:"metadata",muted:!0,playsInline:!0,onError:e=>{console.error("Video error:",e),e.target.style.display="none"}}),(0,Cl.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,Cl.jsx)("div",{className:"bg-gray-100 rounded-full p-2.5 shadow-xl border-2 border-[#4B2BD6]",style:{width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Cl.jsx)(Jl,{className:"w-5 h-5 text-[#4B2BD6]",strokeWidth:2.5})})})]}):e.thumbnail_url?(0,Cl.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://via.placeholder.com/280x180?text=No+Image"}}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:(0,Cl.jsx)("span",{className:"text-gray-400 text-sm",children:"No Image"})}),(0,Cl.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/70 to-transparent pointer-events-none"}),(e.view_count||0)>0&&(0,Cl.jsxs)("div",{className:"absolute top-2 left-2 flex items-center gap-1 px-1.5 py-1 rounded z-10",style:{background:"#1E3A8A",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:[(0,Cl.jsx)(Ql,{className:"w-2.5 h-2.5 text-white"}),(0,Cl.jsx)("span",{className:"text-white font-poppins font-medium",style:{fontSize:"10px"},children:ce(e.view_count||0)})]}),(0,Cl.jsx)("button",{onClick:t=>ye(t,e),onMouseDown:e=>{e.stopPropagation()},onTouchStart:e=>{e.stopPropagation()},className:"absolute top-2 right-2 w-7 h-7 rounded-lg bg-white flex items-center justify-center shadow-md hover:bg-gray-50 transition-all z-20 pointer-events-auto",style:{minWidth:"28px",minHeight:"28px"},"aria-label":j.includes(e.listing_id)?"Remove from wishlist":"Add to wishlist",children:(0,Cl.jsx)(Kl,{className:"w-4 h-4 ".concat(j.includes(e.listing_id)?"fill-red-500 text-red-500":"text-gray-700")})}),(0,Cl.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 z-10",children:[(0,Cl.jsx)("h3",{className:"font-poppins font-semibold mb-0.5 line-clamp-2 text-white",style:{fontSize:"12px",lineHeight:"1.3",fontWeight:"600",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"},children:e.product_name}),(0,Cl.jsx)("div",{className:"inline-block px-2 py-1 rounded mt-0.5 mb-0.5",style:{background:"#FFFFFF",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",borderRadius:"6px"},children:(0,Cl.jsx)("span",{className:"font-poppins font-semibold",style:{color:"#111827",fontSize:"11px"},children:de(e.price)})})]})]})})},e.listing_id))}):(0,Cl.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm font-poppins",children:"No products available in this category"})]},e.category_id)})}):(0,Cl.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:R||P?"Could not fetch categories":"No categories available yet"})}),z&&(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("div",{className:"fixed inset-0 bg-transparent z-[9999]",onClick:()=>U(!1)}),(0,Cl.jsxs)("div",{className:"fixed top-16 left-0 right-0 z-[10000] w-full bg-white shadow-lg border-b border-gray-200 overflow-hidden flex flex-col max-h-[600px]",onClick:e=>e.stopPropagation(),children:[(0,Cl.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-3 border-b border-gray-200 bg-gray-50 flex-shrink-0",children:(0,Cl.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center gap-3",children:[(0,Cl.jsxs)("div",{className:"flex-1 relative",children:[(0,Cl.jsx)(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-500"}),(0,Cl.jsx)("input",{type:"text",value:B,onChange:e=>V(e.target.value),onKeyDown:e=>{"Enter"===e.key&&ve(B)},placeholder:"Search for products, brands, categories...",className:"w-full pl-10 pr-4 py-2.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-[#6A00FF] focus:border-[#6A00FF] outline-none font-poppins bg-white",autoFocus:!0})]}),(0,Cl.jsx)("button",{onClick:()=>U(!1),className:"p-2 hover:bg-gray-200 rounded transition-colors flex-shrink-0","aria-label":"Close search",children:(0,Cl.jsx)(Xl,{className:"w-5 h-5 text-gray-600"})})]})}),(0,Cl.jsx)("div",{className:"flex-1 overflow-y-auto bg-white",children:Q?(0,Cl.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Cl.jsx)(Zl,{className:"w-5 h-5 animate-spin text-[#6A00FF]"})}):H?(0,Cl.jsxs)("div",{className:"max-w-7xl mx-auto",children:[H.categories&&H.categories.length>0&&(0,Cl.jsxs)("div",{className:"border-b border-gray-200",children:[(0,Cl.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,Cl.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Categories"})}),(0,Cl.jsx)("div",{children:H.categories.map((e,t)=>(0,Cl.jsxs)("button",{onClick:()=>je("category",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-3 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group",children:[(0,Cl.jsx)(ei,{className:"w-4 h-4 text-gray-400 group-hover:text-[#6A00FF] flex-shrink-0"}),(0,Cl.jsx)("span",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF]",children:e.category_name})]},e.category_id))})]}),H.brands&&H.brands.length>0&&(0,Cl.jsxs)("div",{className:"border-b border-gray-200",children:[(0,Cl.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,Cl.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Brands"})}),(0,Cl.jsx)("div",{children:H.brands.map((e,t)=>(0,Cl.jsxs)("button",{onClick:()=>je("brand",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-3 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group",children:[e.profile_image_url?(0,Cl.jsx)("img",{src:e.profile_image_url,alt:e.business_name,className:"w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0"}):(0,Cl.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200 flex-shrink-0",children:(0,Cl.jsx)(Bl,{className:"w-4 h-4 text-gray-400"})}),(0,Cl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Cl.jsx)("p",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF] truncate",children:e.business_name}),e.handle_address&&(0,Cl.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.handle_address]})]})]},e.provider_id))})]}),H.influencers&&H.influencers.length>0&&(0,Cl.jsxs)("div",{className:"border-b border-gray-200",children:[(0,Cl.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,Cl.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Influencers"})}),(0,Cl.jsx)("div",{children:H.influencers.map((e,t)=>(0,Cl.jsxs)("button",{onClick:()=>je("influencer",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-3 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group",children:[e.profile_image_url?(0,Cl.jsx)("img",{src:e.profile_image_url,alt:e.business_name,className:"w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0"}):(0,Cl.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200 flex-shrink-0",children:(0,Cl.jsx)(ti,{className:"w-4 h-4 text-gray-400"})}),(0,Cl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Cl.jsx)("p",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF] truncate",children:e.business_name}),e.handle_address&&(0,Cl.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.handle_address]})]})]},e.provider_id))})]}),H.products&&H.products.length>0&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,Cl.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Products"})}),(0,Cl.jsx)("div",{children:H.products.map((e,t)=>{const s=j.includes(e.listing_id);return(0,Cl.jsxs)("button",{onClick:()=>je("product",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-3 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group relative",children:[(0,Cl.jsxs)("div",{className:"w-12 h-12 rounded overflow-hidden bg-gray-100 flex-shrink-0 relative",children:[e.thumbnail_url?(0,Cl.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover"}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,Cl.jsx)(si,{className:"w-6 h-6 text-gray-400"})}),(0,Cl.jsx)("button",{onClick:t=>Ne(t,e),className:"absolute top-0.5 right-0.5 p-1 bg-white/95 hover:bg-white rounded shadow-sm transition-colors z-10","aria-label":s?"Remove from wishlist":"Add to wishlist",children:(0,Cl.jsx)(Kl,{className:"w-3 h-3 ".concat(s?"fill-red-500 text-red-500":"text-gray-500")})})]}),(0,Cl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Cl.jsx)("p",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF] truncate mb-0.5",children:e.product_name}),e.price&&(0,Cl.jsxs)("p",{className:"text-xs text-gray-600 font-poppins",children:["\u20b9",e.price]})]})]},e.listing_id)})})]}),0===(null===(e=H.categories)||void 0===e?void 0:e.length)&&0===(null===(t=H.brands)||void 0===t?void 0:t.length)&&0===(null===(s=H.influencers)||void 0===s?void 0:s.length)&&0===(null===(r=H.products)||void 0===r?void 0:r.length)&&(0,Cl.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 text-center",children:(0,Cl.jsxs)("p",{className:"text-sm text-gray-500 font-poppins",children:['No results found for "',B,'"']})})]}):$?(0,Cl.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Cl.jsx)(Zl,{className:"w-5 h-5 animate-spin text-[#6A00FF]"})}):W?(0,Cl.jsxs)("div",{className:"max-w-7xl mx-auto",children:[W.categories&&W.categories.length>0&&(0,Cl.jsxs)("div",{className:"border-b border-gray-200",children:[(0,Cl.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,Cl.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Categories"})}),(0,Cl.jsx)("div",{children:W.categories.map(e=>(0,Cl.jsxs)("button",{onClick:()=>je("category",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-2.5 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group",children:[(0,Cl.jsx)(ei,{className:"w-4 h-4 text-gray-400 group-hover:text-[#6A00FF] flex-shrink-0"}),(0,Cl.jsx)("span",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF]",children:e.category_name})]},e.category_id))})]}),W.brands&&W.brands.length>0&&(0,Cl.jsxs)("div",{className:"border-b border-gray-200",children:[(0,Cl.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,Cl.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Brands"})}),(0,Cl.jsx)("div",{children:W.brands.map(e=>(0,Cl.jsxs)("button",{onClick:()=>je("brand",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-2.5 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group",children:[e.profile_image_url?(0,Cl.jsx)("img",{src:e.profile_image_url,alt:e.business_name,className:"w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0"}):(0,Cl.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200 flex-shrink-0",children:(0,Cl.jsx)(Bl,{className:"w-4 h-4 text-gray-400"})}),(0,Cl.jsx)("div",{className:"flex-1 min-w-0",children:(0,Cl.jsx)("p",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF] truncate",children:e.business_name})})]},e.provider_id))})]}),W.influencers&&W.influencers.length>0&&(0,Cl.jsxs)("div",{className:"border-b border-gray-200",children:[(0,Cl.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,Cl.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Influencers"})}),(0,Cl.jsx)("div",{children:W.influencers.map(e=>(0,Cl.jsxs)("button",{onClick:()=>je("influencer",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-2.5 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group",children:[e.profile_image_url?(0,Cl.jsx)("img",{src:e.profile_image_url,alt:e.business_name,className:"w-8 h-8 rounded-full object-cover border border-gray-200 flex-shrink-0"}):(0,Cl.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200 flex-shrink-0",children:(0,Cl.jsx)(ti,{className:"w-4 h-4 text-gray-400"})}),(0,Cl.jsx)("div",{className:"flex-1 min-w-0",children:(0,Cl.jsx)("p",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF] truncate",children:e.business_name})})]},e.provider_id))})]}),W.products&&W.products.length>0&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-2 bg-gray-50",children:(0,Cl.jsx)("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide font-poppins",children:"Products"})}),(0,Cl.jsx)("div",{children:W.products.map(e=>{const t=j.includes(e.listing_id);return(0,Cl.jsxs)("button",{onClick:()=>je("product",e),className:"w-full flex items-center gap-3 px-4 sm:px-6 lg:px-8 py-2.5 hover:bg-orange-50 border-b border-gray-100 transition-colors text-left group relative",children:[(0,Cl.jsxs)("div",{className:"w-12 h-12 rounded overflow-hidden bg-gray-100 flex-shrink-0 relative",children:[e.thumbnail_url?(0,Cl.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover"}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,Cl.jsx)(si,{className:"w-6 h-6 text-gray-400"})}),(0,Cl.jsx)("button",{onClick:t=>Ne(t,e),className:"absolute top-0.5 right-0.5 p-1 bg-white/95 hover:bg-white rounded shadow-sm transition-colors z-10","aria-label":t?"Remove from wishlist":"Add to wishlist",children:(0,Cl.jsx)(Kl,{className:"w-3 h-3 ".concat(t?"fill-red-500 text-red-500":"text-gray-500")})})]}),(0,Cl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Cl.jsx)("p",{className:"text-sm text-gray-900 font-poppins group-hover:text-[#6A00FF] truncate mb-0.5",children:e.product_name}),e.price&&(0,Cl.jsxs)("p",{className:"text-xs text-gray-600 font-poppins",children:["\u20b9",e.price]})]})]},e.listing_id)})})]}),(!W.categories||0===W.categories.length)&&(!W.brands||0===W.brands.length)&&(!W.influencers||0===W.influencers.length)&&(!W.products||0===W.products.length)&&(0,Cl.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-6 text-center",children:[(0,Cl.jsx)("p",{className:"text-sm text-gray-500 font-poppins mb-3",children:"No suggestions found"}),(0,Cl.jsxs)("button",{onClick:()=>ve(B),className:"px-4 py-2 bg-[#6A00FF] text-white rounded font-poppins text-sm hover:bg-purple-700 transition-colors font-medium",children:['Search for "',B,'"']})]})]}):(0,Cl.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 text-center",children:(0,Cl.jsx)("p",{className:"text-sm text-gray-500 font-poppins",children:"Start typing to search..."})})})]})]})]})},ai=Ul("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),li=Ul("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),ii=Ul("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),oi=Ul("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ci=Ul("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),di=Ul("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ui=Ul("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),mi=Ul("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),pi=Ul("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),xi=()=>{var e,t,s,r,n,l;const[i]=Te(),o=te(),{user:c,isAuthenticated:d}=El(),[u,m]=(0,a.useState)([]),[p,x]=(0,a.useState)(0),[h,f]=(0,a.useState)(!0),[g,b]=(0,a.useState)({}),[y,v]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!0),[w,k]=(0,a.useState)({}),[_,C]=(0,a.useState)({}),[S,E]=(0,a.useState)({}),[F,L]=(0,a.useState)([]),[P,A]=(0,a.useState)([]),[R,T]=(0,a.useState)(!1),[D,M]=(0,a.useState)(null),[O,I]=(0,a.useState)(!1),[z,U]=(0,a.useState)(!1),[B,V]=(0,a.useState)(null),[W,q]=(0,a.useState)(null),[H,G]=(0,a.useState)(null),[$,Y]=(0,a.useState)(!1),[Q,K]=(0,a.useState)({}),[J,X]=(0,a.useState)({}),Z=(0,a.useRef)(null),ee=(0,a.useRef)(new Set),se=(0,a.useCallback)(e=>t=>{t&&b(s=>s[e]!==t?Ue(Ue({},s),{},{[e]:t}):s)},[]);(0,a.useEffect)(()=>{const e=i.get("video");console.log("Watch component mounted with video ID:",e),re(0,20,!0,e)},[i]),(0,a.useEffect)(()=>{if(u.length>0){const e=u[p],t=(null===e||void 0===e?void 0:e.listing_id)||(null===e||void 0===e?void 0:e.video_id);t&&!ee.current.has(t)&&(ee.current.add(t),oe(t,"view").then(()=>{k(s=>{var r;return Ue(Ue({},s),{},{[t]:Ue(Ue({},s[t]),{},{views:((null===(r=s[t])||void 0===r?void 0:r.views)||e.view_count||0)+1})})})}).catch(console.error)),null!==e&&void 0!==e&&e.products&&Array.isArray(e.products)?L(e.products):null!==e&&void 0!==e&&e.provider_id&&(ne(e.provider_id),ae(e.provider_id,t)),Object.keys(g).forEach(e=>{const t=g[e];t&&parseInt(e)!==p&&t.pause()});const s=g[p];s&&(s.play().catch(console.error),v(!0))}},[p,u]);const re=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{let a;if(console.log("Loading videos..."),s&&f(!0),r&&s)try{const s=await la.getVideoDetails(r);if(s.video){const n=await la.getFeedWithAdminPriority(t,e),l=[s.video,...n.videos||[]].filter((e,t,s)=>t===s.findIndex(t=>t.listing_id===e.listing_id));a={videos:l},console.log("Loading specific video ".concat(r," with admin priority feed"),a.videos)}else a=await la.getFeedWithAdminPriority(t,e)}catch(n){console.log("Could not fetch specific video, falling back to admin priority feed:",n),a=await la.getFeedWithAdminPriority(t,e)}else a=await la.getFeedWithAdminPriority(t,e);console.log("Loading videos batch: offset=".concat(e,", limit=").concat(t),a.videos);let l=(a.videos||[]).filter(e=>(e.listing_id||e.video_id)&&e.video_url&&""!==e.video_url.trim()&&(e.video_url.startsWith("http")||e.video_url.startsWith("https")));if(s){if(console.log("Setting videos:",l),m(l),de(l),ce(l),r){const e=l.findIndex(e=>e.listing_id===parseInt(r)||e.video_id===parseInt(r));console.log("Looking for video ID ".concat(r," in videos:"),l.map(e=>e.listing_id)),console.log("Found video at index: ".concat(e)),-1!==e?(x(e),console.log("Set current video index to: ".concat(e))):(x(0),console.log("Specific video not found, set to index 0"))}}else m(e=>[...e,...l]),de(l),ce(l);const i={};l.forEach(e=>{const t=e.listing_id||e.video_id;i[t]={views:e.view_count||0,likes:e.like_count||0,loves:e.love_count||0,clicks:e.click_count||0}}),k(e=>Ue(Ue({},e),i)),0===l.length&&s&&Pt.error("No videos available")}catch(n){console.error("Error loading videos:",n),Pt.error("Failed to load videos")}finally{s&&f(!1)}},ne=async e=>{if(e)try{const t=await la.getProductsByProvider(e);L(t.products||[])}catch(t){console.error("Error loading related products:",t),L([])}},ae=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e)try{const s=((await la.getVideosByProvider(e)).videos||[]).filter(e=>e.listing_id!==t);A(s)}catch(s){console.error("Error loading profile videos:",s),A([])}},le=()=>V(null),ie=async e=>{try{await navigator.clipboard.writeText(e),Pt.success("Coupon copied")}catch(t){console.error("Failed to copy coupon:",t),Pt.error("Failed to copy coupon")}},oe=async(e,t)=>{if(e)try{await la.engage(e,t)}catch(s){console.error("Error tracking ".concat(t,":"),s)}},ce=async e=>{if(d)try{const t=[...new Set(e.map(e=>e.user_id).filter(Boolean))];if(0===t.length)return;const s=t.map(async e=>{try{return{userId:e,isFollowing:(await aa.getFollowStatus(e)).is_following||!1}}catch(t){return console.error("Error loading follow status for user ".concat(e,":"),t),{userId:e,isFollowing:!1}}}),r=await Promise.all(s),n={};r.forEach(e=>{let{userId:t,isFollowing:s}=e;n[t]=s}),K(e=>Ue(Ue({},e),n))}catch(t){console.error("Error loading follow statuses:",t)}else console.log("User not authenticated, skipping follow status loading")},de=async e=>{if(!d){console.log("User not authenticated, skipping like/love status loading");const t={};return e.forEach(e=>{t[e.listing_id]={likes:e.like_count||0,loves:e.love_count||0,clicks:e.click_count||0,views:e.view_count||0}}),void k(e=>Ue(Ue({},e),t))}const t=(e||[]).filter(e=>!(!e.listing_id&&!e.video_id));console.log("Loading like/love statuses for videos:",t.map(e=>e.listing_id||e.video_id));try{const e=t.map(e=>({listingId:e.listing_id||e.video_id,liked:!1,loved:!1,likeCount:e.like_count||0,loveCount:e.love_count||0,clickCount:e.click_count||0,viewCount:e.view_count||0})),s={},r={},n={};e.forEach(e=>{s[e.listingId]=e.liked,r[e.listingId]=e.loved,n[e.listingId]={likes:e.likeCount,loves:e.loveCount,clicks:e.clickCount,views:e.viewCount}}),C(e=>Ue(Ue({},e),s)),E(e=>Ue(Ue({},e),r)),k(e=>Ue(Ue({},e),n)),console.log("Loaded like/love statuses:",e)}catch(s){console.error("Error loading like/love statuses:",s)}},ue=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"k":e.toString(),me=async()=>{if(!$){if(Y(!0),p>=u.length-1)try{await re(u.length,5,!1)}catch(e){console.error("Error loading more videos:",e)}p<u.length-1?x(p+1):Pt.error("No more videos available"),setTimeout(()=>Y(!1),300)}},pe=()=>{$||(Y(!0),p>0?x(p-1):Pt.error("You're at the beginning of the feed"),setTimeout(()=>Y(!1),300))},xe=(0,a.useRef)(null),he=(0,a.useRef)(null),fe=(0,a.useRef)(!1);return h?(0,Cl.jsx)("div",{className:"h-screen bg-white flex items-center justify-center",children:(0,Cl.jsx)("div",{className:"text-gray-900 text-xl font-poppins",children:"Loading videos..."})}):0===u.length?(0,Cl.jsx)("div",{className:"h-screen bg-white flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"text-gray-900 text-xl mb-4 font-poppins",children:"No videos available"}),(0,Cl.jsx)("button",{onClick:()=>re(0,5,!0),className:"bg-[#6A00FF] text-white px-6 py-2 rounded-full font-poppins font-medium",children:"Refresh"})]})}):(0,Cl.jsxs)("div",{className:"h-screen bg-white overflow-hidden relative",onTouchStart:e=>{e.target.closest(".overflow-x-auto")?fe.current=!0:(fe.current=!1,xe.current=e.targetTouches[0].clientY,he.current=e.targetTouches[0].clientX)},onTouchMove:e=>{if(!fe.current&&null!==he.current){const t=Math.abs(e.targetTouches[0].clientX-he.current);if(t>Math.abs(e.targetTouches[0].clientY-xe.current)&&t>10)return void(fe.current=!0)}},onTouchEnd:e=>{if(fe.current)return fe.current=!1,xe.current=null,void(he.current=null);if(null===xe.current)return;const t=e.changedTouches[0].clientY,s=xe.current-t,r=s<-50;s>50?me():r&&pe(),xe.current=null,he.current=null},ref:Z,children:[(0,Cl.jsxs)("div",{className:"relative h-full transition-transform duration-300 ease-out",style:{transform:"translateY(-".concat(100*p,"vh)"),height:"".concat(100*u.length,"vh")},children:[u.map((e,t)=>{var s,r,n,a;Array.isArray(e.products)&&e.products.length>0&&e.products[0];const l=Array.isArray(e.products)&&(null===(s=e.products[0])||void 0===s?void 0:s.link)||e.link;return(0,Cl.jsxs)("div",{className:"absolute inset-0 w-full h-screen",style:{top:"".concat(100*t,"vh")},children:[e.thumbnail_url&&(0,Cl.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(".concat(e.thumbnail_url,")"),filter:"blur(20px)",transform:"scale(1.1)"}}),(0,Cl.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-20"}),(0,Cl.jsxs)("div",{className:"relative h-full flex items-center justify-center",onClick:e=>{const t=e.target,s=t.closest("button")||t.closest('[role="button"]'),r=t.closest(".overflow-x-auto"),n=t.closest("[onClick]")&&t!==e.currentTarget;s||r||n||(()=>{const e=g[p];e&&(e.paused?(e.play(),v(!0)):(e.pause(),v(!1)))})()},children:[e.video_url?(0,Cl.jsx)("video",{ref:se(t),className:"h-full w-full object-cover",src:e.video_url,muted:j,loop:!0,playsInline:!0,preload:"metadata",onLoadedData:()=>{if(t===p){const e=g[t];e&&(e.play().catch(console.error),v(!0))}},onError:t=>{console.error("Video error:",t),console.error("Video src:",e.video_url),Pt.error("Video failed to load: ".concat(e.video_url))},onCanPlay:()=>{if(t===p){const e=g[t];e&&(e.play().catch(console.error),v(!0))}}}):(0,Cl.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-[#6A00FF] to-purple-200",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-24 h-24 bg-white bg-opacity-30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Cl.jsx)(Jl,{className:"w-12 h-12 text-white"})}),(0,Cl.jsx)("p",{className:"text-white text-lg font-medium font-poppins",children:"No video available"}),(0,Cl.jsx)("p",{className:"text-purple-100 text-sm mt-2 font-poppins",children:"This listing doesn't have a video"})]})}),(0,Cl.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:!y&&e.video_url&&t===p&&(0,Cl.jsx)("div",{className:"bg-white bg-opacity-80 rounded-full p-6 pointer-events-auto",children:(0,Cl.jsx)(Jl,{className:"w-16 h-16 text-[#6A00FF]"})})}),t===p&&(0,Cl.jsx)("button",{onClick:e=>{e.stopPropagation(),(()=>{const e=g[p];e&&(e.muted=!e.muted,N(e.muted))})()},className:"absolute top-16 right-4 bg-white bg-opacity-90 rounded-full p-2 backdrop-blur-sm z-30 pointer-events-auto",children:j?(0,Cl.jsx)(li,{className:"w-4 h-4 text-[#6A00FF]"}):(0,Cl.jsx)(ii,{className:"w-4 h-4 text-[#6A00FF]"})})]}),t===p&&(0,Cl.jsxs)("div",{className:"absolute top-4 left-4 right-4 z-30 flex items-center gap-3 pointer-events-auto",children:[(0,Cl.jsx)("button",{onClick:e=>{e.stopPropagation(),o("/")},className:"bg-white bg-opacity-90 rounded-full p-2 backdrop-blur-sm",children:(0,Cl.jsx)(oi,{className:"w-5 h-5 text-[#6A00FF]"})}),(0,Cl.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,Cl.jsx)("div",{className:"w-10 h-10 bg-[#6A00FF] rounded-full flex items-center justify-center flex-shrink-0 cursor-pointer hover:opacity-80 transition-opacity",onClick:t=>{t.stopPropagation(),e.user_id&&o("/profile?user_id=".concat(e.user_id))},children:e.thumbnail_url?(0,Cl.jsx)("img",{src:e.thumbnail_url,alt:e.provider_name,className:"w-full h-full rounded-full object-cover"}):(0,Cl.jsx)(ci,{className:"w-5 h-5 text-white"})}),(0,Cl.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[(0,Cl.jsx)("span",{className:"text-white font-semibold text-sm truncate font-poppins cursor-pointer hover:underline",style:{textShadow:"0 1px 3px rgba(0,0,0,0.5)"},onClick:t=>{t.stopPropagation(),e.user_id&&o("/profile?user_id=".concat(e.user_id))},children:e.provider_name||e.handle_address||"User"}),(0,Cl.jsx)("span",{className:"bg-[#6A00FF] text-white text-xs px-2 py-0.5 rounded-full font-medium flex-shrink-0 font-poppins",children:"INFLUENCER"===e.provider_type?"Influencer":"ADMIN"===e.provider_type?"Admin":"Brand"}),(0,Cl.jsx)("div",{className:"w-4 h-4 bg-[#6A00FF] rounded-full flex items-center justify-center flex-shrink-0",children:(0,Cl.jsx)(di,{className:"w-3 h-3 text-white"})})]}),d&&e.user_id&&c&&c.user_id!==e.user_id&&(0,Cl.jsx)("button",{onClick:t=>(async(e,t)=>{if(t&&t.stopPropagation(),!d)return void Pt.error("Please log in to follow users");if(!e)return void Pt.error("User ID not available");if(c&&c.user_id===e)return;const s=Q[e]||!1;K(t=>Ue(Ue({},t),{},{[e]:!s})),X(t=>Ue(Ue({},t),{},{[e]:!0}));try{s?(await aa.unfollow(e),Pt.success("Unfollowed")):(await aa.follow(e),Pt.success("Followed"))}catch(n){var r;console.error("Error toggling follow:",n),K(t=>Ue(Ue({},t),{},{[e]:s})),401===(null===(r=n.response)||void 0===r?void 0:r.status)?Pt.error("Please log in to follow users"):Pt.error("Failed to update follow status")}finally{X(t=>Ue(Ue({},t),{},{[e]:!1}))}})(e.user_id,t),disabled:J[e.user_id],className:"bg-white bg-opacity-90 rounded-full px-3 py-1.5 backdrop-blur-sm flex items-center gap-1.5 flex-shrink-0 transition-colors ".concat(Q[e.user_id]?"hover:bg-gray-200":"hover:bg-[#6A00FF] hover:text-white"),children:J[e.user_id]?(0,Cl.jsx)("span",{className:"text-xs font-semibold text-gray-500 font-poppins",children:"..."}):Q[e.user_id]?(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)(ui,{className:"w-3.5 h-3.5 text-gray-700"}),(0,Cl.jsx)("span",{className:"text-xs font-semibold text-gray-700 font-poppins",children:"Following"})]}):(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)(mi,{className:"w-3.5 h-3.5 text-[#6A00FF]"}),(0,Cl.jsx)("span",{className:"text-xs font-semibold text-[#6A00FF] font-poppins",children:"Follow"})]})})]})]}),t===p&&(0,Cl.jsxs)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex flex-col items-center z-30 pointer-events-auto",style:{gap:"1px"},children:[(0,Cl.jsxs)("div",{className:"flex flex-col items-center",style:{gap:"0px"},children:[(0,Cl.jsx)("div",{className:"p-2",children:(0,Cl.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512",className:"text-white fill-white",children:[(0,Cl.jsx)("circle",{cx:"256",cy:"256",r:"64",fill:"currentColor"}),(0,Cl.jsx)("path",{fill:"currentColor",d:"M394.82 141.18C351.1 111.2 304.31 96 255.76 96c-43.69 0-86.28 13-126.59 38.48C88.52 160.23 48.67 207 16 256c26.42 44 62.56 89.24 100.2 115.18C159.38 400.92 206.33 416 255.76 416c49 0 95.85-15.07 139.3-44.79C433.31 345 469.71 299.82 496 256c-26.38-43.43-62.9-88.56-101.18-114.82M256 352a96 96 0 1 1 96-96a96.11 96.11 0 0 1-96 96"})]})}),(0,Cl.jsx)("span",{className:"text-white text-[10px] font-semibold font-poppins -mt-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:ue((null===(r=w[e.video_id||e.listing_id])||void 0===r?void 0:r.views)||0)})]}),(0,Cl.jsxs)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(console.log("Like button clicked for:",e),d)try{const t=_[e];let s;C(s=>Ue(Ue({},s),{},{[e]:!t})),s=t?await la.unlike(e):await la.like(e),k(r=>{var n,a,l;return Ue(Ue({},r),{},{[e]:Ue(Ue({},r[e]),{},{likes:null!==(n=null===(a=s)||void 0===a?void 0:a.like_count)&&void 0!==n?n:((null===(l=r[e])||void 0===l?void 0:l.likes)||0)+(t?-1:1)})})}),Pt.success(t?"Removed from likes":"Added to likes")}catch(r){var t,s;console.error("Error toggling like:",r),C(t=>Ue(Ue({},t),{},{[e]:!t[e]})),401===(null===(t=r.response)||void 0===t?void 0:t.status)?Pt.error("Please log in to like videos"):500===(null===(s=r.response)||void 0===s?void 0:s.status)?Pt.error("Server error. Please try again."):Pt.error("Failed to update like")}else Pt.error("Please log in to like videos")})(e.video_id||e.listing_id)},className:"flex flex-col items-center group cursor-pointer",style:{gap:"0px"},children:[(0,Cl.jsx)("div",{className:"p-2 group-active:scale-95 transition-transform",children:(0,Cl.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",className:"transition-colors duration-300 ".concat(_[e.video_id||e.listing_id]?"text-blue-400 fill-blue-400":"text-white fill-white"),children:[(0,Cl.jsx)("path",{fill:"currentColor",d:"m20.27 16.265l.705-4.08a1.666 1.666 0 0 0-1.64-1.95h-5.181a.833.833 0 0 1-.822-.969l.663-4.045a4.8 4.8 0 0 0-.09-1.973a1.64 1.64 0 0 0-1.092-1.137l-.145-.047a1.35 1.35 0 0 0-.994.068c-.34.164-.588.463-.68.818l-.476 1.834a7.6 7.6 0 0 1-.656 1.679c-.415.777-1.057 1.4-1.725 1.975l-1.439 1.24a1.67 1.67 0 0 0-.572 1.406l.812 9.393A1.666 1.666 0 0 0 8.597 22h4.648c3.482 0 6.453-2.426 7.025-5.735"}),(0,Cl.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.968 9.485a.75.75 0 0 1 .78.685l.97 11.236a1.237 1.237 0 1 1-2.468.107V10.234a.75.75 0 0 1 .718-.749",clipRule:"evenodd"})]})}),(0,Cl.jsx)("span",{className:"text-white text-[10px] font-semibold font-poppins -mt-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:ue((null===(n=w[e.video_id||e.listing_id])||void 0===n?void 0:n.likes)||0)})]}),(0,Cl.jsxs)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(console.log("Love button clicked for:",e),d)try{const t=S[e];E(s=>Ue(Ue({},s),{},{[e]:!t})),await la.engage(e,"love"),k(s=>{var r;return Ue(Ue({},s),{},{[e]:Ue(Ue({},s[e]),{},{loves:((null===(r=s[e])||void 0===r?void 0:r.loves)||0)+(t?-1:1)})})}),Pt.success(t?"Removed love":"Loved!")}catch(r){var t,s;console.error("Error toggling love:",r),E(t=>Ue(Ue({},t),{},{[e]:!t[e]})),401===(null===(t=r.response)||void 0===t?void 0:t.status)?Pt.error("Please log in to love videos"):500===(null===(s=r.response)||void 0===s?void 0:s.status)?Pt.error("Server error. Please try again."):Pt.error("Failed to update love")}else Pt.error("Please log in to love videos")})(e.video_id||e.listing_id)},className:"flex flex-col items-center group cursor-pointer",style:{gap:"0px"},children:[(0,Cl.jsx)("div",{className:"p-2 group-active:scale-95 transition-transform",children:(0,Cl.jsx)(Kl,{className:"w-5 h-5 transition-colors duration-300 ".concat(S[e.video_id||e.listing_id]?"text-pink-400 fill-pink-400":"text-white fill-white")})}),(0,Cl.jsx)("span",{className:"text-white text-[10px] font-semibold font-poppins -mt-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:ue((null===(a=w[e.video_id||e.listing_id])||void 0===a?void 0:a.loves)||0)})]}),(0,Cl.jsxs)("button",{onClick:e=>{e.stopPropagation(),console.log("Share button clicked"),I(!0)},className:"flex flex-col items-center group cursor-pointer",style:{gap:"0px"},children:[(0,Cl.jsx)("div",{className:"p-2 group-active:scale-95 transition-transform",children:(0,Cl.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",className:"text-white fill-white",children:(0,Cl.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M15.75 4.5a3 3 0 1 1 .825 2.066l-8.421 4.679a3 3 0 0 1 0 1.51l8.421 4.679a3 3 0 1 1-.729 1.31l-8.421-4.678a3 3 0 1 1 0-4.132l8.421-4.679a3 3 0 0 1-.096-.755",clipRule:"evenodd"})})}),(0,Cl.jsx)("span",{className:"text-white text-[10px] font-semibold font-poppins -mt-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"Share"})]}),(0,Cl.jsxs)("button",{onClick:e=>{e.stopPropagation();const t=u[p];(e=>{var t;null!==e&&void 0!==e&&null!==(t=e.coupons)&&void 0!==t&&t.length?V(e):Pt.error("No coupons available for this product yet")})(Array.isArray(null===t||void 0===t?void 0:t.products)&&t.products.length>0?t.products[0]:t)},className:"flex flex-col items-center group cursor-pointer",style:{gap:"0px"},children:[(0,Cl.jsx)("div",{className:"p-2 group-active:scale-95 transition-transform",children:(0,Cl.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",className:"text-white fill-white",children:[(0,Cl.jsx)("path",{d:"m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),(0,Cl.jsx)("path",{fill:"currentColor",d:"M19 4a3 3 0 0 1 2.995 2.824L22 7v1.817a1.55 1.55 0 0 1-.776 1.33l-.107.058a2 2 0 0 0-.14 3.515l.14.075c.433.214.82.656.876 1.24l.007.148V17a3 3 0 0 1-2.824 2.995L19 20H5a3 3 0 0 1-2.995-2.824L2 17v-1.817c0-.606.352-1.078.776-1.33l.107-.058a2 2 0 0 0 .14-3.515l-.14-.075c-.433-.214-.82-.656-.876-1.24L2 8.818V7a3 3 0 0 1 2.824-2.995L5 4zm0 2H5a1 1 0 0 0-.993.883L4 7v1.535a4 4 0 0 1 .185 6.816L4 15.465V17a1 1 0 0 0 .883.993L5 18h14a1 1 0 0 0 .993-.883L20 17v-1.535a4 4 0 0 1-.185-6.816L20 8.535V7a1 1 0 0 0-.883-.993zm-9 3a1 1 0 0 1 .993.883L11 10v4a1 1 0 0 1-1.993.117L9 14v-4a1 1 0 0 1 1-1"})]})}),(0,Cl.jsx)("span",{className:"text-white text-[10px] font-semibold font-poppins -mt-2",style:{textShadow:"0 2px 4px rgba(0,0,0,0.8)"},children:"Coupon"})]})]}),t===p&&(0,Cl.jsx)("div",{className:"absolute bottom-2 left-4 right-4 z-30 pointer-events-auto",children:F.length>0&&(0,Cl.jsx)("div",{className:"mb-3 pointer-events-auto",children:(0,Cl.jsxs)("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide pb-2 pointer-events-auto",onTouchStart:e=>e.stopPropagation(),onTouchMove:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),style:{scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch"},children:[(0,Cl.jsx)("div",{onClick:e=>{e.stopPropagation(),l?window.open(l,"_blank","noopener,noreferrer"):Pt.error("Product link not available")},className:"flex-shrink-0 cursor-pointer transition-all duration-200 pointer-events-auto",style:{scrollSnapAlign:"start",width:"calc((100vw - 48px) / 3.2)",minWidth:"calc((100vw - 48px) / 3.2)"},children:(0,Cl.jsx)("div",{className:"w-full rounded-xl border-3 border-[#6A00FF] shadow-lg shadow-[#6A00FF]/30 overflow-hidden relative",style:{height:"140px"},children:(0,Cl.jsxs)("div",{className:"w-full h-full relative",children:[e.thumbnail_url?(0,Cl.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Cl.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-[#6A00FF] to-purple-200 flex items-center justify-center ".concat(e.thumbnail_url?"hidden":"flex"),children:(0,Cl.jsx)("span",{className:"text-white text-xs font-bold text-center px-1 font-poppins",children:e.product_name||"Current"})}),(0,Cl.jsx)("div",{className:"absolute bottom-0 left-0 right-0 flex items-center justify-center pb-2",children:(0,Cl.jsx)("span",{className:"bg-[#6A00FF] text-white text-xs px-3 py-1 rounded-full font-semibold font-poppins",children:"Product 1"})})]})})}),F.map((e,t)=>(0,Cl.jsx)("div",{onClick:t=>{t.stopPropagation(),e.link?window.open(e.link,"_blank","noopener,noreferrer"):Pt.error("Product link not available")},className:"flex-shrink-0 cursor-pointer transition-all duration-200 pointer-events-auto",style:{scrollSnapAlign:"start",width:"calc((100vw - 48px) / 3.2)",minWidth:"calc((100vw - 48px) / 3.2)"},children:(0,Cl.jsx)("div",{className:"w-full rounded-xl border-3 border-white/60 overflow-hidden shadow-md hover:border-[#6A00FF] hover:border-opacity-80 transition-all relative",style:{height:"140px"},children:(0,Cl.jsxs)("div",{className:"w-full h-full relative",children:[e.thumbnail_url?(0,Cl.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Cl.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center ".concat(e.thumbnail_url?"hidden":"flex"),children:(0,Cl.jsx)("span",{className:"text-gray-700 text-xs font-bold text-center px-1 font-poppins",children:e.product_name||"Product"})}),(0,Cl.jsx)("div",{className:"absolute bottom-0 left-0 right-0 flex items-center justify-center pb-2",children:(0,Cl.jsxs)("span",{className:"bg-[#6A00FF] text-white text-xs px-3 py-1 rounded-full font-semibold font-poppins",children:["Product ",t+2]})})]})})},e.listing_id))]})})})]},e.listing_id)}),(0,Cl.jsx)("div",{className:"absolute inset-0 w-full h-screen flex items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300",style:{top:"".concat(100*u.length,"vh")},children:(0,Cl.jsxs)("div",{className:"text-center text-gray-900",children:[(0,Cl.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfac"}),(0,Cl.jsx)("h3",{className:"text-2xl font-bold mb-2 font-poppins",children:"You've reached the end!"}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-6 font-poppins",children:"No more videos available"}),(0,Cl.jsx)("button",{onClick:()=>{x(0),re(0,5,!0)},className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-6 py-3 rounded-full font-semibold transition-colors font-poppins",children:"Start Over"})]})})]}),(0,Cl.jsx)("div",{className:"absolute inset-0 focus:outline-none pointer-events-none",tabIndex:0,onKeyDown:e=>{"ArrowUp"===e.key?me():"ArrowDown"===e.key&&pe()}}),R&&D&&(0,Cl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[10001] p-4",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Cl.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Product Details"}),(0,Cl.jsx)("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Cl.jsxs)("div",{className:"p-6",children:[D.thumbnail_url&&(0,Cl.jsx)("div",{className:"mb-4",children:(0,Cl.jsx)("img",{src:D.thumbnail_url,alt:D.product_name,className:"w-full h-48 object-cover rounded-lg"})}),(0,Cl.jsxs)("div",{className:"space-y-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:D.product_name}),(0,Cl.jsxs)("p",{className:"text-gray-600",children:["by ",D.provider_name||D.handle_address]})]}),D.price&&(0,Cl.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["\u20b9",D.price]}),D.description&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h5",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),(0,Cl.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:D.description})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:ue(D.view_count||0)}),(0,Cl.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Views"})]}),(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:ue(D.like_count||0)}),(0,Cl.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Likes"})]})]})]})]}),(0,Cl.jsx)("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:D.link?(0,Cl.jsx)("a",{href:D.link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-orange-500 text-white py-3 px-4 rounded-xl font-bold text-center block hover:bg-orange-600 transition-colors shadow-lg",children:"View Product"}):(0,Cl.jsx)("div",{className:"w-full bg-gray-300 text-gray-500 py-3 px-4 rounded-xl font-semibold text-center",children:"No link available"})})]})}),B&&(0,Cl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-end justify-center z-[10001] animate-fadeIn",onClick:le,children:(0,Cl.jsxs)("div",{className:"bg-white w-full max-w-sm rounded-t-2xl shadow-2xl animate-slideUp overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-100",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400 font-semibold",children:"Coupons"}),(0,Cl.jsx)("p",{className:"text-sm font-semibold text-gray-900 mt-0.5",children:B.product_name||B.name||"Product"})]}),(0,Cl.jsx)("button",{onClick:le,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close coupon modal",children:(0,Cl.jsx)(Xl,{className:"w-5 h-5"})})]}),(0,Cl.jsx)("div",{className:"p-5 space-y-2 max-h-[60vh] overflow-y-auto",children:null!==(e=B.coupons)&&void 0!==e&&e.length?B.coupons.map((e,t)=>(0,Cl.jsxs)("button",{onClick:()=>ie(e.code),className:"w-full text-left border border-gray-200 rounded-lg px-3 py-2 hover:border-gray-300 transition-colors flex items-center justify-between gap-3",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"font-mono text-sm font-semibold text-gray-900 tracking-wide",children:e.code}),e.description&&(0,Cl.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]}),(0,Cl.jsx)(ai,{className:"w-4 h-4 text-gray-400"})]},"".concat(e.code,"-").concat(t))):(0,Cl.jsx)("div",{className:"text-center py-6 text-sm text-gray-500",children:"No coupons available for this product yet"})}),(0,Cl.jsx)("div",{className:"px-5 py-3 border-t border-gray-100 text-center text-xs text-gray-500",children:"Tap any coupon to copy it"})]})}),O&&(0,Cl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-end justify-center z-[10001] animate-fadeIn",children:(0,Cl.jsxs)("div",{className:"bg-white w-full max-w-sm rounded-t-3xl shadow-2xl animate-slideUp overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,Cl.jsx)("div",{className:"flex justify-center pt-3 pb-2",children:(0,Cl.jsx)("div",{className:"w-12 h-1 bg-gray-600 rounded-full"})}),(0,Cl.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,Cl.jsx)("h3",{className:"text-gray-900 text-xl font-bold font-poppins",children:"Share"}),(0,Cl.jsx)("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close share modal",children:(0,Cl.jsx)(Xl,{className:"w-6 h-6"})})]}),(0,Cl.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Cl.jsxs)("button",{onClick:async()=>{try{const e=u[p],t="".concat(window.location.origin,"/watch?video=").concat(null===e||void 0===e?void 0:e.listing_id);await navigator.clipboard.writeText(t),Pt.success("Link copied to clipboard!"),I(!1)}catch(e){Pt.error("Failed to copy link")}},className:"w-full bg-[#6A00FF] hover:bg-purple-700 text-white py-4 px-6 rounded-xl font-semibold transition-colors flex items-center justify-center space-x-3 font-poppins",children:[(0,Cl.jsx)(pi,{className:"w-5 h-5"}),(0,Cl.jsx)("span",{children:"Copy Link"})]}),(0,Cl.jsx)("div",{className:"bg-gray-100 rounded-xl p-4 mt-4",children:(0,Cl.jsxs)("div",{className:"flex items-center space-x-3",children:[(null===(t=u[p])||void 0===t?void 0:t.thumbnail_url)&&(0,Cl.jsx)("img",{src:u[p].thumbnail_url,alt:u[p].product_name,className:"w-12 h-12 rounded-lg object-cover"}),(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("p",{className:"text-gray-900 font-semibold text-sm font-poppins",children:null===(s=u[p])||void 0===s?void 0:s.product_name}),(0,Cl.jsxs)("p",{className:"text-gray-600 text-xs font-poppins",children:["by @",null===(r=u[p])||void 0===r?void 0:r.handle_address]})]})]})})]})]})}),z&&(0,Cl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-end justify-center z-[10001] animate-fadeIn",children:(0,Cl.jsxs)("div",{className:"bg-white w-full max-w-sm rounded-t-3xl shadow-2xl animate-slideUp overflow-hidden max-h-[80vh]",onClick:e=>e.stopPropagation(),children:[(0,Cl.jsx)("div",{className:"flex justify-center pt-3 pb-2 cursor-grab active:cursor-grabbing",onMouseDown:e=>{const t=e.currentTarget.closest(".bg-black");let s=e.clientY,r=t.offsetHeight;const n=e=>{const n=s-e.clientY,a=r+n,l=.8*window.innerHeight;a>=200&&a<=l&&(t.style.height="".concat(a,"px"))},a=()=>{const t=e.currentTarget.closest(".bg-black");t.offsetHeight<.3*window.innerHeight?U(!1):t.style.height="80vh",document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",a)},children:(0,Cl.jsx)("div",{className:"w-12 h-1 bg-gray-600 rounded-full"})}),(0,Cl.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsx)("h3",{className:"text-gray-900 text-xl font-bold font-poppins",children:"Store"}),(0,Cl.jsx)("button",{onClick:()=>U(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,Cl.jsxs)("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[60vh]",children:[u[p]&&(0,Cl.jsx)("div",{className:"bg-gray-100 rounded-xl p-4",children:(0,Cl.jsxs)("div",{className:"flex items-center space-x-3",children:[u[p].thumbnail_url&&(0,Cl.jsx)("img",{src:u[p].thumbnail_url,alt:u[p].product_name,className:"w-16 h-16 rounded-lg object-cover"}),(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("h4",{className:"text-gray-900 font-semibold font-poppins",children:u[p].product_name}),(0,Cl.jsxs)("p",{className:"text-gray-600 text-sm font-poppins",children:["by @",u[p].handle_address]}),(0,Cl.jsx)("p",{className:"text-[#6A00FF] font-semibold mt-1 font-poppins",children:"Featured Product"})]})]})}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"text-gray-900 font-semibold mb-3 font-poppins",children:"More from this Store"}),(0,Cl.jsx)("div",{className:"space-y-3",children:F.length>0?F.slice(0,5).map(e=>(0,Cl.jsx)("div",{className:"bg-gray-100 rounded-xl p-4",children:(0,Cl.jsxs)("div",{className:"flex items-center space-x-3",children:[e.thumbnail_url&&(0,Cl.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-12 h-12 rounded-lg object-cover"}),(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("h5",{className:"text-gray-900 font-medium text-sm font-poppins",children:e.product_name}),(0,Cl.jsx)("p",{className:"text-gray-600 text-xs font-poppins",children:e.category_name||"Product"})]}),(0,Cl.jsx)("button",{className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-3 py-1 rounded-lg text-xs font-medium transition-colors font-poppins",children:"View"})]})},e.listing_id)):(0,Cl.jsx)("div",{className:"text-center py-8",children:(0,Cl.jsx)("p",{className:"text-gray-600 font-poppins",children:"No other products available"})})})]}),(0,Cl.jsxs)("div",{className:"bg-gray-100 rounded-xl p-4",children:[(0,Cl.jsx)("h4",{className:"text-gray-900 font-semibold mb-2 font-poppins",children:"Store Information"}),(0,Cl.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Cl.jsxs)("div",{className:"flex justify-between",children:[(0,Cl.jsx)("span",{className:"text-gray-600 font-poppins",children:"Provider:"}),(0,Cl.jsxs)("span",{className:"text-gray-900 font-poppins",children:["@",null===(n=u[p])||void 0===n?void 0:n.handle_address]})]}),(0,Cl.jsxs)("div",{className:"flex justify-between",children:[(0,Cl.jsx)("span",{className:"text-gray-600 font-poppins",children:"Type:"}),(0,Cl.jsx)("span",{className:"text-gray-900 font-poppins",children:null===(l=u[p])||void 0===l?void 0:l.provider_type})]}),(0,Cl.jsxs)("div",{className:"flex justify-between",children:[(0,Cl.jsx)("span",{className:"text-gray-600 font-poppins",children:"Products:"}),(0,Cl.jsx)("span",{className:"text-gray-900 font-poppins",children:F.length+1})]})]})]})]})]})})]})},hi=Ul("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),fi=Ul("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),gi=Ul("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),bi=()=>{const e=te(),[t]=Te(),{isAuthenticated:s}=El(),r=t.get("category_id"),n=t.get("category_name")||"Category",[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)({}),[m,p]=(0,a.useState)({}),[x,h]=(0,a.useState)({}),[f,g]=(0,a.useState)(!0),b=window.matchMedia("(prefers-reduced-motion: reduce)").matches,y=e=>e?"\u20b9".concat(parseInt(e).toLocaleString("en-IN")):"\u20b90";(0,a.useEffect)(()=>{r?(j(parseInt(r)),v()):(g(!1),Pt.error("Invalid category"),e("/home"))},[r]);const v=async()=>{if(s)try{const e=await sa();if(e&&e.wishlist){const t=e.wishlist.map(e=>e.listing_id);c(t)}else c([])}catch(e){console.error("Error fetching wishlist:",e),c([])}else c([])},j=async e=>{try{g(!0);const t=await qn({category_id:e,limit:50});t&&t.listings&&Array.isArray(t.listings)?(i(t.listings),await N(t.listings)):i([])}catch(t){console.error("Error loading category products:",t),i([]),Pt.error("Failed to load category products")}finally{g(!1)}},N=async e=>{if(!s||!e||0===e.length){const t={};return e.forEach(e=>{t[e.listing_id]={likes:e.like_count||0,loves:e.love_count||0,clicks:e.click_count||0,views:e.view_count||0}}),void h(e=>Ue(Ue({},e),t))}try{const t=e.map(async e=>{try{const[t,s]=await Promise.all([Yn(e.listing_id),Jn(e.listing_id)]);return{listingId:e.listing_id,liked:t.liked||!1,loved:s.loved||!1,likeCount:t.like_count||e.like_count||0,loveCount:s.love_count||e.love_count||0,clickCount:e.click_count||0,viewCount:e.view_count||0}}catch(t){return console.error("Error loading status for ".concat(e.listing_id,":"),t),{listingId:e.listing_id,liked:!1,loved:!1,likeCount:e.like_count||0,loveCount:e.love_count||0,clickCount:e.click_count||0,viewCount:e.view_count||0}}}),s=await Promise.all(t),r={},n={},a={};s.forEach(e=>{r[e.listingId]=e.liked,n[e.listingId]=e.loved,a[e.listingId]={likes:e.likeCount,loves:e.loveCount,clicks:e.clickCount,views:e.viewCount}}),u(e=>Ue(Ue({},e),r)),p(e=>Ue(Ue({},e),n)),h(e=>Ue(Ue({},e),a))}catch(t){console.error("Error loading engagement statuses:",t)}},w=(t,s)=>{!b&&t.currentTarget&&(t.currentTarget.style.transform="scale(0.96)",setTimeout(()=>{t.currentTarget&&(t.currentTarget.style.transform="scale(1)")},150)),null!==s&&void 0!==s&&s.listing_id&&e("/watch?video=".concat(s.listing_id))};return(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:(0,Cl.jsxs)("div",{className:"px-4 py-4 flex items-center gap-3",children:[(0,Cl.jsx)("button",{onClick:()=>e("/home"),className:"bg-white border border-gray-200 rounded-full p-2 hover:bg-gray-50 transition-colors","aria-label":"Go back",children:(0,Cl.jsx)(oi,{className:"w-5 h-5 text-gray-700"})}),(0,Cl.jsx)("h1",{className:"font-bold font-poppins",style:{fontSize:"18px",color:"#111827"},children:n})]})}),f?(0,Cl.jsx)("div",{className:"grid grid-cols-2 gap-4 p-4",children:[...Array(4)].map((e,t)=>(0,Cl.jsx)("div",{className:"bg-gray-200 animate-pulse rounded-xl",style:{height:"280px"}},t))}):l.length>0?(0,Cl.jsx)("div",{className:"grid grid-cols-2 gap-4 p-4 pb-32",children:l.map(e=>{var t,r,n;return(0,Cl.jsx)("div",{className:"relative group cursor-pointer transition-transform duration-150",onClick:t=>w(t,e),onTouchStart:t=>w(t,e),role:"button",tabIndex:0,"aria-label":"".concat(e.product_name," - ").concat(y(e.price)),children:(0,Cl.jsx)("div",{className:"bg-white rounded-xl overflow-hidden",style:{borderRadius:"18px",boxShadow:"0 8px 20px rgba(16, 24, 40, 0.06)"},children:(0,Cl.jsxs)("div",{className:"relative w-full overflow-hidden bg-gray-800",style:{height:"180px"},children:[e.video_url?(0,Cl.jsxs)("div",{className:"relative w-full h-full bg-gray-800",children:[(0,Cl.jsx)("video",{src:e.video_url,poster:e.thumbnail_url,className:"w-full h-full object-cover",preload:"metadata",muted:!0,playsInline:!0,onError:e=>{console.error("Video error:",e),e.target.style.display="none"}}),(0,Cl.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,Cl.jsx)("div",{className:"bg-gray-100 rounded-full p-2.5 shadow-xl border-2 border-[#4B2BD6]",style:{width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Cl.jsx)(Jl,{className:"w-5 h-5 text-[#4B2BD6]",strokeWidth:2.5})})})]}):e.thumbnail_url?(0,Cl.jsx)("img",{src:e.thumbnail_url,alt:e.product_name,className:"w-full h-full object-cover",onError:e=>{e.target.src="https://via.placeholder.com/280x180?text=No+Image"}}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:(0,Cl.jsx)("span",{className:"text-gray-400 text-sm",children:"No Image"})}),(0,Cl.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-black/70 to-transparent pointer-events-none"}),((null===(t=x[e.listing_id])||void 0===t?void 0:t.views)||e.view_count||0)>0&&(0,Cl.jsxs)("div",{className:"absolute top-2 left-2 flex items-center gap-1 px-1.5 py-1 rounded z-10",style:{background:"#1E3A8A",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:[(0,Cl.jsx)(Ql,{className:"w-2.5 h-2.5 text-white"}),(0,Cl.jsx)("span",{className:"text-white font-poppins font-medium",style:{fontSize:"10px"},children:(n=(null===(r=x[e.listing_id])||void 0===r?void 0:r.views)||e.view_count||0,n>=1e6?"".concat((n/1e6).toFixed(1),"M"):n>=1e3?"".concat((n/1e3).toFixed(0),"k"):n.toString())})]}),(0,Cl.jsx)("button",{onClick:t=>(async(e,t)=>{if(e.stopPropagation(),null===t||void 0===t||!t.listing_id)return;const s=o.includes(t.listing_id);try{s?(await na(t.listing_id),c(o.filter(e=>e!==t.listing_id)),Pt.success("Removed from wishlist")):(await ra(t.listing_id),c([...o,t.listing_id]),Pt.success("Added to wishlist"))}catch(a){var r,n;console.error("Error toggling wishlist:",a),Pt.error((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to update wishlist")}})(t,e),className:"absolute top-2 right-2 w-7 h-7 rounded-lg bg-white flex items-center justify-center shadow-md hover:bg-gray-50 transition-all z-10",style:{minWidth:"28px",minHeight:"28px"},"aria-label":o.includes(e.listing_id)?"Remove from wishlist":"Add to wishlist",children:(0,Cl.jsx)(Kl,{className:"w-4 h-4 ".concat(o.includes(e.listing_id)?"fill-red-500 text-red-500":"text-gray-700")})}),(0,Cl.jsxs)("div",{className:"absolute bottom-2 right-2 flex items-center gap-1 z-10",children:[(0,Cl.jsx)("button",{onClick:t=>(async(e,t)=>{if(e.stopPropagation(),s){if(null!==t&&void 0!==t&&t.listing_id)try{const e=d[t.listing_id];let s;u(s=>Ue(Ue({},s),{},{[t.listing_id]:!e})),s=e?await $n(t.listing_id):await Gn(t.listing_id),h(e=>Ue(Ue({},e),{},{[t.listing_id]:Ue(Ue({},e[t.listing_id]),{},{likes:s.like_count||0})})),Pt.success(e?"Removed like":"Liked!")}catch(n){var r;console.error("Error toggling like:",n),u(e=>Ue(Ue({},e),{},{[t.listing_id]:!e[t.listing_id]})),401===(null===(r=n.response)||void 0===r?void 0:r.status)?Pt.error("Please log in to like products"):Pt.error("Failed to update like")}}else Pt.error("Please log in to like products")})(t,e),className:"bg-white/90 backdrop-blur-sm rounded-full p-1.5 shadow-md hover:bg-white transition-all flex items-center justify-center",style:{width:"28px",height:"28px"},"aria-label":"Like",children:(0,Cl.jsx)(hi,{className:"w-3.5 h-3.5 transition-colors duration-300 ".concat(d[e.listing_id]?"text-blue-500 fill-current":"text-blue-400")})}),(0,Cl.jsx)("button",{onClick:t=>(async(e,t)=>{if(e.stopPropagation(),null!==t&&void 0!==t&&t.listing_id)try{const e=await Xn(t.listing_id);h(s=>Ue(Ue({},s),{},{[t.listing_id]:Ue(Ue({},s[t.listing_id]),{},{clicks:e.click_count||0})})),e.link?window.open(e.link,"_blank","noopener,noreferrer"):Pt.error("Product link not available")}catch(s){console.error("Error handling click:",s),Pt.error("Failed to open product link")}})(t,e),className:"bg-white/90 backdrop-blur-sm rounded-full p-1.5 shadow-md hover:bg-white transition-all flex items-center justify-center",style:{width:"28px",height:"28px"},"aria-label":"Open product link",children:(0,Cl.jsx)(fi,{className:"w-3.5 h-3.5 text-gray-700"})}),(0,Cl.jsx)("button",{onClick:t=>(async(e,t)=>{if(e.stopPropagation(),s){if(null!==t&&void 0!==t&&t.listing_id)try{const e=m[t.listing_id];let s;p(s=>Ue(Ue({},s),{},{[t.listing_id]:!e})),s=e?await Kn(t.listing_id):await Qn(t.listing_id),h(e=>Ue(Ue({},e),{},{[t.listing_id]:Ue(Ue({},e[t.listing_id]),{},{loves:s.love_count||0})})),Pt.success(e?"Removed love":"Loved!")}catch(n){var r;console.error("Error toggling love:",n),p(e=>Ue(Ue({},e),{},{[t.listing_id]:!e[t.listing_id]})),401===(null===(r=n.response)||void 0===r?void 0:r.status)?Pt.error("Please log in to love products"):Pt.error("Failed to update love")}}else Pt.error("Please log in to love products")})(t,e),className:"bg-white/90 backdrop-blur-sm rounded-full p-1.5 shadow-md hover:bg-white transition-all flex items-center justify-center",style:{width:"28px",height:"28px"},"aria-label":"Love",children:(0,Cl.jsx)(Kl,{className:"w-3.5 h-3.5 transition-colors duration-300 ".concat(m[e.listing_id]?"text-pink-500 fill-current":"text-pink-400")})}),(0,Cl.jsx)("button",{onClick:t=>(async(e,t)=>{if(e.stopPropagation(),null===t||void 0===t||!t.listing_id)return;const s="".concat(window.location.origin,"/watch?video=").concat(t.listing_id);try{navigator.share?await navigator.share({title:t.product_name||"Product",text:"Check out ".concat(t.product_name||"this product"),url:s}):(await navigator.clipboard.writeText(s),Pt.success("Link copied to clipboard!"))}catch(r){if("AbortError"!==r.name)try{await navigator.clipboard.writeText(s),Pt.success("Link copied to clipboard!")}catch(n){Pt.error("Failed to share")}}})(t,e),className:"bg-white/90 backdrop-blur-sm rounded-full p-1.5 shadow-md hover:bg-white transition-all flex items-center justify-center",style:{width:"28px",height:"28px"},"aria-label":"Share",children:(0,Cl.jsx)(pi,{className:"w-3.5 h-3.5 text-gray-700"})})]}),(0,Cl.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5 z-10",style:{paddingBottom:"42px"},children:[(0,Cl.jsx)("h3",{className:"font-poppins font-semibold mb-0.5 line-clamp-2 text-white",style:{fontSize:"12px",lineHeight:"1.3",fontWeight:"600",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"},children:e.product_name}),(0,Cl.jsx)("div",{className:"inline-block px-2 py-1 rounded mt-0.5 mb-0.5",style:{background:"#FFFFFF",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",borderRadius:"6px"},children:(0,Cl.jsx)("span",{className:"font-poppins font-semibold",style:{color:"#111827",fontSize:"11px"},children:y(e.price)})}),(0,Cl.jsx)("p",{className:"font-poppins text-white/90 line-clamp-3",style:{fontSize:"10px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)",marginTop:"2px"},children:e.description||"No description available"})]})]})})},"category-".concat(e.listing_id))})}):(0,Cl.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[(0,Cl.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,Cl.jsx)(gi,{className:"w-12 h-12 text-gray-400"})}),(0,Cl.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2 font-poppins",children:"No Products Found"}),(0,Cl.jsx)("p",{className:"text-gray-600 text-center font-poppins",children:"There are no products available in this category yet."})]})]})},yi=Ul("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),vi=Ul("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),ji=Ul("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Ni=()=>{const e=te(),[t,s]=(0,a.useState)(!0),[r,n]=(0,a.useState)(!1);(0,a.useEffect)(()=>{l()},[]);const l=async()=>{try{s(!0);const t=await In();t&&t.provider?n(!0):e("/provider/register")}catch(t){console.error("Error checking provider:",t),e("/provider/register")}finally{s(!1)}};if(t)return(0,Cl.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Cl.jsx)(Zl,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"})});if(!r)return(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)("header",{className:"w-full bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,Cl.jsxs)("div",{className:"px-4 sm:px-5 py-3.5 sm:py-4 flex items-center justify-between",children:[(0,Cl.jsx)("div",{className:"flex items-center",children:(0,Cl.jsxs)("span",{className:"text-2xl sm:text-[24px] font-poppins font-bold",children:[(0,Cl.jsx)("span",{className:"text-black",children:"Get"}),(0,Cl.jsx)("span",{className:"text-[#6C4DFF]",children:"nayi"})]})}),(0,Cl.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,Cl.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,Cl.jsx)(yi,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,Cl.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,Cl.jsx)(vi,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),(0,Cl.jsx)("div",{className:"px-4 sm:px-5 py-12 flex items-center justify-center min-h-screen",children:(0,Cl.jsxs)("div",{className:"text-center max-w-md",children:[(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-poppins",children:"Provider Profile Required"}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-6 font-poppins",children:"You need to register as a provider before creating listings."}),(0,Cl.jsx)("button",{onClick:()=>e("/provider/register"),className:"bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white px-6 py-3 rounded-full transition-colors font-medium font-poppins shadow-md hover:shadow-lg active:scale-[0.96]",children:"Register as Provider"})]})})]});const i=[{id:"product",title:"List a Product",description:"Showcase your physical products to thousands of users",icon:si,route:"/listing/upload?type=PRODUCT"}];return(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)("header",{className:"w-full bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,Cl.jsxs)("div",{className:"px-4 sm:px-5 py-3.5 sm:py-4 flex items-center justify-between",children:[(0,Cl.jsx)("div",{className:"flex items-center",children:(0,Cl.jsxs)("span",{className:"text-2xl sm:text-[24px] font-poppins font-bold",children:[(0,Cl.jsx)("span",{className:"text-black",children:"Get"}),(0,Cl.jsx)("span",{className:"text-[#6C4DFF]",children:"nayi"})]})}),(0,Cl.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,Cl.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,Cl.jsx)(yi,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,Cl.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,Cl.jsx)(vi,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),(0,Cl.jsxs)("div",{className:"px-4 sm:px-5 py-6 sm:py-8 pb-32 sm:pb-12 max-w-4xl mx-auto",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2 font-poppins",children:"Create a Listing"}),(0,Cl.jsx)("p",{className:"text-sm sm:text-base text-gray-600 font-poppins",children:"Choose what you'd like to list"})]}),(0,Cl.jsxs)("button",{onClick:()=>e("/listing/my"),className:"bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-sm sm:text-base font-semibold transition-all flex items-center gap-2 shadow-md hover:shadow-lg active:scale-[0.96] font-poppins",children:[(0,Cl.jsx)(ji,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,Cl.jsx)("span",{className:"hidden sm:inline",children:"My Listings"}),(0,Cl.jsx)("span",{className:"sm:hidden",children:"My"})]})]}),(0,Cl.jsx)("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:i.map(t=>{const s=t.icon;return(0,Cl.jsxs)("div",{onClick:()=>e(t.route),className:"bg-white border-2 border-gray-200 rounded-2xl shadow-sm hover:shadow-lg hover:border-[#6C4DFF] transition-all duration-300 cursor-pointer overflow-hidden group active:scale-[0.98]",children:[(0,Cl.jsx)("div",{className:"h-24 sm:h-32 bg-[#E8D5FF] flex items-center justify-center group-hover:bg-[#6C4DFF] transition-colors duration-300",children:(0,Cl.jsx)(s,{className:"w-12 h-12 sm:w-16 sm:h-16 text-[#6C4DFF] group-hover:text-white transition-colors duration-300",strokeWidth:1.5})}),(0,Cl.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,Cl.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2 font-poppins",children:t.title}),(0,Cl.jsx)("p",{className:"text-gray-600 font-poppins mb-4 text-xs sm:text-sm",children:t.description}),(0,Cl.jsx)("div",{className:"w-full bg-[#6C4DFF] text-white py-2 sm:py-3 rounded-full text-sm sm:text-base font-medium text-center font-poppins hover:bg-[#5a3ddb] transition-colors",children:"Get Started \u2192"})]})]},t.id)})}),(0,Cl.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-2xl shadow-sm p-4 sm:p-8",children:[(0,Cl.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4 sm:mb-6 font-poppins",children:"How it works"}),(0,Cl.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 sm:gap-6",children:[(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#6C4DFF] rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:(0,Cl.jsx)("span",{className:"text-white font-bold text-base sm:text-lg font-poppins",children:"1"})}),(0,Cl.jsx)("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 font-poppins",children:"Choose Type"}),(0,Cl.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Select whether you're listing a product or service"})]}),(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#6C4DFF] rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:(0,Cl.jsx)("span",{className:"text-white font-bold text-base sm:text-lg font-poppins",children:"2"})}),(0,Cl.jsx)("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 font-poppins",children:"Upload Details"}),(0,Cl.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Add video, images, and information about your listing"})]}),(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-[#6C4DFF] rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:(0,Cl.jsx)("span",{className:"text-white font-bold text-base sm:text-lg font-poppins",children:"3"})}),(0,Cl.jsx)("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-1 font-poppins",children:"Go Live"}),(0,Cl.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Your listing will be visible to thousands of users"})]})]})]})]})]})},wi=Ul("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ki=Ul("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),_i=Ul("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ci=Ul("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Si=Ul("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ei=Ul("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Fi=Ul("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),Li=()=>{const e=te(),[t]=Te(),[s,r]=(0,a.useState)(null),[n,l]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)(null),[h,f]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[y,v]=(0,a.useState)(null),[j,N]=(0,a.useState)(null),[w,k]=(0,a.useState)(null),[_,C]=(0,a.useState)(null),[S,E]=(0,a.useState)(!1),[F,L]=(0,a.useState)(!1),[P,A]=(0,a.useState)(!1),[R,T]=(0,a.useState)([{type:"PRODUCT",product_name:"",price:"",description:"",link:"",category_id:"",thumbnail:"",thumbnailPreview:null,thumbnailUploadToken:null,uploadingThumbnail:!1,coupons:[],couponCodeInput:"",couponDescriptionInput:""}]),[D,M]=(0,a.useState)({});(0,a.useEffect)(()=>{O()},[]);const O=async()=>{try{d(!0);const[t,s]=await Promise.all([Zn(),An()]);r(t),o(s.categories||[]);try{const e=await In();l(e.provider)}catch(e){console.log("No provider profile found")}}catch(e){console.error("Error loading data:",e),Pt.error("Failed to load data")}finally{d(!1)}},I=async(e,t)=>{if(p)return console.log("Video already created, skipping..."),p;console.log("Creating video entry...",{videoUrlToUse:e,thumbnailUrlToUse:t}),A(!0);try{const s=await Vn({video_url:e,thumbnail_url:t,video_category:"USER_CONTENT"});if(console.log("Video creation response:",s),s.ok&&s.video_id)return x(s.video_id),console.log("Video ID set:",s.video_id),Pt.success("Video entry created! Now add products.",{duration:2e3}),s.video_id;{const e=s.error||s.message||"Failed to create video entry";throw console.error("Video creation failed:",e),new Error(e)}}catch(n){var s,r;console.error("Error creating video entry:",n);const e=(null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||n.message||"Failed to create video entry";throw Pt.error(e),n}finally{A(!1)}},z=(e,t,s)=>{const r=[...R];r[e]=Ue(Ue({},r[e]),{},{[t]:s}),T(r);const n="product_".concat(e,"_").concat(t);D[n]&&M(e=>Ue(Ue({},e),{},{[n]:null}))},U=(e,t,s)=>{T(r=>{const n=[...r],a=Ue({},n[e]);return"code"===t?a.couponCodeInput=s:a.couponDescriptionInput=s,n[e]=a,n})},B=()=>!!(h&&w&&g&&_)&&R.some(e=>{var t,s;return(null===(t=e.product_name)||void 0===t?void 0:t.trim())&&e.price&&parseFloat(e.price)>0&&(null===(s=e.description)||void 0===s?void 0:s.trim())});return c?(0,Cl.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Cl.jsx)(Zl,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)("header",{className:"w-full bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,Cl.jsxs)("div",{className:"px-4 sm:px-5 py-3.5 sm:py-4 flex items-center justify-between",children:[(0,Cl.jsx)("div",{className:"flex items-center",children:(0,Cl.jsxs)("span",{className:"text-2xl sm:text-[24px] font-poppins font-bold",children:[(0,Cl.jsx)("span",{className:"text-black",children:"Get"}),(0,Cl.jsx)("span",{className:"text-[#6C4DFF]",children:"nayi"})]})}),(0,Cl.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,Cl.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,Cl.jsx)(yi,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,Cl.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,Cl.jsx)(vi,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),(0,Cl.jsxs)("div",{className:"px-4 sm:px-5 py-6 sm:py-8 pb-32 sm:pb-12 max-w-2xl mx-auto",children:[s&&!s.is_subscribed&&(0,Cl.jsx)("div",{className:"mb-6 p-4 bg-purple-50 border border-purple-200 rounded-xl",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-purple-900 font-poppins",children:"Free Plan"}),(0,Cl.jsxs)("p",{className:"text-xs text-purple-700 font-poppins mt-1",children:["Uploads remaining: ",s.uploads_remaining,"/5"]})]}),(0,Cl.jsx)("button",{onClick:()=>e("/subscription/upgrade",{state:{from:"upload-listing"}}),className:"text-xs font-medium text-[#6C4DFF] hover:text-[#5a3ddb] font-poppins underline",children:"Upgrade"})]})}),(0,Cl.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!(()=>{const e={};return h&&w||(e.video="Video is required"),g&&_||(e.thumbnail="Thumbnail is required"),M(t=>Ue(Ue({},t),e)),0===Object.keys(e).length})())return void Pt.error("Please upload video and thumbnail first");let r=p;if(!r){if(!h||!g)return void Pt.error("Please upload both video and thumbnail");if(!w||!_)return void Pt.error("Please wait for video and thumbnail uploads to complete");console.log("Creating video entry on form submit...");try{if(r=await I(h,g),!r)return void Pt.error("Failed to create video entry. Please try again or contact support.");x(r)}catch(i){return console.error("Error creating video entry:",i),void Pt.error("Failed to create video entry. Please try again.")}}if((()=>{const e={};return R.forEach((t,s)=>{var r,n;null!==(r=t.product_name)&&void 0!==r&&r.trim()||(e["product_".concat(s,"_name")]="Product/Service name is required"),(!t.price||parseFloat(t.price)<=0)&&(e["product_".concat(s,"_price")]="Valid price is required"),null!==(n=t.description)&&void 0!==n&&n.trim()||(e["product_".concat(s,"_description")]="Description is required")}),M(t=>Ue(Ue({},t),e)),0===Object.keys(e).length})()){if(!n)return Pt.error("Please create a provider profile first"),void e("/provider/register");if(0===s.uploads_remaining&&!s.is_subscribed)return Pt.error("Upload limit reached. Please subscribe!"),void e("/subscription/upgrade",{state:{from:"upload-listing"}});m(!0);try{const t=r||p;if(!t)return Pt.error("Video ID is missing. Please try uploading video again."),void m(!1);const s=await Wn({video_id:t,products:R.map(e=>({type:e.type,product_name:e.product_name.trim(),price:parseFloat(e.price),description:e.description.trim(),link:(e.link||"").trim()||null,category_id:e.category_id||null,thumbnail:e.thumbnail||null,coupons:(e.coupons||[]).map(e=>({code:e.code,description:e.description||null}))}))});s.ok&&s.message?(Pt.success("Listing request submitted successfully! ".concat(s.product_count," product(s) linked to your video.")),x(null),f(""),b(""),v(null),N(null),k(null),C(null),T([{type:"PRODUCT",product_name:"",price:"",description:"",link:"",category_id:"",thumbnail:"",thumbnailPreview:null,thumbnailUploadToken:null,uploadingThumbnail:!1,coupons:[],couponCodeInput:"",couponDescriptionInput:""}]),M({}),setTimeout(()=>{e("/listing/my")},2e3)):Pt.error(s.error||"Failed to submit listing request")}catch(i){var a,l;console.error("Error creating listing:",i),Pt.error((null===(a=i.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.error)||"Failed to create listing request")}finally{m(!1)}}else Pt.error("Please fill in all required product fields")},className:"space-y-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:["Video ",(0,Cl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Cl.jsxs)("label",{className:"block cursor-pointer",children:[(0,Cl.jsx)("div",{className:"relative w-full h-48 bg-gradient-to-br from-[#E8D5FF] to-[#F3E8FF] rounded-2xl border-2 border-dashed border-[#6C4DFF] flex items-center justify-center transition-all hover:border-[#5a3ddb] hover:bg-[#F0E5FF]",children:F?(0,Cl.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,Cl.jsx)(Zl,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"}),(0,Cl.jsx)("p",{className:"text-[#6C4DFF] font-medium text-sm font-poppins",children:"Uploading video..."})]}):y?(0,Cl.jsxs)("div",{className:"relative w-full h-full p-4",children:[(0,Cl.jsx)("video",{src:y,controls:!0,className:"w-full h-full object-contain rounded-lg"}),(0,Cl.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),f(""),v(null),k(null),x(null),y&&URL.revokeObjectURL(y)},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:(0,Cl.jsx)(Xl,{className:"w-4 h-4"})}),w&&(0,Cl.jsxs)("div",{className:"absolute bottom-2 left-2 bg-green-500 text-white px-3 py-1 rounded-full flex items-center gap-1 text-xs font-medium",children:[(0,Cl.jsx)(wi,{className:"w-3 h-3"}),"Uploaded"]})]}):(0,Cl.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 bg-[#6C4DFF] rounded-full flex items-center justify-center",children:(0,Cl.jsx)(ki,{className:"w-8 h-8 text-white"})}),(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("p",{className:"text-[#6C4DFF] font-semibold text-base font-poppins",children:"+ Add your Video"}),(0,Cl.jsx)("p",{className:"text-gray-500 text-xs mt-1 font-poppins",children:"MP4, MOV, AVI, WEBM, MKV up to 25MB and 30s max"})]})]})}),(0,Cl.jsx)("input",{type:"file",accept:"video/*",onChange:async e=>{var t;const s=e.target.files[0];if(!s)return;if(s.size>26214400)return void Pt.error("Video file too large. Maximum size is ".concat(25,"MB"));const r=["mp4","mov","avi","webm","mkv"],n=null===(t=s.name.split(".").pop())||void 0===t?void 0:t.toLowerCase();if(!r.includes(n)&&!["video/mp4","video/mov","video/avi","video/webm","video/mkv"].includes(s.type))return void Pt.error("Invalid file type. Allowed formats: ".concat(r.join(", ")));const a=URL.createObjectURL(s),l=document.createElement("video"),i=new Promise((e,t)=>{l.preload="metadata",l.onloadedmetadata=()=>{const s=l.duration||0;URL.revokeObjectURL(a),isNaN(s)?e():s>30?t(new Error("Video is longer than 30 seconds")):e()},l.onerror=()=>{URL.revokeObjectURL(a),e()},l.src=a});try{await i}catch(d){return void Pt.error("Maximum duration is 30 seconds")}L(!0),M(e=>Ue(Ue({},e),{},{video:null}));try{const e=await Un(s);if(!e.ok||!e.url)throw new Error(e.message||"Upload failed");{const t=e.url;f(t),v(URL.createObjectURL(s)),k(e.success_token||null),g&&_&&await I(t,g),Pt.success("Video uploaded successfully!",{duration:3e3})}}catch(u){var o,c;console.error("Video upload error:",u),Pt.error((null===(o=u.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message)||u.message||"Failed to upload video"),e.target.value=""}finally{L(!1)}},className:"hidden",disabled:F||null!==w})]}),D.video&&(0,Cl.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1 font-poppins",children:[(0,Cl.jsx)(_i,{className:"w-3 h-3"}),D.video]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:["Thumbnail Image ",(0,Cl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Cl.jsxs)("label",{className:"block cursor-pointer",children:[(0,Cl.jsx)("div",{className:"relative w-full h-48 bg-gradient-to-br from-[#E8D5FF] to-[#F3E8FF] rounded-2xl border-2 border-dashed border-[#6C4DFF] flex items-center justify-center transition-all hover:border-[#5a3ddb] hover:bg-[#F0E5FF]",children:S?(0,Cl.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,Cl.jsx)(Zl,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"}),(0,Cl.jsx)("p",{className:"text-[#6C4DFF] font-medium text-sm font-poppins",children:"Uploading thumbnail..."})]}):j?(0,Cl.jsxs)("div",{className:"relative w-full h-full p-4",children:[(0,Cl.jsx)("img",{src:j,alt:"Thumbnail",className:"w-full h-full object-cover rounded-lg"}),(0,Cl.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),b(""),N(null),C(null),j&&URL.revokeObjectURL(j)},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:(0,Cl.jsx)(Xl,{className:"w-4 h-4"})}),_&&(0,Cl.jsxs)("div",{className:"absolute bottom-2 left-2 bg-green-500 text-white px-3 py-1 rounded-full flex items-center gap-1 text-xs font-medium",children:[(0,Cl.jsx)(wi,{className:"w-3 h-3"}),"Uploaded"]})]}):(0,Cl.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 bg-[#6C4DFF] rounded-full flex items-center justify-center",children:(0,Cl.jsx)(Ci,{className:"w-8 h-8 text-white"})}),(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("p",{className:"text-[#6C4DFF] font-semibold text-base font-poppins",children:"+ Add your Image"}),(0,Cl.jsx)("p",{className:"text-gray-500 text-xs mt-1 font-poppins",children:"JPG, PNG, GIF, WEBP up to 20MB"})]})]})}),(0,Cl.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{var t;const s=e.target.files[0];if(!s)return;if(s.size>20971520)return void Pt.error("Image file too large. Maximum size is ".concat(20,"MB"));const r=["jpg","jpeg","png","gif","webp"],n=null===(t=s.name.split(".").pop())||void 0===t?void 0:t.toLowerCase();if(r.includes(n)||["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(s.type)){E(!0),M(e=>Ue(Ue({},e),{},{thumbnail:null}));try{const e=await Bn(s);if(!e.ok||!e.url)throw new Error(e.message||"Upload failed");{const t=e.url;b(t),N(URL.createObjectURL(s)),C(e.success_token||null),h&&w&&await I(h,t),Pt.success("Thumbnail uploaded successfully!",{duration:3e3})}}catch(i){var a,l;console.error("Thumbnail upload error:",i),Pt.error((null===(a=i.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||i.message||"Failed to upload thumbnail"),e.target.value=""}finally{E(!1)}}else Pt.error("Invalid file type. Allowed formats: ".concat(r.join(", ")))},className:"hidden",disabled:S||u||null!==p})]}),D.thumbnail&&(0,Cl.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1 font-poppins",children:[(0,Cl.jsx)(_i,{className:"w-3 h-3"}),D.thumbnail]})]}),p&&(0,Cl.jsx)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:(0,Cl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(wi,{className:"w-5 h-5 text-green-600"}),(0,Cl.jsx)("p",{className:"text-sm font-medium text-green-900 font-poppins",children:"Video uploaded successfully! Now add products below."})]})}),(0,Cl.jsxs)("div",{className:"space-y-6",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 font-poppins",children:["Products (",R.length,")"]}),(0,Cl.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,Cl.jsxs)("button",{type:"button",onClick:()=>{T([...R,{type:"PRODUCT",product_name:"",price:"",description:"",link:"",category_id:"",thumbnail:"",thumbnailPreview:null,thumbnailUploadToken:null,uploadingThumbnail:!1,coupons:[],couponCodeInput:"",couponDescriptionInput:""}])},disabled:!p||u||P,className:"flex items-center gap-2 px-4 py-2 bg-[#6C4DFF] text-white rounded-lg font-medium text-sm font-poppins hover:bg-[#5a3ddb] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:p?"":"Please upload video and thumbnail first",children:[(0,Cl.jsx)(Si,{className:"w-4 h-4"}),"Add Product"]}),!p&&(h||g)&&(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins text-right",children:h&&g?P?"Creating video entry...":"Ready to add products":"Upload both video and thumbnail"})]})]}),R.map((e,t)=>{var s,r,n,a;return(0,Cl.jsxs)("div",{className:"p-5 border border-gray-200 rounded-xl space-y-4 bg-gray-50",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Cl.jsxs)("h4",{className:"text-base font-semibold text-gray-900 font-poppins",children:["Product ",t+1]}),R.length>1&&(0,Cl.jsx)("button",{type:"button",onClick:()=>(e=>{if(R.length>1){R[e].thumbnailPreview&&URL.revokeObjectURL(R[e].thumbnailPreview);const t=R.filter((t,s)=>s!==e);T(t);const s=Ue({},D);Object.keys(s).forEach(t=>{t.startsWith("product_".concat(e,"_"))&&delete s[t]}),M(s)}})(t),className:"text-red-500 hover:text-red-700 transition-colors p-1",children:(0,Cl.jsx)(Ei,{className:"w-4 h-4"})})]}),(0,Cl.jsxs)("div",{className:"space-y-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:["Product Name ",(0,Cl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Cl.jsx)("input",{type:"text",value:e.product_name,onChange:e=>z(t,"product_name",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 placeholder-gray-400 ".concat(D["product_".concat(t,"_name")]?"border-red-500":"border-gray-300"),placeholder:"Enter product name",disabled:!p||u}),D["product_".concat(t,"_name")]&&(0,Cl.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1 font-poppins",children:[(0,Cl.jsx)(_i,{className:"w-3 h-3"}),D["product_".concat(t,"_name")]]})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:["Price (\u20b9) ",(0,Cl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Cl.jsx)("input",{type:"number",min:"0",step:"0.01",value:e.price,onChange:e=>z(t,"price",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 placeholder-gray-400 ".concat(D["product_".concat(t,"_price")]?"border-red-500":"border-gray-300"),placeholder:"0.00",disabled:!p||u}),D["product_".concat(t,"_price")]&&(0,Cl.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1 font-poppins",children:[(0,Cl.jsx)(_i,{className:"w-3 h-3"}),D["product_".concat(t,"_price")]]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:"Category"}),(0,Cl.jsxs)("select",{value:e.category_id||"",onChange:e=>z(t,"category_id",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 bg-white ".concat(D["product_".concat(t,"_category")]?"border-red-500":"border-gray-300"),disabled:!p||u,children:[(0,Cl.jsx)("option",{value:"",children:"Select category (optional)"}),i.map(e=>(0,Cl.jsx)("option",{value:e.category_id,children:e.category_name},e.category_id))]})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:["Description ",(0,Cl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Cl.jsx)("textarea",{rows:3,value:e.description,onChange:e=>z(t,"description",e.target.value),className:"w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 placeholder-gray-400 resize-none ".concat(D["product_".concat(t,"_description")]?"border-red-500":"border-gray-300"),placeholder:"Describe your product",disabled:!p||u}),D["product_".concat(t,"_description")]&&(0,Cl.jsxs)("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1 font-poppins",children:[(0,Cl.jsx)(_i,{className:"w-3 h-3"}),D["product_".concat(t,"_description")]]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:"Link (Website/Store)"}),(0,Cl.jsx)("input",{type:"url",value:e.link||"",onChange:e=>z(t,"link",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 placeholder-gray-400",placeholder:"https://your-website.com (optional)",disabled:!p||u})]}),(0,Cl.jsxs)("div",{className:"border border-dashed border-[#6C4DFF]/50 rounded-xl p-4 bg-white shadow-sm shadow-[#6C4DFF]/5",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(Fi,{className:"w-5 h-5 text-[#6C4DFF]"}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-semibold text-gray-900 font-poppins",children:"Coupons"}),(0,Cl.jsxs)("p",{className:"text-xs text-gray-500 font-poppins",children:["Add up to ",5," coupon codes for this product"]})]})]}),(0,Cl.jsxs)("span",{className:"text-xs font-semibold text-gray-500 font-poppins",children:[(null===(s=e.coupons)||void 0===s?void 0:s.length)||0,"/",5]})]}),((null===(r=e.coupons)||void 0===r?void 0:r.length)||0)>0&&(0,Cl.jsx)("div",{className:"mt-4 space-y-2",children:e.coupons.map((e,s)=>(0,Cl.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 bg-gray-50 px-3 py-2",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-semibold text-gray-900 font-mono tracking-wide",children:e.code}),e.description&&(0,Cl.jsx)("p",{className:"text-xs text-gray-600 mt-0.5",children:e.description})]}),(0,Cl.jsx)("button",{type:"button",onClick:()=>((e,t)=>{T(s=>{const r=[...s],n=Ue({},r[e]);return n.coupons=(n.coupons||[]).filter((e,s)=>s!==t),r[e]=n,r})})(t,s),className:"text-gray-400 hover:text-red-500 transition-colors",title:"Remove coupon",disabled:u,children:(0,Cl.jsx)(Ei,{className:"w-4 h-4"})})]},"".concat(e.code,"-").concat(s)))}),(0,Cl.jsxs)("div",{className:"mt-4 grid md:grid-cols-[1fr_1.5fr_auto] gap-3",children:[(0,Cl.jsx)("input",{type:"text",value:e.couponCodeInput||"",onChange:e=>U(t,"code",e.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 placeholder-gray-400",placeholder:"Coupon code (e.g. SAVE20)",disabled:!p||u}),(0,Cl.jsx)("input",{type:"text",value:e.couponDescriptionInput||"",onChange:e=>U(t,"description",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#6C4DFF] transition-all font-poppins text-gray-900 placeholder-gray-400",placeholder:"Short description (optional)",disabled:!p||u}),(0,Cl.jsx)("button",{type:"button",onClick:()=>(e=>{const t=R[e];if(!t)return;const s=(t.couponCodeInput||"").trim().toUpperCase(),r=(t.couponDescriptionInput||"").trim();if(!s)return void Pt.error("Enter a coupon code before adding");if((t.coupons||[]).length>=5)return void Pt.error("You can add up to ".concat(5," coupons per product"));if((t.coupons||[]).some(e=>e.code===s))return void Pt.error("Coupon already added");const n={code:s,description:r||null};T(t=>{const s=[...t],r=Ue({},s[e]);return r.coupons=[...r.coupons||[],n],r.couponCodeInput="",r.couponDescriptionInput="",s[e]=r,s}),Pt.success("Coupon added")})(t),disabled:u||!p||((null===(n=e.coupons)||void 0===n?void 0:n.length)||0)>=5,className:"px-4 py-3 bg-[#6C4DFF] text-white rounded-xl font-semibold text-sm font-poppins hover:bg-[#5a3ddb] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:((null===(a=e.coupons)||void 0===a?void 0:a.length)||0)>=5?"You can only add ".concat(5," coupons"):"",children:"Add coupon"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2 font-poppins",children:"Product Thumbnail"}),(0,Cl.jsxs)("label",{className:"block cursor-pointer",children:[(0,Cl.jsx)("div",{className:"relative w-full h-32 bg-gradient-to-br from-[#E8D5FF] to-[#F3E8FF] rounded-xl border-2 border-dashed border-[#6C4DFF] flex items-center justify-center transition-all hover:border-[#5a3ddb] hover:bg-[#F0E5FF]",children:e.uploadingThumbnail?(0,Cl.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,Cl.jsx)(Zl,{className:"w-5 h-5 animate-spin text-[#6C4DFF]"}),(0,Cl.jsx)("p",{className:"text-[#6C4DFF] font-medium text-xs font-poppins",children:"Uploading..."})]}):e.thumbnailPreview?(0,Cl.jsxs)("div",{className:"relative w-full h-full p-2",children:[(0,Cl.jsx)("img",{src:e.thumbnailPreview,alt:"Product thumbnail",className:"w-full h-full object-cover rounded-lg"}),(0,Cl.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{const t=[...R];t[e].thumbnailPreview&&URL.revokeObjectURL(t[e].thumbnailPreview),t[e].thumbnail="",t[e].thumbnailPreview=null,t[e].thumbnailUploadToken=null,T(t)})(t)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 transition-colors",children:(0,Cl.jsx)(Xl,{className:"w-3 h-3"})}),e.thumbnailUploadToken&&(0,Cl.jsxs)("div",{className:"absolute bottom-1 left-1 bg-green-500 text-white px-2 py-0.5 rounded-full flex items-center gap-1 text-xs font-medium",children:[(0,Cl.jsx)(wi,{className:"w-2.5 h-2.5"}),"Uploaded"]})]}):(0,Cl.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,Cl.jsx)("div",{className:"w-10 h-10 bg-[#6C4DFF] rounded-full flex items-center justify-center",children:(0,Cl.jsx)(Ci,{className:"w-5 h-5 text-white"})}),(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("p",{className:"text-[#6C4DFF] font-semibold text-sm font-poppins",children:"+ Add Thumbnail"}),(0,Cl.jsx)("p",{className:"text-gray-500 text-xs mt-0.5 font-poppins",children:"Optional"})]})]})}),(0,Cl.jsx)("input",{type:"file",accept:"image/*",onChange:e=>(async(e,t)=>{var s;const r=e.target.files[0];if(!r)return;if(r.size>20971520)return void Pt.error("Image file too large. Maximum size is ".concat(20,"MB"));const n=["jpg","jpeg","png","gif","webp"],a=null===(s=r.name.split(".").pop())||void 0===s?void 0:s.toLowerCase();if(n.includes(a)||["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type)){T(e=>{const s=[...e];return s[t]=Ue(Ue({},s[t]),{},{uploadingThumbnail:!0}),s});try{const e=await Bn(r);if(!e.ok||!e.url)throw new Error(e.message||"Upload failed");T(s=>{const n=[...s];return n[t]=Ue(Ue({},n[t]),{},{thumbnail:e.url,thumbnailPreview:URL.createObjectURL(r),thumbnailUploadToken:e.success_token||null,uploadingThumbnail:!1}),n}),Pt.success("Product ".concat(t+1," thumbnail uploaded successfully!"),{duration:2e3})}catch(o){var l,i;console.error("Product thumbnail upload error:",o),Pt.error((null===(l=o.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.message)||o.message||"Failed to upload product ".concat(t+1," thumbnail")),e.target.value="",T(e=>{const s=[...e];return s[t]=Ue(Ue({},s[t]),{},{uploadingThumbnail:!1}),s})}}else Pt.error("Invalid file type. Allowed formats: ".concat(n.join(", ")))})(e,t),className:"hidden",disabled:e.uploadingThumbnail||u||!p||null!==e.thumbnailUploadToken})]})]})]})]},t)})]}),(0,Cl.jsxs)("div",{className:"pt-4",children:[(0,Cl.jsx)("button",{type:"submit",disabled:u||P||!B(),className:"w-full bg-[#6C4DFF] text-white py-4 rounded-xl font-semibold text-base font-poppins shadow-lg hover:shadow-xl active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",children:u||P?(0,Cl.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,Cl.jsx)(Zl,{className:"w-5 h-5 animate-spin"}),P?"Creating Video...":"Submitting ".concat(R.length," Product(s)...")]}):"Submit ".concat(R.length," Product").concat(R.length>1?"s":"")}),!B()&&(0,Cl.jsx)("p",{className:"text-xs text-gray-500 text-center mt-2 font-poppins",children:p?"Please fill in all required product fields to submit":"Please upload video and thumbnail first"})]})]})]})]})},Pi=Ul("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]),Ai=()=>{const e=te(),[t,s]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)("ALL");(0,a.useEffect)(()=>{o()},[]);const o=async()=>{try{n(!0);const e=await Hn(),t=e.listings||[],r=e.pending_requests||[];s([...r,...t])}catch(e){console.error("Error loading listings:",e),Pt.error("Failed to load listings")}finally{n(!1)}},c=t.filter(e=>"ALL"===l||e.type===l),d={total:t.length,products:t.filter(e=>"PRODUCT"===e.type).length,services:t.filter(e=>"SERVICE"===e.type).length,totalViews:t.reduce((e,t)=>e+(t.view_count||0),0),totalLoves:t.reduce((e,t)=>e+(t.love_count||0),0)};return r?(0,Cl.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Cl.jsx)(Zl,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)("header",{className:"w-full bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,Cl.jsxs)("div",{className:"px-4 sm:px-5 py-3.5 sm:py-4 flex items-center justify-between",children:[(0,Cl.jsx)("div",{className:"flex items-center",children:(0,Cl.jsxs)("span",{className:"text-2xl sm:text-[24px] font-poppins font-bold",children:[(0,Cl.jsx)("span",{className:"text-black",children:"Get"}),(0,Cl.jsx)("span",{className:"text-[#6C4DFF]",children:"nayi"})]})}),(0,Cl.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,Cl.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,Cl.jsx)(yi,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,Cl.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,Cl.jsx)(vi,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),(0,Cl.jsxs)("div",{className:"px-4 sm:px-5 py-6 sm:py-8 pb-32 sm:pb-12 max-w-7xl mx-auto",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 font-poppins",children:"My Listings"}),(0,Cl.jsxs)("p",{className:"text-gray-600 text-xs sm:text-sm mt-1 font-poppins",children:[d.total," total listing",1!==d.total?"s":""]})]}),(0,Cl.jsxs)("button",{onClick:()=>e("/listing"),className:"bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-sm sm:text-base font-semibold transition-all flex items-center gap-2 shadow-md hover:shadow-lg active:scale-[0.96] font-poppins",children:[(0,Cl.jsx)(Si,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,Cl.jsx)("span",{className:"hidden sm:inline",children:"New Listing"}),(0,Cl.jsx)("span",{className:"sm:hidden",children:"New"})]})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[(0,Cl.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-3 sm:p-4 shadow-sm",children:[(0,Cl.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 font-poppins",children:d.total}),(0,Cl.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Total Listings"})]}),(0,Cl.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-3 sm:p-4 shadow-sm",children:[(0,Cl.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-[#6C4DFF] font-poppins",children:d.products}),(0,Cl.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Products"})]}),(0,Cl.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-3 sm:p-4 shadow-sm",children:[(0,Cl.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-gray-600 font-poppins",children:d.services}),(0,Cl.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Services"})]}),(0,Cl.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-3 sm:p-4 shadow-sm",children:[(0,Cl.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-[#6C4DFF] font-poppins",children:d.totalViews}),(0,Cl.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 font-poppins",children:"Total Views"})]})]}),(0,Cl.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl shadow-sm p-2 mb-6 flex gap-2",children:["ALL","PRODUCT","SERVICE"].map(e=>(0,Cl.jsx)("button",{onClick:()=>i(e),className:"flex-1 py-2 px-3 sm:px-4 rounded-lg text-sm sm:text-base font-medium transition-all font-poppins ".concat(l===e?"bg-[#6C4DFF] text-white shadow-sm":"text-gray-600 hover:bg-gray-100"),children:"ALL"===e?"All":"PRODUCT"===e?"Products":"Services"},e))}),0===c.length?(0,Cl.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm p-8 sm:p-12 text-center",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-[#6C4DFF] rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Cl.jsx)(si,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),(0,Cl.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 font-poppins",children:"No listings yet"}),(0,Cl.jsx)("p",{className:"text-sm sm:text-base text-gray-600 mb-6 font-poppins",children:"Start by creating your first listing"}),(0,Cl.jsxs)("button",{onClick:()=>e("/listing"),className:"bg-[#6C4DFF] hover:bg-[#5a3ddb] text-white px-6 sm:px-8 py-2 sm:py-3 rounded-full text-sm sm:text-base font-semibold transition-all inline-flex items-center gap-2 shadow-md hover:shadow-lg active:scale-[0.96] font-poppins",children:[(0,Cl.jsx)(Si,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Create Listing"]})]}):(0,Cl.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(t=>(0,Cl.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm hover:shadow-lg transition-all overflow-hidden group cursor-pointer active:scale-[0.98]",onClick:()=>!t.is_request&&t.listing_id&&e("/listing/".concat(t.listing_id)),children:[(0,Cl.jsxs)("div",{className:"relative h-48 bg-gray-100",children:[t.thumbnail_url?(0,Cl.jsx)("img",{src:t.thumbnail_url,alt:t.product_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-[#E8D5FF]",children:"PRODUCT"===t.type?(0,Cl.jsx)(si,{className:"w-16 h-16 text-[#6C4DFF]"}):(0,Cl.jsx)($l,{className:"w-16 h-16 text-[#6C4DFF]"})}),(0,Cl.jsxs)("div",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 flex flex-col gap-1.5 sm:gap-2 items-end",children:[t.is_request&&"PENDING"===t.status&&(0,Cl.jsx)("div",{className:"bg-yellow-500 text-white px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs font-medium font-poppins",children:"Pending Approval"}),(0,Cl.jsx)("div",{className:"bg-white/90 backdrop-blur-sm px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-xs sm:text-sm font-medium font-poppins text-gray-900 border border-gray-200",children:"PRODUCT"===t.type?"\ud83d\udce6 Product":"\ud83d\udcbc Service"})]})]}),(0,Cl.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,Cl.jsx)("h3",{className:"font-bold text-base sm:text-lg text-gray-900 mb-1 line-clamp-1 font-poppins",children:t.product_name}),(0,Cl.jsxs)("p",{className:"text-[#6C4DFF] font-bold text-lg sm:text-xl mb-2 font-poppins",children:["\u20b9",Number(t.price).toLocaleString()]}),(0,Cl.jsx)("p",{className:"text-gray-600 text-xs sm:text-sm line-clamp-2 mb-3 font-poppins",children:t.description}),!t.is_request&&(0,Cl.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-gray-600 pt-3 border-t border-gray-100",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Cl.jsx)(Ql,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Cl.jsx)("span",{className:"font-poppins",children:t.view_count||0})]}),(0,Cl.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Cl.jsx)(Kl,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Cl.jsx)("span",{className:"font-poppins",children:t.love_count||0})]}),(0,Cl.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Cl.jsx)(Pi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,Cl.jsx)("span",{className:"font-poppins",children:t.click_count||0})]})]})]})]},t.listing_id||t.request_id))})]})]})},Ri=Ul("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Ti=()=>{const e=te(),[t,s]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)({name:"",phone:"",location:"",provider_type:"BRAND",business_name:"",gst:"",business_address:"",handle_address:""}),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(null);(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{const t=await zn();if(t.ok){if(t.has_provider)return void e("/listing");if("PENDING"===t.request_status)return void e("/provider-request-waiting");"REJECTED"===t.request_status&&Pt.error("Your previous request was rejected. You can submit a new request.")}}catch(t){console.error("Error checking request status:",t)}finally{n(!1)}},p=e=>{const{name:t,value:s}=e.target;i(e=>Ue(Ue({},e),{},{[t]:s}))};return r?(0,Cl.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Cl.jsx)(Zl,{className:"w-8 h-8 animate-spin text-[#6C4DFF]"})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)("header",{className:"w-full bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,Cl.jsxs)("div",{className:"px-4 sm:px-5 py-3.5 sm:py-4 flex items-center justify-between",children:[(0,Cl.jsx)("div",{className:"flex items-center",children:(0,Cl.jsxs)("span",{className:"text-2xl sm:text-[24px] font-poppins font-bold",children:[(0,Cl.jsx)("span",{className:"text-black",children:"Get"}),(0,Cl.jsx)("span",{className:"text-[#6C4DFF]",children:"nayi"})]})}),(0,Cl.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,Cl.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,Cl.jsx)(yi,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,Cl.jsx)("button",{className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,Cl.jsx)(vi,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]})}),(0,Cl.jsxs)("div",{className:"px-4 sm:px-5 py-6 sm:py-8 pb-32 sm:pb-12 max-w-2xl mx-auto",children:[(0,Cl.jsx)("div",{className:"mb-6 sm:mb-8 relative",style:{marginTop:"20px"},children:(0,Cl.jsxs)("label",{className:"block cursor-pointer",children:[(0,Cl.jsxs)("div",{className:"relative w-full",style:{height:"150px",maxWidth:"95%",margin:"0 auto"},children:[(0,Cl.jsx)("svg",{className:"absolute top-0 left-0 w-full h-6",viewBox:"0 0 400 30",preserveAspectRatio:"none",children:(0,Cl.jsx)("path",{d:"M0,15 Q50,5 100,15 T200,15 T300,15 T400,15 L400,30 L0,30 Z",fill:"#E8D5FF",stroke:"none"})}),(0,Cl.jsx)("div",{className:"absolute inset-0 bg-[#E8D5FF] rounded-b-2xl flex items-center justify-center transition-all hover:opacity-90 active:scale-[0.98]",style:{paddingTop:"24px"},children:d?(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,Cl.jsx)("img",{src:d,alt:"Profile preview",className:"max-w-full max-h-full object-contain rounded-lg"})}):(0,Cl.jsx)("span",{className:"text-[#6C4DFF] font-medium text-[15px] sm:text-base",children:"+ Add your Images"})})]}),(0,Cl.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&(c(t),u(URL.createObjectURL(t)))},className:"hidden"})]})}),(0,Cl.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0);try{const t=await Mn(l);t.ok?(Pt.success("Provider request submitted successfully! Awaiting admin approval."),e("/provider-request-waiting")):Pt.error(t.error||"Failed to submit provider request")}catch(o){var r,n,a,i;if(console.error("Error creating provider:",o),"PENDING"===(null===(r=o.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.request_status))e("/provider-request-waiting");else Pt.error((null===(a=o.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.error)||"Failed to submit provider request")}finally{s(!1)}},className:"space-y-5 sm:space-y-6",children:[(0,Cl.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,Cl.jsxs)("button",{type:"button",onClick:()=>i(Ue(Ue({},l),{},{provider_type:"BRAND"})),className:"flex-1 py-3 px-4 rounded-lg border-2 transition-all ".concat("BRAND"===l.provider_type?"border-[#6C4DFF] bg-[#6C4DFF]/10":"border-gray-200 hover:border-gray-300"),children:[(0,Cl.jsx)(Ri,{className:"w-5 h-5 mx-auto mb-2 ".concat("BRAND"===l.provider_type?"text-[#6C4DFF]":"text-gray-400")}),(0,Cl.jsx)("p",{className:"text-sm font-medium ".concat("BRAND"===l.provider_type?"text-[#6C4DFF]":"text-gray-600"),children:"Brand"})]}),(0,Cl.jsxs)("button",{type:"button",onClick:()=>i(Ue(Ue({},l),{},{provider_type:"INFLUENCER"})),className:"flex-1 py-3 px-4 rounded-lg border-2 transition-all ".concat("INFLUENCER"===l.provider_type?"border-[#6C4DFF] bg-[#6C4DFF]/10":"border-gray-200 hover:border-gray-300"),children:[(0,Cl.jsx)(ti,{className:"w-5 h-5 mx-auto mb-2 ".concat("INFLUENCER"===l.provider_type?"text-[#6C4DFF]":"text-gray-400")}),(0,Cl.jsx)("p",{className:"text-sm font-medium ".concat("INFLUENCER"===l.provider_type?"text-[#6C4DFF]":"text-gray-600"),children:"Influencer"})]})]}),(0,Cl.jsxs)("div",{className:"space-y-5",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"Enter your Stage Name"}),(0,Cl.jsx)("input",{type:"text",name:"name",required:!0,value:l.name,onChange:p,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280]",placeholder:"Enter your full name"})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"Phone Number"}),(0,Cl.jsx)("input",{type:"tel",name:"phone",required:!0,value:l.phone,onChange:p,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280]",placeholder:"+91 9876543210"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"Location"}),(0,Cl.jsx)("input",{type:"text",name:"location",required:!0,value:l.location,onChange:p,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280]",placeholder:"City, State"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"Business Name"}),(0,Cl.jsx)("input",{type:"text",name:"business_name",value:l.business_name,onChange:p,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280]",placeholder:"Your Business Name (Optional)"})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"GST Number"}),(0,Cl.jsx)("input",{type:"text",name:"gst",required:!0,value:l.gst,onChange:p,maxLength:15,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280]",placeholder:"27ABCDE1234F1Z5"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"Social Handle"}),(0,Cl.jsx)("input",{type:"text",name:"handle_address",value:l.handle_address,onChange:p,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280]",placeholder:"@yourbrand"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm text-[#6B7280] mb-1 font-poppins",children:"Describe your Content and Audience"}),(0,Cl.jsx)("textarea",{name:"business_address",value:l.business_address,onChange:p,rows:3,className:"w-full bg-transparent border-0 border-b border-[#D1D5DB] pb-2 pt-1 px-0 focus:outline-none focus:border-[#6C4DFF] transition-colors font-poppins text-gray-900 placeholder-[#6B7280] resize-none",placeholder:"Complete business address with pincode (Optional)"})]})]}),(0,Cl.jsxs)("div",{className:"flex items-start gap-2 pt-2",children:[(0,Cl.jsx)("input",{type:"checkbox",id:"terms",required:!0,className:"mt-1 w-4 h-4 border-gray-300 rounded text-[#6C4DFF] focus:ring-[#6C4DFF] cursor-pointer"}),(0,Cl.jsxs)("label",{htmlFor:"terms",className:"text-xs sm:text-[13px] text-gray-600 font-poppins cursor-pointer",children:["You have read"," ",(0,Cl.jsx)("a",{href:"/terms",className:"text-[#6C4DFF] underline",children:"T&C"})," ","of our platform and agree"]})]}),(0,Cl.jsx)("div",{className:"pt-4",children:(0,Cl.jsx)("button",{type:"submit",disabled:t,className:"w-full bg-[#6C4DFF] text-white py-3.5 sm:py-4 rounded-full font-semibold text-base sm:text-[18px] font-poppins shadow-md hover:shadow-lg active:scale-[0.96] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",style:{maxWidth:"85%",margin:"0 auto",display:"block"},children:t?(0,Cl.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,Cl.jsx)(Zl,{className:"w-5 h-5 animate-spin"}),"Creating Profile..."]}):"Let's Go!"})})]})]})]})},Di=Ul("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Mi=Ul("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Oi=Ul("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ii=Ul("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),zi={APPROVED:{heading:"You\u2019re all set to go live!",message:"Your provider profile is ready. Head over to Listings and start showcasing your products.",accent:"#22c55e",badgeGradient:"from-emerald-500/20 to-emerald-400/10",iconColor:"text-emerald-400"},REJECTED:{heading:"We need a quick follow-up",message:"Your submission needs a bit more info. Revisit your details or message our support team to continue.",accent:"#f87171",badgeGradient:"from-red-500/20 to-red-400/5",iconColor:"text-red-400"},PENDING:{heading:"We\u2019re reviewing your brand",message:"Thanks for submitting your provider request. Our team is carefully reviewing everything\u2014keep an eye out for updates.",accent:"#c084fc",badgeGradient:"from-purple-500/20 to-indigo-400/5",iconColor:"text-purple-300"}},Ui=()=>{const e=te(),[t,s]=(0,a.useState)(null),[r,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)(!0);(0,a.useEffect)(()=>{o();const e=setInterval(()=>{l&&o()},5e3);return()=>clearInterval(e)},[l]);const o=async()=>{try{const t=await zn();if(t.ok){if(t.has_provider)return void e("/listing");s(t.request_status),"APPROVED"===t.request_status&&(i(!1),Pt.success("Your provider request has been approved!"),setTimeout(()=>e("/listing"),2e3))}}catch(t){console.error("Error checking request status:",t)}finally{n(!1)}},c=zi[t]||zi.PENDING,d=[{label:"Request submitted",state:"done"},{label:"Under review",state:"REJECTED"===t?"error":"APPROVED"===t?"done":"active"},{label:"REJECTED"===t?"Needs updates":"Ready to go",state:"APPROVED"===t?"done":"REJECTED"===t?"error":"pending"}];return r?(0,Cl.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-[#060014] via-[#0b0424] to-[#140634] flex items-center justify-center",children:(0,Cl.jsx)(Zl,{className:"w-10 h-10 animate-spin text-[#c084fc]"})}):(0,Cl.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-[#050015] via-[#0c0324] to-[#12052d] text-white",style:{fontFamily:"Inter, sans-serif"},children:(0,Cl.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-10 py-10",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-10",children:[(0,Cl.jsxs)("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors text-sm tracking-wide",style:{fontFamily:"Inter, sans-serif"},children:[(0,Cl.jsx)(oi,{className:"w-4 h-4"}),"Back to home"]}),(0,Cl.jsx)("span",{className:"text-xs uppercase tracking-[0.35em] text-white/50",children:"Provider onboarding"})]}),(0,Cl.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-8 sm:p-10 backdrop-blur-xl shadow-[0_25px_80px_rgba(10,0,35,0.35)]",children:[(0,Cl.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-8",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-xs uppercase tracking-[0.4em] text-white/60 mb-3",style:{fontFamily:"Inter, sans-serif"},children:"Current status"}),(0,Cl.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-white mb-4 leading-tight",style:{fontFamily:"Gilroy, Inter, sans-serif"},children:c.heading}),(0,Cl.jsx)("p",{className:"text-base sm:text-lg text-white/80 leading-relaxed max-w-2xl",children:c.message})]}),(0,Cl.jsx)("div",{className:"w-28 h-28 rounded-3xl border border-white/15 flex items-center justify-center bg-gradient-to-br ".concat(c.badgeGradient),children:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:64;const s={width:e,height:e};switch(t){case"APPROVED":return(0,Cl.jsx)(Di,{className:"text-emerald-400",style:s});case"REJECTED":return(0,Cl.jsx)(Mi,{className:"text-red-400",style:s});default:return(0,Cl.jsx)(Oi,{className:"text-yellow-300 animate-pulse",style:s})}}(56)})]}),(0,Cl.jsx)("div",{className:"mt-10",children:(0,Cl.jsx)("div",{className:"grid gap-4 sm:grid-cols-3",children:d.map((e,t)=>{const s="active"===e.state,r="done"===e.state,n="error"===e.state;return(0,Cl.jsxs)("div",{className:"rounded-2xl border px-4 py-5 transition-all duration-200 ".concat(r?"border-emerald-400/50 bg-emerald-400/10":n?"border-red-400/50 bg-red-500/10":s?"border-purple-400/60 bg-purple-500/10 animate-pulse":"border-white/10 bg-white/5"),children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Cl.jsx)("span",{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:t+1<10?"0".concat(t+1):t+1}),(0,Cl.jsx)("div",{className:"w-2.5 h-2.5 rounded-full ".concat(r?"bg-emerald-400":n?"bg-red-400":s?"bg-purple-400":"bg-white/30")})]}),(0,Cl.jsx)("p",{className:"text-sm font-semibold",style:{fontFamily:"Gilroy, Inter, sans-serif"},children:e.label})]},e.label)})})}),"PENDING"===t&&(0,Cl.jsxs)("div",{className:"mt-10 grid gap-5 lg:grid-cols-3",children:[(0,Cl.jsxs)("div",{className:"lg:col-span-2 border border-white/10 rounded-2xl p-5 bg-white/3",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-white/50",children:"Live updates"}),(0,Cl.jsx)("p",{className:"text-base text-white font-semibold mt-1",children:"Status monitor"})]}),(0,Cl.jsx)(Ii,{className:"w-5 h-5 ".concat(l?"animate-spin text-purple-300":"text-white/50")})]}),(0,Cl.jsx)("p",{className:"text-sm text-white/70",children:l?"We\u2019ll refresh this status every few seconds so you don\u2019t have to.":"Auto-refresh is paused. Tap below if you want us to keep checking for you."}),(0,Cl.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[(0,Cl.jsx)("button",{onClick:o,className:"px-5 py-3 rounded-xl bg-white text-[#12052d] font-semibold hover:bg-white/90 transition-all",children:"Refresh now"}),(0,Cl.jsx)("button",{onClick:()=>i(!l),className:"px-5 py-3 rounded-xl border border-white/20 text-white/80 hover:bg-white/10 transition-all",children:l?"Pause auto-refresh":"Resume auto-refresh"})]})]}),(0,Cl.jsxs)("div",{className:"border border-white/10 rounded-2xl p-5 bg-white/3",children:[(0,Cl.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-white/50 mb-2",children:"Need help?"}),(0,Cl.jsx)("p",{className:"text-sm text-white/80 mb-4",children:"Our partner team can answer any question about your onboarding."}),(0,Cl.jsx)("button",{onClick:()=>{window.open("mailto:support@getnayi.com","_blank")},className:"w-full px-4 py-2.5 rounded-xl border border-white/20 text-white hover:bg-white/10 transition-all",children:"Message support"})]})]}),"REJECTED"===t&&(0,Cl.jsxs)("div",{className:"mt-10 flex flex-col sm:flex-row gap-4",children:[(0,Cl.jsx)("button",{onClick:()=>e("/provider-registration"),className:"flex-1 px-6 py-3 rounded-2xl bg-white text-[#12052d] font-semibold hover:bg-white/90 transition-all",children:"Submit new request"}),(0,Cl.jsx)("button",{onClick:()=>e("/"),className:"flex-1 px-6 py-3 rounded-2xl border border-white/20 text-white hover:bg-white/10 transition-all",children:"Return home"})]}),"APPROVED"===t&&(0,Cl.jsxs)("div",{className:"mt-10 flex flex-col sm:flex-row gap-4",children:[(0,Cl.jsx)("button",{onClick:()=>e("/listing"),className:"flex-1 px-6 py-3 rounded-2xl bg-white text-[#12052d] font-semibold hover:bg-white/90 transition-all",children:"Go to listings"}),(0,Cl.jsx)("button",{onClick:()=>e("/"),className:"flex-1 px-6 py-3 rounded-2xl border border-white/20 text-white hover:bg-white/10 transition-all",children:"Explore home"})]})]})]})})},Bi=()=>{var e,t;const{user:s,logout:r}=El(),[n,l]=(0,a.useState)(!1),i=te();return(0,Cl.jsx)("header",{className:"sticky top-0 z-[100] bg-white border-b border-gray-200 shadow-sm safe-top",children:(0,Cl.jsxs)("div",{className:"px-3 sm:px-4 py-3 flex items-center justify-between gap-2 sm:gap-3 relative z-10",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,Cl.jsx)("img",{src:"/assets/images/getnayi_logo.png",alt:"GetNayi Logo",className:"h-7 w-7 sm:h-8 sm:w-8 object-contain",onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"%3E%3Crect width="32" height="32" rx="8" fill="%236A00FF"/%3E%3Ctext x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" font-size="18" fill="white" font-weight="bold"%3EG%3C/text%3E%3C/svg%3E'}}),(0,Cl.jsxs)("span",{className:"text-lg sm:text-xl font-poppins font-bold",children:[(0,Cl.jsx)("span",{className:"text-gray-900",children:"Get"}),(0,Cl.jsx)("span",{className:"text-[#6A00FF]",children:"Nayi"})]})]}),(0,Cl.jsx)("div",{className:"flex-1 max-w-md",children:(0,Cl.jsxs)("div",{className:"relative",children:[(0,Cl.jsx)("input",{type:"text",placeholder:"Search",className:"w-full px-3 sm:px-4 py-2 pl-9 sm:pl-10 bg-gray-100 text-gray-900 placeholder-gray-500 rounded-full focus:outline-none focus:ring-2 focus:ring-[#6A00FF] focus:bg-white transition-colors font-poppins text-sm"}),(0,Cl.jsx)("svg",{className:"absolute left-2.5 sm:left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),(0,Cl.jsxs)("div",{className:"relative",children:[(0,Cl.jsx)("button",{onClick:()=>l(!n),className:"flex items-center gap-2 active:opacity-80 transition-opacity touch-manipulation",children:(0,Cl.jsx)("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-[#6A00FF] flex items-center justify-center font-bold text-white text-base sm:text-lg shadow-sm",children:(null===s||void 0===s||null===(e=s.username)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())||"U"})}),n&&(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("div",{className:"fixed inset-0 z-[10000]",onClick:()=>l(!1)}),(0,Cl.jsxs)("div",{className:"fixed top-20 right-4 w-56 bg-white border border-gray-200 rounded-xl shadow-xl py-2 z-[10001]",children:[(0,Cl.jsxs)("div",{className:"px-4 py-3 border-b border-gray-200",children:[(0,Cl.jsx)("p",{className:"font-semibold text-gray-900 truncate",children:null===s||void 0===s?void 0:s.full_name}),(0,Cl.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:["@",null===s||void 0===s?void 0:s.username]})]}),(null===s||void 0===s?void 0:s.is_admin)&&(0,Cl.jsxs)("button",{onClick:()=>{i("/admin/dashboard"),l(!1)},className:"w-full text-left px-4 py-3 text-[#6A00FF] hover:bg-gray-50 active:bg-gray-100 transition-colors touch-manipulation text-base flex items-center gap-2",children:[(0,Cl.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Admin Panel"]}),(0,Cl.jsx)("button",{onClick:()=>{r(),l(!1)},className:"w-full text-left px-4 py-3 text-red-600 hover:bg-gray-50 active:bg-gray-100 transition-colors touch-manipulation text-base",children:"Logout"})]})]})]})]})})},Vi=()=>{const e=te(),[t,s]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[l,i]=(0,a.useState)(!0),[o,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{d()},[]);const d=async()=>{try{i(!0),c(!1);const e=await sa();if(e&&e.wishlist&&Array.isArray(e.wishlist)){s(e.wishlist);const t={};e.wishlist.forEach(e=>{const s=e.video_id||"listing-".concat(e.listing_id);t[s]||(t[s]={video_id:e.video_id,provider_id:e.provider_id,video_url:e.video_url,video_thumbnail_url:e.video_thumbnail_url,stats:{views:e.view_count||0,likes:e.like_count||0,loves:e.love_count||0,clicks:e.click_count||0},products:[]}),t[s].products.push({listing_id:e.listing_id,product_name:e.product_name,price:e.price,thumbnail:e.thumbnail,link:e.link,provider_name:e.provider_name||e.business_name})}),n(Object.values(t))}else s([]),n([])}catch(o){console.error("Error loading wishlist:",o),s([]),n([]),c(!0),Pt.error("Could not fetch wishlist")}finally{i(!1)}};return l?(0,Cl.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,Cl.jsx)(Zl,{className:"w-8 h-8 animate-spin text-[#6A00FF]"})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)(Bi,{}),(0,Cl.jsx)("div",{className:"pt-16 pb-32 sm:pb-24 px-4 relative z-10",children:(0,Cl.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Cl.jsxs)("div",{className:"mb-6",children:[(0,Cl.jsx)("h1",{className:"text-3xl font-bold text-gray-900 font-poppins",children:"My Wishlist"}),(0,Cl.jsxs)("p",{className:"text-gray-600 text-sm mt-1 font-poppins",children:[t.length," saved item",1!==t.length?"s":""]})]}),o?(0,Cl.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded-2xl shadow-sm p-12 text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Cl.jsx)(Kl,{className:"w-10 h-10 text-white"})}),(0,Cl.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2 font-poppins",children:"Could not fetch wishlist"}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-6 font-poppins",children:"Please try again later"}),(0,Cl.jsx)("button",{onClick:d,className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-8 py-3 rounded-xl font-semibold transition-all inline-flex items-center gap-2 font-poppins",children:"Retry"})]}):0===t.length?(0,Cl.jsxs)("div",{className:"bg-gray-100 border border-gray-200 rounded-2xl shadow-sm p-12 text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 bg-[#6A00FF] rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Cl.jsx)(Kl,{className:"w-10 h-10 text-white"})}),(0,Cl.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2 font-poppins",children:"Your wishlist is empty"}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-6 font-poppins",children:"Start saving products and services you love"}),(0,Cl.jsx)("button",{onClick:()=>e("/home"),className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-8 py-3 rounded-xl font-semibold transition-all inline-flex items-center gap-2 font-poppins",children:"Browse Listings"})]}):(0,Cl.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(r=>{var n;return(0,Cl.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm hover:shadow-lg transition-all overflow-hidden relative",children:[r.products[0]&&(0,Cl.jsx)("button",{onClick:e=>(async(e,r)=>{r.stopPropagation();try{await na(e),s(t.filter(t=>t.listing_id!==e)),Pt.success("Removed from wishlist")}catch(o){console.error("Error removing from wishlist:",o),Pt.error("Failed to remove")}})(r.products[0].listing_id,e),className:"absolute top-3 right-3 z-10 bg-red-500 hover:bg-red-600 text-white p-2 rounded-full shadow-lg transition-all",children:(0,Cl.jsx)(Ei,{className:"w-4 h-4"})}),(0,Cl.jsxs)("div",{className:"relative h-40 bg-gray-100 cursor-pointer",onClick:()=>{var t;const s=r.video_id||(null===(t=r.products[0])||void 0===t?void 0:t.listing_id);s&&e("/watch?video=".concat(s))},children:[r.video_thumbnail_url?(0,Cl.jsx)("img",{src:r.video_thumbnail_url,alt:"Video thumbnail",className:"w-full h-full object-cover"}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#6A00FF] to-purple-200",children:(0,Cl.jsx)(si,{className:"w-12 h-12 text-white"})}),(0,Cl.jsxs)("div",{className:"absolute bottom-2 left-2 flex items-center gap-3 bg-black/60 text-white px-2 py-1 rounded-md",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Cl.jsx)(Ql,{className:"w-4 h-4"}),(0,Cl.jsx)("span",{className:"text-xs font-poppins",children:r.stats.views})]}),(0,Cl.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Cl.jsx)(Kl,{className:"w-4 h-4"}),(0,Cl.jsx)("span",{className:"text-xs font-poppins",children:r.stats.loves})]}),(0,Cl.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Cl.jsx)(Pi,{className:"w-4 h-4"}),(0,Cl.jsx)("span",{className:"text-xs font-poppins",children:r.stats.clicks})]})]})]}),(0,Cl.jsx)("div",{className:"p-3",children:(0,Cl.jsx)("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide pb-1",children:r.products.map((e,t)=>(0,Cl.jsxs)("div",{className:"flex-shrink-0 w-28 cursor-pointer",onClick:t=>{t.stopPropagation(),e.link?window.open(e.link,"_blank","noopener,noreferrer"):Pt.error("Product link not available")},children:[(0,Cl.jsx)("div",{className:"w-full h-20 rounded-lg overflow-hidden border border-gray-200 bg-gray-100",children:e.thumbnail?(0,Cl.jsx)("img",{src:e.thumbnail,alt:e.product_name,className:"w-full h-full object-cover"}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:(0,Cl.jsx)(si,{className:"w-6 h-6 text-gray-500"})})}),(0,Cl.jsxs)("div",{className:"mt-1",children:[(0,Cl.jsx)("p",{className:"text-xs font-semibold text-gray-900 font-poppins line-clamp-1",children:e.product_name}),(0,Cl.jsx)("p",{className:"text-[11px] text-gray-600 font-poppins line-clamp-1",children:e.provider_name})]})]},e.listing_id))})})]},r.video_id||"group-".concat(null===(n=r.products[0])||void 0===n?void 0:n.listing_id))})})]})})]})},Wi=Ul("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),qi=Ul("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Hi=Ul("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Gi=Ul("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$i=Ul("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Yi=Ul("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Qi=Ul("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ki=e=>{let{user:t}=e;const[s,r]=(0,a.useState)(!1),n=(0,a.useRef)(null),l=te(),{logout:i}=El();(0,a.useEffect)(()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&r(!1)};return s&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s]);return(0,Cl.jsxs)("div",{className:"relative",ref:n,children:[(0,Cl.jsxs)("button",{onClick:()=>r(!s),className:"flex items-center gap-2 bg-white hover:bg-gray-50 border border-gray-300 text-gray-900 px-4 py-2 rounded-lg transition-colors font-poppins text-sm",children:[(0,Cl.jsx)(Hi,{className:"w-4 h-4"}),(0,Cl.jsx)("span",{className:"hidden sm:inline",children:"Settings"}),(0,Cl.jsx)(Gi,{className:"w-4 h-4 transition-transform ".concat(s?"rotate-180":"")})]}),s&&(0,Cl.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[(0,Cl.jsxs)("button",{onClick:()=>{l("/settings"),r(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left hover:bg-gray-50 transition-colors font-poppins text-sm text-gray-900",children:[(0,Cl.jsx)(Hi,{className:"w-4 h-4 text-gray-600"}),(0,Cl.jsx)("span",{children:"Subscription Details"})]}),(0,Cl.jsxs)("button",{onClick:()=>{l("/profile/edit"),r(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left hover:bg-gray-50 transition-colors font-poppins text-sm text-gray-900",children:[(0,Cl.jsx)($i,{className:"w-4 h-4 text-gray-600"}),(0,Cl.jsx)("span",{children:"Edit Profile"})]}),(0,Cl.jsxs)("button",{onClick:()=>{l("/profile/analytics"),r(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left hover:bg-gray-50 transition-colors font-poppins text-sm text-gray-900",children:[(0,Cl.jsx)(Yi,{className:"w-4 h-4 text-gray-600"}),(0,Cl.jsx)("span",{children:"Analytics"})]}),(0,Cl.jsxs)("button",{onClick:()=>{const e=null!==t&&void 0!==t&&t.username?"".concat(window.location.origin,"/profile/").concat(t.username):"".concat(window.location.origin,"/profile?user_id=").concat(null===t||void 0===t?void 0:t.user_id);navigator.clipboard.writeText(e).then(()=>{Pt.success("Profile link copied to clipboard!")}).catch(()=>{Pt.error("Failed to copy link")}),r(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left hover:bg-gray-50 transition-colors font-poppins text-sm text-gray-900",children:[(0,Cl.jsx)(pi,{className:"w-4 h-4 text-gray-600"}),(0,Cl.jsx)("span",{children:"Share My Profile"})]}),(0,Cl.jsx)("div",{className:"border-t border-gray-200 my-1"}),(0,Cl.jsxs)("button",{onClick:async()=>{try{await i(),l("/"),Pt.success("Logged out successfully")}catch(Be){Pt.error("Failed to logout")}r(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left hover:bg-red-50 transition-colors font-poppins text-sm text-red-600",children:[(0,Cl.jsx)(Qi,{className:"w-4 h-4"}),(0,Cl.jsx)("span",{children:"Logout"})]})]})]})},Ji=()=>{var e,t,s,r,n,l,i,o,c,d,u,m,p,x,h,f,g,b,y,v,j,N,w,k,_;const[C]=Te(),{username:S}=function(){let{matches:e}=a.useContext(K),t=e[e.length-1];return t?t.params:{}}(),E=C.get("user_id"),{user:F,logout:L}=El(),[P,A]=(0,a.useState)(null),[R,T]=(0,a.useState)(null),[D,M]=(0,a.useState)(null),[O,I]=(0,a.useState)([]),[z,U]=(0,a.useState)([]),[B,V]=(0,a.useState)(!0),[W,q]=(0,a.useState)("ALL"),[H,G]=(0,a.useState)({is_following:!1,follower_count:0,following_count:0}),[$,Y]=(0,a.useState)(!1),Q=te(),J=E?Number(E):null,X=!!S,Z=J||(X?null:null!==(e=null===F||void 0===F?void 0:F.user_id)&&void 0!==e?e:null),ee=!E&&!S||F&&J&&Number(F.user_id)===J,se=X&&F&&S&&F.username===S,re=(0,a.useCallback)(async()=>{try{if(V(!0),X){if(!S)return void Pt.error("Invalid username");const c=await aa.getProfileByUsername(S);if(null!==c&&void 0!==c&&c.ok){var e,t,s,r,n,a,l;if(A(null!==(e=c.user)&&void 0!==e?e:null),T(null!==(t=c.provider)&&void 0!==t?t:null),I(null!==(s=c.listings)&&void 0!==s?s:[]),M(null),null!==(r=c.provider)&&void 0!==r&&r.provider_id)try{var i,o;const e=await _l.get("/api/watch/provider/".concat(c.provider.provider_id,"/videos"));U(null!==(i=null===(o=e.data)||void 0===o?void 0:o.videos)&&void 0!==i?i:[])}catch(_){console.error("Error fetching videos:",_),U([])}else U([]);if(c.follow_status)G({is_following:null!==(n=c.follow_status.is_following)&&void 0!==n&&n,follower_count:null!==(a=c.follow_status.follower_count)&&void 0!==a?a:0,following_count:null!==(l=c.follow_status.following_count)&&void 0!==l?l:0})}else Pt.error((null===c||void 0===c?void 0:c.error)||"User not found")}else if(ee){var c,d,u,m,p,x,h;const[e,t,s,r,n]=await Promise.all([aa.getProfile().catch(e=>(console.error("Error fetching user profile:",e),null)),In().catch(e=>(console.error("Error fetching provider:",e),null)),Zn().catch(e=>(console.error("Error fetching subscription:",e),null)),Hn().catch(e=>(console.error("Error fetching listings:",e),{listings:[],pending_requests:[]})),aa.getMyVideos().catch(e=>(console.error("Error fetching videos:",e),{ok:!1,videos:[]}))]);A(null!==(c=null!==(d=null===e||void 0===e?void 0:e.user)&&void 0!==d?d:e)&&void 0!==c?c:null),T(null!==(u=null!==(m=null===t||void 0===t?void 0:t.provider)&&void 0!==m?m:t)&&void 0!==u?u:null),M(null!==s&&void 0!==s?s:null);const a=[...null!==(p=null===r||void 0===r?void 0:r.pending_requests)&&void 0!==p?p:[],...null!==(x=null===r||void 0===r?void 0:r.listings)&&void 0!==x?x:[]];I(a);const l=null!==(h=null===n||void 0===n?void 0:n.videos)&&void 0!==h?h:[];U(l)}else{var f;if(!Z)return void Pt.error("Invalid user");const e=await _l.get("/api/users/".concat(Z,"/profile"));var g,b,y,v,j,N;if(null!==e&&void 0!==e&&null!==(f=e.data)&&void 0!==f&&f.ok)if(A(null!==(g=e.data.user)&&void 0!==g?g:null),T(null!==(b=e.data.provider)&&void 0!==b?b:null),I(null!==(y=e.data.listings)&&void 0!==y?y:[]),M(null!==(v=e.data.subscription)&&void 0!==v?v:null),null!==(j=e.data.provider)&&void 0!==j&&j.provider_id)try{var w,k;const t=await _l.get("/api/watch/provider/".concat(e.data.provider.provider_id,"/videos"));U(null!==(w=null===(k=t.data)||void 0===k?void 0:k.videos)&&void 0!==w?w:[])}catch(_){console.error("Error fetching videos:",_),U([])}else U([]);else Pt.error((null===e||void 0===e||null===(N=e.data)||void 0===N?void 0:N.error)||"User not found")}}catch(C){console.error("Error loading profile:",C),Pt.error("Could not fetch profile data")}finally{V(!1)}},[ee,X,Z,S]),ne=(0,a.useCallback)(async e=>{if(e)try{const r=await aa.getFollowStatus(e);var t,s;if(r&&!1!==r.ok)G({is_following:!!r.is_following,follower_count:Number(null!==(t=r.follower_count)&&void 0!==t?t:0),following_count:Number(null!==(s=r.following_count)&&void 0!==s?s:0)})}catch(r){console.error("Error loading follow status:",r)}},[]);(0,a.useEffect)(()=>{re()},[re]),(0,a.useEffect)(()=>{X||(null!==P&&void 0!==P&&P.user_id?ne(P.user_id):Z&&ne(Z))},[null===P||void 0===P?void 0:P.user_id,Z,ne,X]);const ae=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}catch(Be){return"N/A"}};if(B)return(0,Cl.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Cl.jsx)("div",{className:"text-gray-900 text-lg font-poppins",children:"Loading profile..."})});const le=R&&"APPROVED"===R.status,ie=null!==(t=null!==(s=null!==(r=null===R||void 0===R?void 0:R.business_name)&&void 0!==r?r:null===P||void 0===P?void 0:P.full_name)&&void 0!==s?s:null===P||void 0===P?void 0:P.name)&&void 0!==t?t:"User",oe=null!==(n=null!==(l=null===R||void 0===R?void 0:R.handle_address)&&void 0!==l?l:null===P||void 0===P?void 0:P.email)&&void 0!==n?n:"",ce=null!==(i=null!==(o=null===P||void 0===P?void 0:P.profile_picture)&&void 0!==o?o:null===P||void 0===P?void 0:P.profile_image_url)&&void 0!==i?i:null,de=null!==(c=null===P||void 0===P?void 0:P.banner)&&void 0!==c?c:null,ue=null!==(d=null===P||void 0===P?void 0:P.username)&&void 0!==d?d:"",me=null!==(u=null===P||void 0===P?void 0:P.type)&&void 0!==u?u:"NORMAL",pe=null!==(m=null===P||void 0===P?void 0:P.total_likes)&&void 0!==m?m:0,xe=null!==(p=null===P||void 0===P?void 0:P.total_views)&&void 0!==p?p:0,he={listings:null!==(x=null===O||void 0===O?void 0:O.length)&&void 0!==x?x:0,products:(null!==O&&void 0!==O?O:[]).filter(e=>"PRODUCT"===e.type).length,totalViews:(null!==O&&void 0!==O?O:[]).reduce((e,t)=>{var s;return e+Number(null!==(s=t.view_count)&&void 0!==s?s:0)},0),totalLikes:(null!==O&&void 0!==O?O:[]).reduce((e,t)=>{var s;return e+Number(null!==(s=t.like_count)&&void 0!==s?s:0)},0)},fe=ee?he:{listings:null!==(h=null===O||void 0===O?void 0:O.length)&&void 0!==h?h:0,totalViews:(null!==O&&void 0!==O?O:[]).reduce((e,t)=>{var s;return e+Number(null!==(s=t.view_count)&&void 0!==s?s:0)},0),totalLikes:(null!==O&&void 0!==O?O:[]).reduce((e,t)=>{var s;return e+Number(null!==(s=t.like_count)&&void 0!==s?s:0)},0)},ge=(null!==O&&void 0!==O?O:[]).filter(e=>"ALL"===W||e.type===W),be="ALL"===W?[...z.map(e=>{var t,s;return{id:"video_".concat(e.video_id),video_id:e.video_id,thumbnail_url:e.thumbnail_url,video_url:e.video_url,like_count:null!==(t=e.like_count)&&void 0!==t?t:0,view_count:null!==(s=e.view_count)&&void 0!==s?s:0,created_at:e.created_at,is_video:!0}}),...ge.map(e=>{var t,s,r,n;return{id:"listing_".concat(null!==(t=null!==(s=e.listing_id)&&void 0!==s?s:e.request_id)&&void 0!==t?t:e.id),listing_id:e.listing_id,request_id:e.request_id,thumbnail_url:e.thumbnail_url,video_url:e.video_url,product_name:e.product_name,like_count:null!==(r=e.like_count)&&void 0!==r?r:0,view_count:null!==(n=e.view_count)&&void 0!==n?n:0,status:e.status,created_at:e.created_at,is_video:!1}})].sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)):ge.map(e=>{var t,s,r,n;return{id:"listing_".concat(null!==(t=null!==(s=e.listing_id)&&void 0!==s?s:e.request_id)&&void 0!==t?t:e.id),listing_id:e.listing_id,request_id:e.request_id,thumbnail_url:e.thumbnail_url,video_url:e.video_url,product_name:e.product_name,like_count:null!==(r=e.like_count)&&void 0!==r?r:0,view_count:null!==(n=e.view_count)&&void 0!==n?n:0,status:e.status,created_at:e.created_at,is_video:!1}});return(0,Cl.jsxs)("div",{className:"min-h-screen bg-white text-gray-900",children:[(0,Cl.jsx)("div",{className:"bg-white/80 backdrop-blur border-b border-gray-200 px-4 sm:px-6 py-4 sticky top-0 z-20",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[(0,Cl.jsx)("h1",{className:"text-xl font-bold text-gray-900 font-poppins",children:ee&&!X?null!==(f=null!==(g=null===P||void 0===P?void 0:P.name)&&void 0!==g?g:null===P||void 0===P?void 0:P.full_name)&&void 0!==f?f:"Profile":null!==(b=null!==(y=null===P||void 0===P?void 0:P.full_name)&&void 0!==y?y:null===P||void 0===P?void 0:P.username)&&void 0!==b?b:"Profile"}),ee&&!X&&!se&&(0,Cl.jsx)(Ki,{user:P||F})]})}),(0,Cl.jsxs)("div",{className:"max-w-4xl mx-auto pb-32 sm:pb-24",children:[(0,Cl.jsx)("div",{className:"w-full h-44 sm:h-56 bg-gray-100 relative",children:de?(0,Cl.jsx)("img",{src:de,alt:"Banner",className:"w-full h-full object-cover"}):(0,Cl.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-purple-100 to-blue-100"})}),(0,Cl.jsx)("div",{className:"-mt-12 sm:-mt-16 px-4 sm:px-6 relative z-10",children:(0,Cl.jsx)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-5 sm:p-6",children:(0,Cl.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 sm:gap-8",children:[(0,Cl.jsx)("div",{className:"flex-shrink-0 -mt-10 sm:-mt-12 relative",children:ce?(0,Cl.jsx)("img",{src:ce,alt:"Profile",className:"w-20 h-20 sm:w-28 sm:h-28 rounded-full object-cover border-4 border-white shadow-md"}):(0,Cl.jsx)("div",{className:"w-20 h-20 sm:w-28 sm:h-28 rounded-full bg-gradient-to-br from-[#6A00FF] to-purple-600 flex items-center justify-center border-4 border-white shadow-md",children:(0,Cl.jsx)(ti,{className:"w-10 h-10 sm:w-16 sm:h-16 text-white"})})}),(0,Cl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Cl.jsxs)("div",{className:"mb-3",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-1",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,Cl.jsx)("h2",{className:"text-xl sm:text-2xl font-poppins text-gray-900 truncate",children:ie}),le&&(0,Cl.jsx)("div",{className:"flex items-center justify-center flex-shrink-0",children:(0,Cl.jsxs)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Cl.jsx)("circle",{cx:"12",cy:"12",r:"12",fill:"#0095F6"}),(0,Cl.jsx)("path",{d:"M8 12L11 15L16 9",stroke:"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})})]}),!ee&&!se&&(0,Cl.jsx)("button",{onClick:async()=>{let e=null;if(J?e=J:X&&null!==P&&void 0!==P&&P.user_id?e=P.user_id:Z?e=Z:null!==P&&void 0!==P&&P.user_id&&(e=P.user_id),!e||!F)return void Pt.error("Please log in to follow users");const t=F.user_id?Number(F.user_id):null,s=Number(e);if(t&&t===s)Pt.error("Cannot follow yourself");else{Y(!0);try{H.is_following?(await aa.unfollow(e),G(e=>{var t;return Ue(Ue({},e),{},{is_following:!1,follower_count:Math.max(0,(null!==(t=e.follower_count)&&void 0!==t?t:0)-1)})}),Pt.success("Unfollowed")):(await aa.follow(e),G(e=>{var t;return Ue(Ue({},e),{},{is_following:!0,follower_count:(null!==(t=e.follower_count)&&void 0!==t?t:0)+1})}),Pt.success("Followed"))}catch(a){var r,n;console.error("Error toggling follow:",a);const e=(null===a||void 0===a||null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Failed to update follow status";Pt.error(e)}finally{Y(!1)}}},disabled:$||!F,className:"px-3 py-1.5 rounded-lg transition-colors text-xs sm:text-sm font-poppins flex items-center gap-1.5 flex-shrink-0 ".concat(H.is_following?"bg-gray-100 hover:bg-gray-200 text-gray-900":"bg-[#6A00FF] hover:bg-purple-700 text-white"),children:$?(0,Cl.jsx)("span",{className:"text-xs",children:"..."}):H.is_following?(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)(ui,{className:"w-3.5 h-3.5"}),(0,Cl.jsx)("span",{className:"hidden sm:inline",children:"Unfollow"})]}):(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)(mi,{className:"w-3.5 h-3.5"}),(0,Cl.jsx)("span",{className:"hidden sm:inline",children:"Follow"})]})})]}),ue&&(0,Cl.jsxs)("p",{className:"text-gray-600 text-sm font-poppins",children:["@",ue]}),me&&"NORMAL"!==me&&(0,Cl.jsx)("p",{className:"text-gray-500 text-xs font-poppins capitalize mt-1",children:me.toLowerCase()})]}),(0,Cl.jsxs)("div",{className:"flex gap-6 sm:gap-8 mb-4 flex-wrap",children:[(0,Cl.jsxs)("div",{className:"text-center sm:text-left cursor-pointer",onClick:()=>{const e=J||(null===P||void 0===P?void 0:P.user_id);e&&Q("/followers?user_id=".concat(e))},children:[(0,Cl.jsx)("span",{className:"font-semibold text-gray-900 font-poppins",children:null!==(v=H.follower_count)&&void 0!==v?v:0}),(0,Cl.jsx)("span",{className:"text-gray-600 text-sm font-poppins ml-1",children:"followers"})]}),(0,Cl.jsxs)("div",{className:"text-center sm:text-left cursor-pointer",onClick:()=>{const e=J||(null===P||void 0===P?void 0:P.user_id);e&&Q("/following?user_id=".concat(e))},children:[(0,Cl.jsx)("span",{className:"font-semibold text-gray-900 font-poppins",children:null!==(j=H.following_count)&&void 0!==j?j:0}),(0,Cl.jsx)("span",{className:"text-gray-600 text-sm font-poppins ml-1",children:"following"})]}),ee&&(0,Cl.jsxs)("div",{className:"text-center sm:text-left",children:[(0,Cl.jsx)("span",{className:"font-semibold text-gray-900 font-poppins",children:fe.listings}),(0,Cl.jsx)("span",{className:"text-gray-600 text-sm font-poppins ml-1",children:"listings"})]}),!X&&pe>0&&(0,Cl.jsxs)("div",{className:"text-center sm:text-left",children:[(0,Cl.jsx)("span",{className:"font-semibold text-gray-900 font-poppins",children:pe}),(0,Cl.jsx)("span",{className:"text-gray-600 text-sm font-poppins ml-1",children:"likes"})]}),!X&&xe>0&&(0,Cl.jsxs)("div",{className:"text-center sm:text-left",children:[(0,Cl.jsx)("span",{className:"font-semibold text-gray-900 font-poppins",children:xe}),(0,Cl.jsx)("span",{className:"text-gray-600 text-sm font-poppins ml-1",children:"views"})]})]}),(0,Cl.jsxs)("div",{className:"mb-4",children:[(0,Cl.jsxs)("p",{className:"font-semibold text-gray-900 font-poppins text-sm mb-1",children:[null!==R&&void 0!==R&&R.business_name&&null!==P&&void 0!==P&&P.name&&P.name!==R.business_name?P.name:"",(null===R||void 0===R?void 0:R.type)&&(0,Cl.jsx)("span",{className:"ml-2 text-gray-600 font-poppins text-sm font-normal capitalize",children:R.type.toLowerCase()})]}),(null===R||void 0===R?void 0:R.location)&&(0,Cl.jsxs)("p",{className:"text-gray-900 font-poppins text-sm flex items-center gap-1 mb-1",children:[(0,Cl.jsx)(Wi,{className:"w-4 h-4"}),R.location]}),oe&&(0,Cl.jsx)("p",{className:"text-gray-900 font-poppins text-sm",children:oe}),R&&"PENDING"===R.status&&(0,Cl.jsx)("p",{className:"text-yellow-600 font-poppins text-sm mt-2",children:"Verification pending"})]}),!X&&(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Email"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:null!==(N=null===P||void 0===P?void 0:P.email)&&void 0!==N?N:"\u2014"})]}),(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Phone"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:null!==(w=null===P||void 0===P?void 0:P.phone)&&void 0!==w?w:"\u2014"})]}),(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Joined"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:ae(null===P||void 0===P?void 0:P.created_at)})]})]}),X&&(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Joined"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:ae(null===P||void 0===P?void 0:P.created_at)})]}),(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Type"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins capitalize",children:null!==(k=null===me||void 0===me?void 0:me.toLowerCase())&&void 0!==k?k:"\u2014"})]})]}),R&&(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Provider Type"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:(R.provider_type||R.type||"").toString().toUpperCase()})]}),(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Status"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:R.status})]}),(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"GST"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:R.gst||"\u2014"})]}),(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Upload Limit"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-900 truncate font-poppins",children:null!==(_=R.upload_limit)&&void 0!==_?_:"\u2014"})]}),R.business_address&&(0,Cl.jsxs)("div",{className:"col-span-2 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Business Address"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-900 font-poppins whitespace-pre-wrap",children:R.business_address})]}),R.handle_address&&(0,Cl.jsxs)("div",{className:"col-span-2 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-[11px] text-gray-500 font-poppins",children:"Handle/Website"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-900 font-poppins break-all",children:R.handle_address})]})]}),ee&&!X&&!R&&(0,Cl.jsx)("div",{className:"flex gap-2",children:(0,Cl.jsx)("button",{onClick:()=>Q("/provider/register"),className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors text-sm font-poppins",children:"Register as Provider"})})]})]})})}),(0,Cl.jsx)("div",{className:"flex justify-center border-b border-gray-200",children:(0,Cl.jsxs)("div",{className:"flex gap-8",children:[(0,Cl.jsx)("button",{onClick:()=>q("ALL"),className:"py-4 px-1 border-b-2 transition-colors font-poppins text-sm ".concat("ALL"===W?"border-gray-900 text-gray-900 font-semibold":"border-transparent text-gray-500"),children:"ALL"}),(0,Cl.jsxs)("button",{onClick:()=>q("PRODUCT"),className:"py-4 px-1 border-b-2 transition-colors font-poppins text-sm flex items-center gap-1 ".concat("PRODUCT"===W?"border-gray-900 text-gray-900 font-semibold":"border-transparent text-gray-500"),children:[(0,Cl.jsx)(si,{className:"w-4 h-4"}),"PRODUCTS"]})]})}),be.length>0?(0,Cl.jsx)("div",{className:"grid grid-cols-3 gap-1 sm:gap-px py-4",children:be.map(e=>{var t,s,r;return(0,Cl.jsxs)("div",{onClick:()=>{e.is_video&&e.video_id?Q("/watch?video=".concat(e.video_id)):e.listing_id&&Q("/watch?video=".concat(e.listing_id))},className:"aspect-square bg-gray-100 relative group cursor-pointer overflow-hidden",children:[e.thumbnail_url?(0,Cl.jsx)("img",{src:e.thumbnail_url,alt:null!==(t=e.product_name)&&void 0!==t?t:"Video",className:"w-full h-full object-cover group-hover:opacity-75 transition-opacity"}):e.video_url?(0,Cl.jsx)("video",{src:e.video_url,className:"w-full h-full object-cover group-hover:opacity-75 transition-opacity",muted:!0}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[#6A00FF] to-purple-600",children:e.is_video?(0,Cl.jsx)(ki,{className:"w-8 h-8 text-white opacity-50"}):(0,Cl.jsx)(si,{className:"w-8 h-8 text-white opacity-50"})}),"ALL"===W&&(0,Cl.jsx)("div",{className:"absolute top-2 left-2",children:e.is_video?(0,Cl.jsx)("div",{className:"bg-black/60 backdrop-blur-sm rounded-full p-1.5",children:(0,Cl.jsx)(Jl,{className:"w-3 h-3 text-white fill-white"})}):(0,Cl.jsx)("div",{className:"bg-black/60 backdrop-blur-sm rounded-full p-1.5",children:(0,Cl.jsx)(si,{className:"w-3 h-3 text-white"})})}),(0,Cl.jsxs)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors flex items-center justify-center gap-4 opacity-0 group-hover:opacity-100",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-1 text-white",children:[(0,Cl.jsx)(Kl,{className:"w-5 h-5"}),(0,Cl.jsx)("span",{className:"font-poppins text-sm",children:null!==(s=e.like_count)&&void 0!==s?s:0})]}),(0,Cl.jsxs)("div",{className:"flex items-center gap-1 text-white",children:[(0,Cl.jsx)(Ql,{className:"w-5 h-5"}),(0,Cl.jsx)("span",{className:"font-poppins text-sm",children:null!==(r=e.view_count)&&void 0!==r?r:0})]})]}),"PENDING"===e.status&&(0,Cl.jsx)("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white text-xs px-2 py-1 rounded font-poppins",children:"Pending"})]},e.id)})}):(0,Cl.jsxs)("div",{className:"py-12 text-center",children:["ALL"===W?(0,Cl.jsx)(ki,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}):(0,Cl.jsx)(si,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),ee&&!X?(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("p",{className:"text-gray-500 font-poppins mb-4",children:"ALL"===W?"No videos or listings yet":"No listings yet"}),(0,Cl.jsxs)("button",{onClick:()=>Q("/listing/upload"),className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-6 py-2 rounded-lg transition-colors text-sm font-poppins flex items-center gap-2 mx-auto",children:[(0,Cl.jsx)(Si,{className:"w-4 h-4"}),"Upload Your First Listing"]})]}):(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("p",{className:"text-gray-500 font-poppins mb-2",children:"ALL"===W?"This user doesn't have any videos or listings yet":"This user doesn't have any listings yet"}),(0,Cl.jsx)("p",{className:"text-gray-400 text-sm font-poppins",children:"Follow to stay updated"})]})]}),!X&&(0,Cl.jsx)("div",{className:"mt-8 space-y-4 pb-8",children:(null===P||void 0===P?void 0:P.is_admin)&&(0,Cl.jsx)("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg p-4 border border-blue-200",children:(0,Cl.jsxs)("button",{onClick:()=>Q("/admin/dashboard"),className:"w-full bg-gradient-to-r from-blue-600 to-[#6A00FF] hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg transition-all font-medium flex items-center justify-center gap-2 font-poppins",children:[(0,Cl.jsx)(qi,{className:"w-5 h-5"}),"Access Admin Dashboard"]})})})]})]})},Xi=Ul("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Zi=()=>{const e=te(),{user:t}=El(),[s,r]=(0,a.useState)(!1),[n,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)("user"),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[p,x]=(0,a.useState)({name:"",email:"",phone:"",profile_picture:"",banner:"",name_provider:"",phone_provider:"",business_name:"",type:"brand",location:"",gst_number:"",business_address:"",handle_address:""});(0,a.useEffect)(()=>{h()},[]);const h=async()=>{try{r(!0);const[e,t]=await Promise.all([aa.getProfile().catch(()=>null),In().catch(()=>null)]),s=(null===e||void 0===e?void 0:e.user)||e||null,n=(null===t||void 0===t?void 0:t.provider)||t||null;d(s),m(n),s&&x(e=>Ue(Ue({},e),{},{name:s.full_name||s.name||"",email:s.email||"",phone:s.phone||"",profile_picture:s.profile_picture||s.profile_image_url||"",banner:s.banner||""})),n&&x(e=>Ue(Ue({},e),{},{name_provider:n.name||"",phone_provider:n.phone||"",business_name:n.business_name||"",type:(n.provider_type||n.type||"BRAND").toString().toLowerCase(),location:n.location||"",gst_number:n.gst||n.gst_number||"",business_address:n.business_address||"",handle_address:n.handle_address||""}))}catch(e){console.error("Error loading profile:",e),Pt.error("Failed to load profile data")}finally{r(!1)}},f=e=>{const{name:t,value:s}=e.target;x(e=>Ue(Ue({},e),{},{[t]:s}))};return s?(0,Cl.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Cl.jsx)(Zl,{className:"w-8 h-8 animate-spin text-[#6A00FF]"})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-4 sticky top-0 z-20",children:(0,Cl.jsxs)("div",{className:"flex items-center gap-4 max-w-4xl mx-auto",children:[(0,Cl.jsx)("button",{onClick:()=>e("/profile"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,Cl.jsx)(oi,{className:"w-5 h-5 text-gray-900"})}),(0,Cl.jsx)("h1",{className:"text-xl font-bold text-gray-900 font-poppins",children:"Edit Profile"})]})}),(0,Cl.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-6",children:[(0,Cl.jsxs)("div",{className:"flex gap-2 mb-6 border-b border-gray-200",children:[(0,Cl.jsx)("button",{onClick:()=>o("user"),className:"px-4 py-2 font-poppins text-sm font-medium transition-colors ".concat("user"===i?"text-[#6A00FF] border-b-2 border-[#6A00FF]":"text-gray-600 hover:text-gray-900"),children:"User Profile"}),u&&(0,Cl.jsx)("button",{onClick:()=>o("provider"),className:"px-4 py-2 font-poppins text-sm font-medium transition-colors ".concat("provider"===i?"text-[#6A00FF] border-b-2 border-[#6A00FF]":"text-gray-600 hover:text-gray-900"),children:"Business Profile"})]}),(0,Cl.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0);try{if("user"===i){const e={name:p.name,email:p.email,phone:p.phone,profile_picture:""===p.profile_picture?null:p.profile_picture,banner:""===p.banner?null:p.banner};await aa.updateProfile(e),Pt.success("Profile updated successfully!")}else"provider"===i&&u&&(await On({name:p.name_provider,phone:p.phone_provider,business_name:p.business_name,type:p.type,location:p.location,gst_number:p.gst_number,business_address:p.business_address,handle_address:p.handle_address}),Pt.success("Provider profile updated successfully!"));e("/profile")}catch(n){var s,r;console.error("Error updating profile:",n),Pt.error((null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||"Failed to update profile")}finally{l(!1)}},className:"space-y-6",children:["user"===i?(0,Cl.jsxs)("div",{className:"space-y-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Profile Banner URL"}),(0,Cl.jsx)("input",{type:"url",name:"banner",value:p.banner,onChange:f,placeholder:"https://example.com/banner.jpg",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"}),p.banner&&(0,Cl.jsx)("div",{className:"mt-2 w-full h-32 rounded-lg overflow-hidden border border-gray-200",children:(0,Cl.jsx)("img",{src:p.banner,alt:"Banner preview",className:"w-full h-full object-cover"})})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Profile Picture URL"}),(0,Cl.jsx)("input",{type:"url",name:"profile_picture",value:p.profile_picture,onChange:f,placeholder:"https://example.com/profile.jpg",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"}),p.profile_picture&&(0,Cl.jsx)("div",{className:"mt-2 w-20 h-20 rounded-full overflow-hidden border border-gray-200",children:(0,Cl.jsx)("img",{src:p.profile_picture,alt:"Profile preview",className:"w-full h-full object-cover"})})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Full Name"}),(0,Cl.jsx)("input",{type:"text",name:"name",value:p.name,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Email"}),(0,Cl.jsx)("input",{type:"email",name:"email",value:p.email,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Phone"}),(0,Cl.jsx)("input",{type:"tel",name:"phone",value:p.phone,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]})]}):(0,Cl.jsxs)("div",{className:"space-y-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Business Name"}),(0,Cl.jsx)("input",{type:"text",name:"business_name",value:p.business_name,onChange:f,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Business Type"}),(0,Cl.jsxs)("select",{name:"type",value:p.type,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins",children:[(0,Cl.jsx)("option",{value:"brand",children:"Brand"}),(0,Cl.jsx)("option",{value:"influencer",children:"Influencer"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Location"}),(0,Cl.jsx)("input",{type:"text",name:"location",value:p.location,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Handle/Website"}),(0,Cl.jsx)("input",{type:"url",name:"handle_address",value:p.handle_address,onChange:f,placeholder:"https://example.com or @handle",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"GST Number (Optional)"}),(0,Cl.jsx)("input",{type:"text",name:"gst_number",value:p.gst_number,onChange:f,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2 font-poppins",children:"Business Address (Optional)"}),(0,Cl.jsx)("textarea",{name:"business_address",value:p.business_address,onChange:f,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A00FF] focus:border-transparent font-poppins"})]})]}),(0,Cl.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>e("/profile"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-poppins text-sm",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",disabled:n,className:"flex-1 flex items-center justify-center gap-2 bg-[#6A00FF] hover:bg-purple-700 text-white px-6 py-2 rounded-lg transition-colors font-poppins text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:n?(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)(Zl,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)(Xi,{className:"w-4 h-4"}),"Save Changes"]})})]})]})]})]})},eo=Ul("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),to=Ul("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),so=Ul("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),ro=Ul("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),no=Ul("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ao=()=>{var e,t;const s=te(),{user:r}=El(),[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{u()},[]);const u=async()=>{try{l(!0);const[e,t]=await Promise.all([aa.getProfile().catch(()=>null),Zn().catch(()=>null)]);o((null===e||void 0===e?void 0:e.user)||e||null),d((null===t||void 0===t?void 0:t.subscription)||t||null)}catch(e){console.error("Error loading settings data:",e),Pt.error("Failed to load settings")}finally{l(!1)}},m=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(Be){return"N/A"}};if(n)return(0,Cl.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-[#6A00FF] rounded-full animate-spin mx-auto mb-4"}),(0,Cl.jsx)("p",{className:"text-gray-500 font-poppins",children:"Loading settings..."})]})});const p=(()=>{var e,t;if(!c||!c.is_subscribed)return{status:"Free",color:"text-gray-600",icon:Mi};const s=new Date,r=null!==(e=null!==(t=c.expires_at)&&void 0!==t?t:c.subscription_expiration)&&void 0!==e?e:null;if(!r)return{status:"Active",color:"text-green-600",icon:Di};try{return new Date(r)>s?{status:"Active",color:"text-green-600",icon:Di}:{status:"Expired",color:"text-red-600",icon:Mi}}catch(n){return{status:"Active",color:"text-green-600",icon:Di}}})(),x=p.icon,h=(null===c||void 0===c?void 0:c.is_subscribed)&&"Active"===p.status;return(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-4 sticky top-0 z-20",children:(0,Cl.jsxs)("div",{className:"flex items-center gap-4 max-w-4xl mx-auto",children:[(0,Cl.jsx)("button",{onClick:()=>s("/profile"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,Cl.jsx)(oi,{className:"w-5 h-5 text-gray-900"})}),(0,Cl.jsx)("h1",{className:"text-xl font-bold text-gray-900 font-poppins",children:"Subscription Details"})]})}),(0,Cl.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-6 pb-32 sm:pb-24",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[(0,Cl.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Cl.jsx)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:"Subscription Details"})}),(0,Cl.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Cl.jsx)("div",{className:"rounded-lg p-4 border-2 ".concat("Active"===p.status?"bg-green-50 border-green-200":"Expired"===p.status?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"),children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Cl.jsx)(x,{className:"w-6 h-6 ".concat(p.color)}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm text-gray-600 font-poppins",children:"Subscription Status"}),(0,Cl.jsx)("p",{className:"text-lg font-semibold font-poppins ".concat(p.color),children:p.status})]})]}),"Active"===p.status&&(0,Cl.jsx)(eo,{className:"w-6 h-6 text-yellow-500"})]})}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-4 font-poppins",children:"Account Information"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Cl.jsx)(ti,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Username"})]}),(0,Cl.jsxs)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:["@",(null===i||void 0===i?void 0:i.username)||"N/A"]})]}),(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Cl.jsx)(to,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Email"})]}),(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins truncate",children:(null===i||void 0===i?void 0:i.email)||"N/A"})]}),(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Cl.jsx)(so,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Phone"})]}),(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:(null===i||void 0===i?void 0:i.phone)||"N/A"})]}),(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Cl.jsx)(ro,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Member Since"})]}),(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:m(null===i||void 0===i?void 0:i.created_at)})]}),(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Cl.jsx)(no,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Account Type"})]}),(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins capitalize",children:(null===i||void 0===i?void 0:i.type)||"NORMAL"})]})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-4 font-poppins",children:"Subscription Information"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins mb-2",children:"Uploads Remaining"}),(0,Cl.jsxs)("p",{className:"text-lg font-semibold text-gray-900 font-poppins",children:[null!==(e=null===i||void 0===i?void 0:i.uploads_remaining)&&void 0!==e?e:0," / ","premium"===(null===i||void 0===i?void 0:i.subscription_status)||h?"Unlimited":"5"]})]}),(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins mb-2",children:"Total Uploads"}),(0,Cl.jsx)("p",{className:"text-lg font-semibold text-gray-900 font-poppins",children:null!==(t=null===i||void 0===i?void 0:i.total_uploads)&&void 0!==t?t:0})]}),(null===c||void 0===c?void 0:c.expires_at)&&(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Cl.jsx)(Oi,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Expires On"})]}),(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:m(c.expires_at)})]}),(null===c||void 0===c?void 0:c.subscription_expiration)&&!(null!==c&&void 0!==c&&c.expires_at)&&(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Cl.jsx)(Oi,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins",children:"Expires On"})]}),(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:m(c.subscription_expiration)})]})]})]}),!h&&(0,Cl.jsx)("div",{className:"bg-gradient-to-r from-[#6A00FF]/10 to-purple-100 rounded-lg p-6 border border-[#6A00FF]/20",children:(0,Cl.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Cl.jsx)("div",{className:"flex-shrink-0",children:(0,Cl.jsx)(eo,{className:"w-8 h-8 text-[#6A00FF]"})}),(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 font-poppins",children:"Upgrade to Premium"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-600 mb-4 font-poppins",children:"Get unlimited uploads, priority support, and access to all premium features."}),(0,Cl.jsx)("button",{onClick:()=>s("/subscription/upgrade",{state:{from:"settings"}}),className:"bg-[#6A00FF] hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors font-semibold font-poppins",children:"View Plans & Upgrade"})]})]})}),h&&(0,Cl.jsx)("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:(0,Cl.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Cl.jsx)("div",{className:"flex-shrink-0",children:(0,Cl.jsx)(Di,{className:"w-8 h-8 text-green-600"})}),(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 font-poppins",children:"Premium Benefits Active"}),(0,Cl.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600 font-poppins",children:[(0,Cl.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(Di,{className:"w-4 h-4 text-green-600"}),"Unlimited uploads"]}),(0,Cl.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(Di,{className:"w-4 h-4 text-green-600"}),"Priority support"]}),(0,Cl.jsxs)("li",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(Di,{className:"w-4 h-4 text-green-600"}),"Access to all premium features"]})]})]})]})})]})]})})]})},lo=Ul("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),io=Ul("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),oo=Ul("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),co=()=>{var e,t,s;const r=te(),{user:n}=El(),[l,i]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)("overview");(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{i(!0);const[e,t,s,r,a]=await Promise.all([aa.getProfile().catch(()=>null),Hn().catch(()=>({listings:[],pending_requests:[]})),aa.getMyVideos().catch(()=>({ok:!1,videos:[]})),n?aa.getFollowers(n.user_id).catch(()=>({ok:!1,followers:[]})):Promise.resolve({ok:!1,followers:[]}),n?aa.getFollowing(n.user_id).catch(()=>({ok:!1,following:[]})):Promise.resolve({ok:!1,following:[]})]),l=(null===e||void 0===e?void 0:e.user)||e||null,o=(null===t||void 0===t?void 0:t.listings)||[],d=(null===t||void 0===t?void 0:t.pending_requests)||[],u=[...d,...o],m=(null===s||void 0===s?void 0:s.videos)||[],p=(null===r||void 0===r?void 0:r.followers)||[],x=(null===a||void 0===a?void 0:a.following)||[],h=(null===l||void 0===l?void 0:l.follower_count)||p.length,f=(null===l||void 0===l?void 0:l.following_count)||x.length,g=u.filter(e=>"PRODUCT"===e.type),b=u.filter(e=>"SERVICE"===e.type),y=m.reduce((e,t)=>e+(t.view_count||0),0),v=m.reduce((e,t)=>e+(t.like_count||0),0),j=u.reduce((e,t)=>e+(t.view_count||0),0),N=u.reduce((e,t)=>e+(t.like_count||0),0),w=y+j,k=v+N,_=u.reduce((e,t)=>e+(t.click_count||0),0),C={},S={};m.forEach(e=>{if(e.created_at){const t=new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});C[t]=(C[t]||0)+(e.view_count||0),S[t]=(S[t]||0)+(e.like_count||0)}}),u.forEach(e=>{if(e.created_at){const t=new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"});C[t]=(C[t]||0)+(e.view_count||0),S[t]=(S[t]||0)+(e.like_count||0)}});const E=Object.keys(C).map(e=>({date:e,views:C[e]||0,likes:S[e]||0})).sort((e,t)=>new Date(e.date)-new Date(t.date));c({user:l,totalListings:u.length,videosCount:m.length,productsCount:g.length,servicesCount:b.length,pending:d.length,totalViews:w,totalLikes:k,totalClicks:_,followerCount:h,followingCount:f,totalUploads:(null===l||void 0===l?void 0:l.total_uploads)||0,chartData:E,allListings:u,videos:m,products:g,services:b,followers:p,following:x})}catch(e){console.error("Error loading analytics:",e),Pt.error("Failed to load analytics")}finally{i(!1)}},p=(e,t)=>e&&0!==e.length?Math.max(...e.map(e=>e[t]),1):1,x=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";if(l)return(0,Cl.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)(Yi,{className:"w-12 h-12 animate-pulse text-[#6A00FF] mx-auto mb-4"}),(0,Cl.jsx)("p",{className:"text-gray-500 font-poppins",children:"Loading analytics..."})]})});if(!o)return(0,Cl.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,Cl.jsx)("div",{className:"text-center",children:(0,Cl.jsx)("p",{className:"text-gray-500 font-poppins",children:"No analytics data available"})})});const h=p(o.chartData,"views"),f=p(o.chartData,"likes");return(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-4 sticky top-0 z-20",children:(0,Cl.jsxs)("div",{className:"flex items-center gap-4 max-w-6xl mx-auto",children:[(0,Cl.jsx)("button",{onClick:()=>r("/profile"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,Cl.jsx)(oi,{className:"w-5 h-5 text-gray-900"})}),(0,Cl.jsx)("h1",{className:"text-xl font-bold text-gray-900 font-poppins",children:"Analytics"})]})}),(0,Cl.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-6",children:[(0,Cl.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 border-b border-gray-200",children:[{id:"overview",label:"Overview",icon:Yi},{id:"videos",label:"Videos (".concat(o.videosCount,")"),icon:ki},{id:"products",label:"Products (".concat(o.productsCount,")"),icon:si},{id:"services",label:"Services (".concat(o.servicesCount,")"),icon:$l},{id:"followers",label:"Followers (".concat(o.followerCount,")"),icon:io},{id:"following",label:"Following (".concat(o.followingCount,")"),icon:mi}].map(e=>(0,Cl.jsxs)("button",{onClick:()=>u(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-poppins text-sm whitespace-nowrap transition-colors ".concat(d===e.id?"bg-[#6A00FF] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Cl.jsx)(e.icon,{className:"w-4 h-4"}),(0,Cl.jsx)("span",{children:e.label})]},e.id))}),"overview"===d&&(0,Cl.jsxs)("div",{className:"space-y-6",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,Cl.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Cl.jsx)(ki,{className:"w-5 h-5 text-blue-600"}),(0,Cl.jsx)("span",{className:"text-sm font-medium text-gray-600 font-poppins",children:"Videos"})]}),(0,Cl.jsx)("p",{className:"text-2xl font-bold text-gray-900 font-poppins",children:o.videosCount}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins mt-1",children:"Total videos"})]}),(0,Cl.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Cl.jsx)(Ql,{className:"w-5 h-5 text-purple-600"}),(0,Cl.jsx)("span",{className:"text-sm font-medium text-gray-600 font-poppins",children:"Views"})]}),(0,Cl.jsx)("p",{className:"text-2xl font-bold text-gray-900 font-poppins",children:o.totalViews.toLocaleString()}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins mt-1",children:"Total views"})]}),(0,Cl.jsxs)("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 rounded-lg p-4 border border-pink-200",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Cl.jsx)(Kl,{className:"w-5 h-5 text-pink-600"}),(0,Cl.jsx)("span",{className:"text-sm font-medium text-gray-600 font-poppins",children:"Likes"})]}),(0,Cl.jsx)("p",{className:"text-2xl font-bold text-gray-900 font-poppins",children:o.totalLikes.toLocaleString()}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins mt-1",children:"Total likes"})]}),(0,Cl.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Cl.jsx)(io,{className:"w-5 h-5 text-green-600"}),(0,Cl.jsx)("span",{className:"text-sm font-medium text-gray-600 font-poppins",children:"Followers"})]}),(0,Cl.jsx)("p",{className:"text-2xl font-bold text-gray-900 font-poppins",children:o.followerCount.toLocaleString()}),(0,Cl.jsxs)("p",{className:"text-xs text-gray-500 font-poppins mt-1",children:[o.followingCount," following"]})]})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Cl.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 font-poppins",children:"Content Statistics"}),(0,Cl.jsxs)("div",{className:"space-y-4",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(ki,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Videos"})]}),(0,Cl.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:o.videosCount})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(si,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Products"})]}),(0,Cl.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:o.productsCount})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cl.jsx)($l,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Services"})]}),(0,Cl.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:o.servicesCount})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(oo,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Pending"})]}),(0,Cl.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:o.pending})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(Yi,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Total Uploads"})]}),(0,Cl.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:o.totalUploads})]})]})]}),(0,Cl.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Cl.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 font-poppins",children:"Engagement"}),(0,Cl.jsxs)("div",{className:"space-y-4",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(Ql,{className:"w-4 h-4 text-purple-600"}),(0,Cl.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Total Views"})]}),(0,Cl.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:o.totalViews.toLocaleString()})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(Kl,{className:"w-4 h-4 text-pink-600"}),(0,Cl.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Total Likes"})]}),(0,Cl.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:o.totalLikes.toLocaleString()})]}),o.totalClicks>0&&(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(oo,{className:"w-4 h-4 text-blue-600"}),(0,Cl.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Total Clicks"})]}),(0,Cl.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:o.totalClicks.toLocaleString()})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cl.jsx)(mi,{className:"w-4 h-4 text-green-600"}),(0,Cl.jsx)("span",{className:"text-sm text-gray-600 font-poppins",children:"Followers"})]}),(0,Cl.jsx)("span",{className:"text-lg font-bold text-gray-900 font-poppins",children:o.followerCount.toLocaleString()})]})]})]})]}),o.chartData&&o.chartData.length>0&&(0,Cl.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Cl.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 font-poppins",children:"Views & Likes Over Time"}),(0,Cl.jsxs)("div",{className:"space-y-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Cl.jsx)("span",{className:"text-sm font-medium text-gray-700 font-poppins",children:"Views"}),(0,Cl.jsxs)("span",{className:"text-xs text-gray-500 font-poppins",children:[h.toLocaleString()," max"]})]}),(0,Cl.jsx)("div",{className:"flex items-end gap-1 h-32",children:o.chartData.map((e,t)=>(0,Cl.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,Cl.jsx)("div",{className:"w-full bg-purple-500 rounded-t transition-all hover:bg-purple-600",style:{height:"".concat(e.views/h*100,"%")},title:"".concat(e.date,": ").concat(e.views," views")}),(0,Cl.jsx)("span",{className:"text-[10px] text-gray-500 mt-1 font-poppins transform -rotate-45 origin-top-left whitespace-nowrap",children:e.date.split(" ")[1]})]},t))})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Cl.jsx)("span",{className:"text-sm font-medium text-gray-700 font-poppins",children:"Likes"}),(0,Cl.jsxs)("span",{className:"text-xs text-gray-500 font-poppins",children:[f.toLocaleString()," max"]})]}),(0,Cl.jsx)("div",{className:"flex items-end gap-1 h-32",children:o.chartData.map((e,t)=>(0,Cl.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,Cl.jsx)("div",{className:"w-full bg-pink-500 rounded-t transition-all hover:bg-pink-600",style:{height:"".concat(e.likes/f*100,"%")},title:"".concat(e.date,": ").concat(e.likes," likes")}),(0,Cl.jsx)("span",{className:"text-[10px] text-gray-500 mt-1 font-poppins transform -rotate-45 origin-top-left whitespace-nowrap",children:e.date.split(" ")[1]})]},t))})]})]})]}),(0,Cl.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,Cl.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 font-poppins",children:"Account Information"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins mb-1",children:"Username"}),(0,Cl.jsxs)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:["@",(null===(e=o.user)||void 0===e?void 0:e.username)||"N/A"]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins mb-1",children:"Account Type"}),(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins capitalize",children:(null===(t=o.user)||void 0===t?void 0:t.type)||"NORMAL"})]}),(null===(s=o.user)||void 0===s?void 0:s.created_at)&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins mb-1",children:"Member Since"}),(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-900 font-poppins",children:new Date(o.user.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long"})})]})]})]})]}),"videos"===d&&(0,Cl.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,Cl.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Cl.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:["All Videos (",o.videosCount,")"]}),(0,Cl.jsxs)("p",{className:"text-sm text-gray-500 font-poppins mt-1",children:["Total Views: ",o.videos.reduce((e,t)=>e+(t.view_count||0),0).toLocaleString()," | Total Likes: ",o.videos.reduce((e,t)=>e+(t.like_count||0),0).toLocaleString()]})]}),(0,Cl.jsx)("div",{className:"p-4",children:o.videos.length>0?(0,Cl.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:o.videos.map(e=>(e=>(0,Cl.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>r("/watch/".concat(e.video_id)),children:[(0,Cl.jsxs)("div",{className:"aspect-video rounded-lg bg-gray-200 overflow-hidden relative",children:[e.thumbnail_url?(0,Cl.jsx)("img",{src:e.thumbnail_url,alt:"Video thumbnail",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-300 to-gray-400",children:(0,Cl.jsx)(Jl,{className:"w-12 h-12 text-white opacity-70"})}),e.video_status&&"APPROVED"!==e.video_status&&(0,Cl.jsx)("div",{className:"absolute top-2 right-2 px-2 py-1 rounded text-xs font-poppins font-medium bg-black/70 text-white",children:e.video_status}),(0,Cl.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Cl.jsxs)("div",{className:"flex items-center gap-3 text-white text-xs font-poppins",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Cl.jsx)(Ql,{className:"w-3 h-3"}),(0,Cl.jsx)("span",{children:e.view_count||0})]}),(0,Cl.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Cl.jsx)(Kl,{className:"w-3 h-3"}),(0,Cl.jsx)("span",{children:e.like_count||0})]})]})})]}),(0,Cl.jsx)("div",{className:"mt-2",children:(0,Cl.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 font-poppins",children:[(0,Cl.jsx)(ro,{className:"w-3 h-3"}),(0,Cl.jsx)("span",{children:x(e.created_at)})]})})]},e.video_id))(e))}):(0,Cl.jsxs)("div",{className:"p-8 text-center text-gray-500 font-poppins",children:[(0,Cl.jsx)(ki,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,Cl.jsx)("p",{children:"No videos uploaded yet"})]})})]}),"products"===d&&(0,Cl.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,Cl.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Cl.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:["All Products (",o.productsCount,")"]}),(0,Cl.jsxs)("p",{className:"text-sm text-gray-500 font-poppins mt-1",children:["Total Views: ",o.products.reduce((e,t)=>e+(t.view_count||0),0).toLocaleString()," | Total Likes: ",o.products.reduce((e,t)=>e+(t.like_count||0),0).toLocaleString()]})]}),(0,Cl.jsx)("div",{className:"divide-y divide-gray-100",children:o.products.length>0?o.products.map(e=>(e=>(0,Cl.jsxs)("div",{className:"flex items-center gap-3 p-3 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-200 flex-shrink-0 overflow-hidden",children:e.thumbnail_url||e.thumbnail?(0,Cl.jsx)("img",{src:e.thumbnail_url||e.thumbnail,alt:e.product_name,className:"w-full h-full object-cover"}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,Cl.jsx)(si,{className:"w-6 h-6 text-gray-400"})})}),(0,Cl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Cl.jsx)("h3",{className:"font-semibold text-sm text-gray-900 font-poppins truncate",children:e.product_name}),(0,Cl.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,Cl.jsx)(Ql,{className:"w-3 h-3"}),(0,Cl.jsx)("span",{children:e.view_count||0})]}),(0,Cl.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,Cl.jsx)(Kl,{className:"w-3 h-3"}),(0,Cl.jsx)("span",{children:e.like_count||0})]}),e.click_count>0&&(0,Cl.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,Cl.jsx)(lo,{className:"w-3 h-3"}),(0,Cl.jsx)("span",{children:e.click_count})]}),(0,Cl.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,Cl.jsx)(ro,{className:"w-3 h-3"}),(0,Cl.jsx)("span",{children:x(e.created_at)})]})]})]}),(0,Cl.jsxs)("div",{className:"text-right",children:[e.price&&(0,Cl.jsxs)("div",{className:"text-sm font-semibold text-gray-900 font-poppins",children:["\u20b9",e.price]}),(0,Cl.jsx)("div",{className:"text-xs text-gray-500 font-poppins",children:"Product"})]})]},e.listing_id))(e)):(0,Cl.jsxs)("div",{className:"p-8 text-center text-gray-500 font-poppins",children:[(0,Cl.jsx)(si,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,Cl.jsx)("p",{children:"No products uploaded yet"})]})})]}),"services"===d&&(0,Cl.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,Cl.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Cl.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:["All Services (",o.servicesCount,")"]}),(0,Cl.jsxs)("p",{className:"text-sm text-gray-500 font-poppins mt-1",children:["Total Views: ",o.services.reduce((e,t)=>e+(t.view_count||0),0).toLocaleString()," | Total Likes: ",o.services.reduce((e,t)=>e+(t.like_count||0),0).toLocaleString()]})]}),(0,Cl.jsx)("div",{className:"divide-y divide-gray-100",children:o.services.length>0?o.services.map(e=>(e=>(0,Cl.jsxs)("div",{className:"flex items-center gap-3 p-3 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-200 flex-shrink-0 overflow-hidden",children:e.thumbnail_url||e.thumbnail?(0,Cl.jsx)("img",{src:e.thumbnail_url||e.thumbnail,alt:e.product_name,className:"w-full h-full object-cover"}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,Cl.jsx)($l,{className:"w-6 h-6 text-gray-400"})})}),(0,Cl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Cl.jsx)("h3",{className:"font-semibold text-sm text-gray-900 font-poppins truncate",children:e.product_name}),(0,Cl.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,Cl.jsx)(Ql,{className:"w-3 h-3"}),(0,Cl.jsx)("span",{children:e.view_count||0})]}),(0,Cl.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,Cl.jsx)(Kl,{className:"w-3 h-3"}),(0,Cl.jsx)("span",{children:e.like_count||0})]}),e.click_count>0&&(0,Cl.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,Cl.jsx)(lo,{className:"w-3 h-3"}),(0,Cl.jsx)("span",{children:e.click_count})]}),(0,Cl.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,Cl.jsx)(ro,{className:"w-3 h-3"}),(0,Cl.jsx)("span",{children:x(e.created_at)})]})]})]}),(0,Cl.jsxs)("div",{className:"text-right",children:[e.price&&(0,Cl.jsxs)("div",{className:"text-sm font-semibold text-gray-900 font-poppins",children:["\u20b9",e.price]}),(0,Cl.jsx)("div",{className:"text-xs text-gray-500 font-poppins",children:"Service"})]})]},e.listing_id))(e)):(0,Cl.jsxs)("div",{className:"p-8 text-center text-gray-500 font-poppins",children:[(0,Cl.jsx)($l,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,Cl.jsx)("p",{children:"No services uploaded yet"})]})})]}),"followers"===d&&(0,Cl.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,Cl.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Cl.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:["Followers (",o.followerCount,")"]})}),(0,Cl.jsx)("div",{className:"divide-y divide-gray-100",children:o.followers.length>0?o.followers.map(e=>(e=>(0,Cl.jsxs)("div",{className:"flex items-center gap-3 p-2 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{e.username?r("/profile/".concat(e.username)):r("/profile?user_id=".concat(e.user_id))},children:[(0,Cl.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6A00FF] to-purple-600 flex items-center justify-center border border-gray-200 flex-shrink-0",children:e.profile_image_url?(0,Cl.jsx)("img",{src:e.profile_image_url,alt:e.full_name||e.username,className:"w-full h-full rounded-full object-cover"}):(0,Cl.jsx)(io,{className:"w-5 h-5 text-white"})}),(0,Cl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Cl.jsx)("h3",{className:"font-semibold text-sm text-gray-900 font-poppins truncate",children:e.business_name||e.full_name||e.username||"User"}),e.username&&(0,Cl.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.username]})]})]},e.user_id))(e)):(0,Cl.jsxs)("div",{className:"p-8 text-center text-gray-500 font-poppins",children:[(0,Cl.jsx)(io,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,Cl.jsx)("p",{children:"No followers yet"})]})})]}),"following"===d&&(0,Cl.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,Cl.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Cl.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 font-poppins",children:["Following (",o.followingCount,")"]})}),(0,Cl.jsx)("div",{className:"divide-y divide-gray-100",children:o.following.length>0?o.following.map(e=>(e=>(0,Cl.jsxs)("div",{className:"flex items-center gap-3 p-2 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{e.username?r("/profile/".concat(e.username)):r("/profile?user_id=".concat(e.user_id))},children:[(0,Cl.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6A00FF] to-purple-600 flex items-center justify-center border border-gray-200 flex-shrink-0",children:e.profile_image_url?(0,Cl.jsx)("img",{src:e.profile_image_url,alt:e.full_name||e.username,className:"w-full h-full rounded-full object-cover"}):(0,Cl.jsx)(io,{className:"w-5 h-5 text-white"})}),(0,Cl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Cl.jsx)("h3",{className:"font-semibold text-sm text-gray-900 font-poppins truncate",children:e.business_name||e.full_name||e.username||"User"}),e.username&&(0,Cl.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.username]})]})]},e.user_id))(e)):(0,Cl.jsxs)("div",{className:"p-8 text-center text-gray-500 font-poppins",children:[(0,Cl.jsx)(mi,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,Cl.jsx)("p",{children:"Not following anyone yet"})]})})]})]})]})},uo=()=>{const[e]=Te(),t=e.get("user_id"),s=te(),[r,n]=(0,a.useState)([]),[l,i]=(0,a.useState)(!0);(0,a.useEffect)(()=>{t?o():(Pt.error("User ID required"),s("/"))},[t]);const o=async()=>{try{i(!0);const e=await aa.getFollowers(parseInt(t));e.ok&&n(e.followers||[])}catch(e){console.error("Error loading followers:",e),Pt.error("Failed to load followers")}finally{i(!1)}};return(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-4 sticky top-0 z-20",children:(0,Cl.jsxs)("div",{className:"flex items-center gap-4 max-w-4xl mx-auto",children:[(0,Cl.jsx)("button",{onClick:()=>s(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,Cl.jsx)(oi,{className:"w-5 h-5 text-gray-900"})}),(0,Cl.jsx)("h1",{className:"text-xl font-bold text-gray-900 font-poppins",children:"Followers"})]})}),(0,Cl.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:l?(0,Cl.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:"Loading followers..."}):r.length>0?(0,Cl.jsx)("div",{className:"space-y-1",children:r.map(e=>(0,Cl.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,Cl.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6A00FF] to-purple-600 flex items-center justify-center border border-gray-200 flex-shrink-0 cursor-pointer",onClick:()=>{e.username?s("/profile/".concat(e.username)):s("/profile?user_id=".concat(e.user_id))},children:e.profile_image_url?(0,Cl.jsx)("img",{src:e.profile_image_url,alt:e.full_name||e.username,className:"w-full h-full rounded-full object-cover"}):e.business_name?(0,Cl.jsx)("span",{className:"text-white text-sm font-poppins font-bold",children:e.business_name.charAt(0).toUpperCase()}):(0,Cl.jsx)(ti,{className:"w-5 h-5 text-white"})}),(0,Cl.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{e.username?s("/profile/".concat(e.username)):s("/profile?user_id=".concat(e.user_id))},children:[(0,Cl.jsx)("h3",{className:"font-semibold text-sm text-gray-900 font-poppins truncate",children:e.business_name||e.full_name||e.username||"User"}),e.username&&(0,Cl.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.username]}),e.provider_type&&!e.username&&(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins capitalize truncate",children:e.provider_type.toLowerCase()})]})]},e.user_id))}):(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)(ti,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Cl.jsx)("p",{className:"text-gray-500 font-poppins",children:"No followers yet"})]})})]})},mo=()=>{const[e]=Te(),t=e.get("user_id"),s=te(),{user:r}=El(),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(new Set);(0,a.useEffect)(()=>{t?u():(Pt.error("User ID required"),s("/"))},[t]);const u=async()=>{try{o(!0);const e=await aa.getFollowing(parseInt(t));e.ok&&l(e.following||[])}catch(e){console.error("Error loading following:",e),Pt.error("Failed to load following")}finally{o(!1)}},m=r&&t&&Number(t)===Number(r.user_id);return(0,Cl.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,Cl.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-4 sticky top-0 z-20",children:(0,Cl.jsxs)("div",{className:"flex items-center gap-4 max-w-4xl mx-auto",children:[(0,Cl.jsx)("button",{onClick:()=>s(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,Cl.jsx)(oi,{className:"w-5 h-5 text-gray-900"})}),(0,Cl.jsx)("h1",{className:"text-xl font-bold text-gray-900 font-poppins",children:"Following"})]})}),(0,Cl.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:i?(0,Cl.jsx)("div",{className:"text-center py-8 text-gray-500 text-sm font-poppins",children:"Loading following..."}):n.length>0?(0,Cl.jsx)("div",{className:"space-y-1",children:n.map(e=>(0,Cl.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,Cl.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#6A00FF] to-purple-600 flex items-center justify-center border border-gray-200 flex-shrink-0 cursor-pointer",onClick:()=>{e.username?s("/profile/".concat(e.username)):s("/profile?user_id=".concat(e.user_id))},children:e.profile_image_url?(0,Cl.jsx)("img",{src:e.profile_image_url,alt:e.full_name||e.username,className:"w-full h-full rounded-full object-cover"}):e.business_name?(0,Cl.jsx)("span",{className:"text-white text-sm font-poppins font-bold",children:e.business_name.charAt(0).toUpperCase()}):(0,Cl.jsx)(ti,{className:"w-5 h-5 text-white"})}),(0,Cl.jsxs)("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{e.username?s("/profile/".concat(e.username)):s("/profile?user_id=".concat(e.user_id))},children:[(0,Cl.jsx)("h3",{className:"font-semibold text-sm text-gray-900 font-poppins truncate",children:e.business_name||e.full_name||e.username||"User"}),e.username&&(0,Cl.jsxs)("p",{className:"text-xs text-gray-500 font-poppins truncate",children:["@",e.username]}),e.provider_type&&!e.username&&(0,Cl.jsx)("p",{className:"text-xs text-gray-500 font-poppins capitalize truncate",children:e.provider_type.toLowerCase()})]}),m&&(0,Cl.jsxs)("button",{onClick:s=>(async(e,s)=>{if(s&&s.stopPropagation(),r){if(t&&Number(t)===Number(r.user_id)){d(t=>new Set(t).add(e));try{await aa.unfollow(e),l(t=>t.filter(t=>t.user_id!==e)),Pt.success("Unfollowed")}catch(i){var n,a;console.error("Error unfollowing:",i),Pt.error((null===i||void 0===i||null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to unfollow")}finally{d(t=>{const s=new Set(t);return s.delete(e),s})}}}else Pt.error("Please log in to unfollow users")})(e.user_id,s),disabled:c.has(e.user_id),className:"px-2.5 py-1.5 text-xs font-poppins rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 transition-colors flex items-center gap-1.5 flex-shrink-0",children:[(0,Cl.jsx)(ui,{className:"w-3.5 h-3.5"}),(0,Cl.jsx)("span",{className:"hidden sm:inline",children:"Unfollow"})]})]},e.user_id))}):(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)(ti,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Cl.jsx)("p",{className:"text-gray-500 font-poppins",children:"Not following anyone yet"})]})})]})},po=()=>{const[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)("");(0,a.useEffect)(()=>{i()},[]);const i=async()=>{try{r(!0);const e=await ia();e.ok?t(e.data):l(e.message||"Failed to load dashboard data")}catch(e){l("Network error. Please try again.")}finally{r(!1)}},o=e=>{let{title:t,value:s,icon:r,color:n,subtitle:a,trend:l}=e;return(0,Cl.jsx)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 transform hover:scale-105 ".concat(n),children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("p",{className:"text-gray-600 text-sm font-semibold mb-2 uppercase tracking-wide",children:t}),(0,Cl.jsx)("p",{className:"text-4xl font-bold text-gray-900 mb-2",children:s}),a&&(0,Cl.jsx)("p",{className:"text-gray-500 text-sm leading-relaxed",children:a}),l&&(0,Cl.jsxs)("div",{className:"flex items-center mt-3",children:[(0,Cl.jsx)("span",{className:"text-sm font-semibold ".concat(l.positive?"text-green-600":"text-red-600"),children:l.value}),(0,Cl.jsx)("span",{className:"text-gray-500 text-sm ml-2",children:"vs last month"})]})]}),(0,Cl.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:r})]})})},c=e=>{var t;let{activity:s}=e;return(0,Cl.jsxs)("div",{className:"flex items-center space-x-4 p-5 hover:bg-gray-50 rounded-xl transition-all duration-200 border border-transparent hover:border-gray-100",children:[(0,Cl.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center text-white text-sm font-bold shadow-md",children:(null===(t=s.user_name)||void 0===t?void 0:t.charAt(0))||"U"}),(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("p",{className:"text-gray-900 font-semibold text-base",children:s.action}),(0,Cl.jsxs)("p",{className:"text-gray-500 text-sm mt-1",children:[s.user_name," \u2022 ",s.timestamp]})]}),(0,Cl.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat("user"===s.type?"bg-blue-100 text-blue-800":"listing"===s.type?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"),children:s.type})]})};if(s)return(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Dashboard"}),(0,Cl.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching your platform data..."})]})});if(n)return(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center max-w-md",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,Cl.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Cl.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Error Loading Dashboard"}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed",children:n}),(0,Cl.jsx)("button",{onClick:i,className:"bg-blue-600 text-white px-8 py-4 rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Try Again"})]})});const d=e||{total_users:0,users_by_type:{NORMAL:0,INFLUENCER:0,BRAND:0},pending_approvals:0,active_subscriptions:0,expired_subscriptions:0,total_listings:0,pending_listings:0,revenue:{total:0,subscriptions:0,uploads:0},recent_activities:[]};return(0,Cl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Cl.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Cl.jsx)("div",{className:"px-6 py-8",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Dashboard"}),(0,Cl.jsx)("p",{className:"text-gray-600 text-lg",children:"Welcome back! Here's what's happening with your platform."})]}),(0,Cl.jsx)("div",{className:"flex items-center space-x-4",children:(0,Cl.jsxs)("button",{onClick:i,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Cl.jsx)("span",{className:"font-semibold",children:"Refresh"})]})})]})})}),(0,Cl.jsxs)("div",{className:"px-6 py-8",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Cl.jsx)(o,{title:"Total Users",value:d.total_users.toLocaleString(),subtitle:"".concat(d.users_by_type.NORMAL," Normal, ").concat(d.users_by_type.INFLUENCER," Influencers, ").concat(d.users_by_type.BRAND," Brands"),icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),color:"bg-blue-50"}),(0,Cl.jsx)(o,{title:"Pending Approvals",value:d.pending_approvals,subtitle:"Influencers & Brands awaiting review",icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"bg-yellow-50"}),(0,Cl.jsx)(o,{title:"Active Subscriptions",value:d.active_subscriptions,subtitle:"".concat(d.expired_subscriptions," expired"),icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"bg-green-50"}),(0,Cl.jsx)(o,{title:"Total Listings",value:d.total_listings.toLocaleString(),subtitle:"".concat(d.pending_listings," under review"),icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),color:"bg-purple-50"})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[(0,Cl.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Revenue Overview"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Cl.jsxs)("div",{className:"text-center p-6 bg-green-50 rounded-2xl border border-green-100",children:[(0,Cl.jsxs)("p",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",d.revenue.total.toLocaleString()]}),(0,Cl.jsx)("p",{className:"text-green-700 text-sm font-semibold uppercase tracking-wide",children:"Total Revenue"})]}),(0,Cl.jsxs)("div",{className:"text-center p-6 bg-blue-50 rounded-2xl border border-blue-100",children:[(0,Cl.jsxs)("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",d.revenue.subscriptions.toLocaleString()]}),(0,Cl.jsx)("p",{className:"text-blue-700 text-sm font-semibold uppercase tracking-wide",children:"Subscriptions"})]}),(0,Cl.jsxs)("div",{className:"text-center p-6 bg-purple-50 rounded-2xl border border-purple-100",children:[(0,Cl.jsxs)("p",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",d.revenue.uploads.toLocaleString()]}),(0,Cl.jsx)("p",{className:"text-purple-700 text-sm font-semibold uppercase tracking-wide",children:"Upload Fees"})]})]})]}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Quick Actions"}),(0,Cl.jsxs)("div",{className:"space-y-4",children:[(0,Cl.jsx)("button",{className:"w-full bg-blue-600 text-white py-3 px-6 rounded-xl hover:bg-blue-700 transition-all duration-200 text-left font-semibold shadow-md hover:shadow-lg transform hover:scale-105",children:"Review Pending Approvals"}),(0,Cl.jsx)("button",{className:"w-full bg-green-600 text-white py-3 px-6 rounded-xl hover:bg-green-700 transition-all duration-200 text-left font-semibold shadow-md hover:shadow-lg transform hover:scale-105",children:"Manage Subscriptions"}),(0,Cl.jsx)("button",{className:"w-full bg-purple-600 text-white py-3 px-6 rounded-xl hover:bg-purple-700 transition-all duration-200 text-left font-semibold shadow-md hover:shadow-lg transform hover:scale-105",children:"View Analytics"}),(0,Cl.jsx)("button",{className:"w-full bg-yellow-600 text-white py-3 px-6 rounded-xl hover:bg-yellow-700 transition-all duration-200 text-left font-semibold shadow-md hover:shadow-lg transform hover:scale-105",children:"System Settings"})]})]})]}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Recent Activity"}),(0,Cl.jsx)("div",{className:"space-y-1",children:d.recent_activities&&d.recent_activities.length>0?d.recent_activities.map((e,t)=>(0,Cl.jsx)(c,{activity:e},t)):(0,Cl.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No recent activity to display"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Activity will appear here as users interact with the platform"})]})})]})]})]})},xo=()=>{const[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)("overview"),[c,d]=(0,a.useState)("30d");(0,a.useEffect)(()=>{u()},[c]);const u=async()=>{try{r(!0);const e=await oa(c);e.ok?t(e.data):l(e.message||"Failed to load reports data")}catch(e){l("Network error. Please try again.")}finally{r(!1)}},m=async()=>{try{r(!0);const e=await ca();e.ok?(console.log("Database test successful:",e.data),l(""),await u()):l("Database test failed: ".concat(e.message))}catch(e){l("Database test error: ".concat(e.message))}finally{r(!1)}},p=async()=>{try{r(!0);const e=await da();e.ok?(t(e.data),l("")):l("Simple reports failed: ".concat(e.message))}catch(e){l("Simple reports error: ".concat(e.message))}finally{r(!1)}},x=e=>{let{title:t,value:s,icon:r,color:n,subtitle:a,trend:l,format:i="number"}=e;return(0,Cl.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 ".concat(n),children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("p",{className:"text-gray-600 text-sm font-semibold mb-2 uppercase tracking-wide",children:t}),(0,Cl.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:"currency"===i?"$".concat(s.toLocaleString()):"percentage"===i?"".concat(s,"%"):s.toLocaleString()}),a&&(0,Cl.jsx)("p",{className:"text-gray-500 text-sm leading-relaxed",children:a}),l&&(0,Cl.jsxs)("div",{className:"flex items-center mt-3",children:[(0,Cl.jsxs)("span",{className:"text-sm font-semibold ".concat(l.positive?"text-green-600":"text-red-600"),children:[l.positive?"+":"",l.value,"%"]}),(0,Cl.jsx)("span",{className:"text-gray-500 text-sm ml-2",children:"vs last period"})]})]}),(0,Cl.jsx)("div",{className:"w-14 h-14 bg-blue-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:r})]})})},h=e=>{let{title:t,children:s,className:r=""}=e;return(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 ".concat(r),children:[(0,Cl.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:t}),s]})},f=e=>{let{id:t,label:s,active:r,onClick:n}=e;return(0,Cl.jsx)("button",{onClick:()=>n(t),className:"px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(r?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:s})},g=()=>(0,Cl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cl.jsx)("span",{className:"text-gray-600 font-medium",children:"Period:"}),(0,Cl.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Cl.jsx)("option",{value:"7d",children:"Last 7 days"}),(0,Cl.jsx)("option",{value:"30d",children:"Last 30 days"}),(0,Cl.jsx)("option",{value:"90d",children:"Last 90 days"}),(0,Cl.jsx)("option",{value:"1y",children:"Last year"})]})]});if(s)return(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Reports"}),(0,Cl.jsx)("p",{className:"text-lg text-gray-600",children:"Analyzing platform data..."})]})});if(n)return(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center max-w-md",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,Cl.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Cl.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Error Loading Reports"}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed",children:n}),(0,Cl.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Cl.jsx)("button",{onClick:u,className:"bg-blue-600 text-white px-8 py-4 rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Try Again"}),(0,Cl.jsx)("button",{onClick:m,className:"bg-green-600 text-white px-8 py-4 rounded-xl hover:bg-green-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Test Database"}),(0,Cl.jsx)("button",{onClick:p,className:"bg-purple-600 text-white px-8 py-4 rounded-xl hover:bg-purple-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Load Simple Data"})]})]})});const b=e||{user_growth:{daily:[],weekly:[],monthly:[]},active_influencers:0,inactive_influencers:0,brand_spending:{total:0,average:0,trends:[]},top_influencers:[],revenue_trends:{total:0,subscriptions:0,uploads:0,trends:[]},promotion_success:{total_promotions:0,successful:0,rate:0}},y=()=>(0,Cl.jsxs)("div",{className:"space-y-8",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Cl.jsx)(x,{title:"Total Revenue",value:b.revenue_trends.total,format:"currency",subtitle:"All time earnings",icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),color:"bg-green-50"}),(0,Cl.jsx)(x,{title:"Active Influencers",value:b.active_influencers,subtitle:"".concat(b.inactive_influencers," inactive"),icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),color:"bg-blue-50"}),(0,Cl.jsx)(x,{title:"Brand Spending",value:b.brand_spending.total,format:"currency",subtitle:"Avg: $".concat(b.brand_spending.average.toLocaleString()),icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"bg-purple-50"}),(0,Cl.jsx)(x,{title:"Success Rate",value:b.promotion_success.rate,format:"percentage",subtitle:"".concat(b.promotion_success.successful,"/").concat(b.promotion_success.total_promotions," promotions"),icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"bg-yellow-50"})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Cl.jsx)(h,{title:"User Growth Trend",children:(0,Cl.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-xl",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Cl.jsx)("p",{className:"text-gray-600 font-medium",children:"Growth Chart"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500",children:"Visual representation of user growth over time"})]})})}),(0,Cl.jsx)(h,{title:"Revenue Breakdown",children:(0,Cl.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-xl",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsxs)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),(0,Cl.jsx)("p",{className:"text-gray-600 font-medium",children:"Revenue Pie Chart"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500",children:"Breakdown by subscription and upload fees"})]})})})]})]});return(0,Cl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Cl.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Cl.jsx)("div",{className:"px-6 py-8",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Reports & Analytics"}),(0,Cl.jsx)("p",{className:"text-gray-600 text-lg",children:"Platform insights and growth patterns"})]}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Cl.jsx)(g,{}),(0,Cl.jsxs)("button",{onClick:u,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Cl.jsx)("span",{className:"font-semibold",children:"Refresh"})]})]})]})})}),(0,Cl.jsxs)("div",{className:"px-6 py-8",children:[(0,Cl.jsxs)("div",{className:"flex flex-wrap gap-4 mb-8",children:[(0,Cl.jsx)(f,{id:"overview",label:"Overview",active:"overview"===i,onClick:o}),(0,Cl.jsx)(f,{id:"users",label:"User Growth",active:"users"===i,onClick:o}),(0,Cl.jsx)(f,{id:"influencers",label:"Influencers",active:"influencers"===i,onClick:o}),(0,Cl.jsx)(f,{id:"brands",label:"Brand Spending",active:"brands"===i,onClick:o}),(0,Cl.jsx)(f,{id:"revenue",label:"Revenue",active:"revenue"===i,onClick:o}),(0,Cl.jsx)(f,{id:"promotions",label:"Promotions",active:"promotions"===i,onClick:o})]}),(()=>{switch(i){case"overview":default:return y();case"users":return(0,Cl.jsx)("div",{className:"space-y-8",children:(0,Cl.jsxs)(h,{title:"User Growth Analytics",className:"col-span-full",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Cl.jsxs)("div",{className:"text-center p-6 bg-blue-50 rounded-2xl",children:[(0,Cl.jsx)("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:b.user_growth.daily.reduce((e,t)=>e+t.count,0)}),(0,Cl.jsx)("p",{className:"text-blue-700 font-semibold",children:"Daily Growth"}),(0,Cl.jsx)("p",{className:"text-sm text-blue-600 mt-2",children:"Last 7 days"})]}),(0,Cl.jsxs)("div",{className:"text-center p-6 bg-green-50 rounded-2xl",children:[(0,Cl.jsx)("p",{className:"text-3xl font-bold text-green-600 mb-2",children:b.user_growth.weekly.reduce((e,t)=>e+t.count,0)}),(0,Cl.jsx)("p",{className:"text-green-700 font-semibold",children:"Weekly Growth"}),(0,Cl.jsx)("p",{className:"text-sm text-green-600 mt-2",children:"Last 4 weeks"})]}),(0,Cl.jsxs)("div",{className:"text-center p-6 bg-purple-50 rounded-2xl",children:[(0,Cl.jsx)("p",{className:"text-3xl font-bold text-purple-600 mb-2",children:b.user_growth.monthly.reduce((e,t)=>e+t.count,0)}),(0,Cl.jsx)("p",{className:"text-purple-700 font-semibold",children:"Monthly Growth"}),(0,Cl.jsx)("p",{className:"text-sm text-purple-600 mt-2",children:"Last 12 months"})]})]}),(0,Cl.jsx)("div",{className:"h-80 bg-gray-50 rounded-xl flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-blue-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-10 h-10 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Cl.jsx)("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:"User Growth Chart"}),(0,Cl.jsx)("p",{className:"text-gray-500",children:"Interactive chart showing user registration trends"})]})})]})});case"influencers":return(0,Cl.jsx)("div",{className:"space-y-8",children:(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Cl.jsx)(h,{title:"Influencer Activity Status",children:(0,Cl.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-xl",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-32 h-32 mx-auto mb-4 relative",children:(0,Cl.jsx)("div",{className:"w-32 h-32 rounded-full bg-blue-200 flex items-center justify-center",children:(0,Cl.jsx)("div",{className:"w-24 h-24 rounded-full bg-blue-600 flex items-center justify-center",children:(0,Cl.jsxs)("span",{className:"text-white font-bold text-lg",children:[Math.round(b.active_influencers/(b.active_influencers+b.inactive_influencers)*100),"%"]})})})}),(0,Cl.jsx)("p",{className:"text-gray-600 font-medium",children:"Active Influencers"}),(0,Cl.jsxs)("p",{className:"text-sm text-gray-500",children:[b.active_influencers," out of ",b.active_influencers+b.inactive_influencers]})]})})}),(0,Cl.jsx)(h,{title:"Top Performing Influencers",children:(0,Cl.jsx)("div",{className:"space-y-4",children:b.top_influencers.slice(0,5).map((e,t)=>(0,Cl.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,Cl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cl.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:t+1}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,Cl.jsxs)("p",{className:"text-sm text-gray-500",children:[e.listing_count," listings"]})]})]}),(0,Cl.jsxs)("div",{className:"text-right",children:[(0,Cl.jsxs)("p",{className:"font-bold text-green-600",children:["$",e.revenue.toLocaleString()]}),(0,Cl.jsxs)("p",{className:"text-sm text-gray-500",children:[e.engagement_rate,"% engagement"]})]})]},t))})})]})});case"brands":return(0,Cl.jsx)("div",{className:"space-y-8",children:(0,Cl.jsxs)(h,{title:"Brand Spending Analysis",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Cl.jsxs)("div",{className:"text-center p-6 bg-purple-50 rounded-2xl",children:[(0,Cl.jsxs)("p",{className:"text-3xl font-bold text-purple-600 mb-2",children:["$",b.brand_spending.total.toLocaleString()]}),(0,Cl.jsx)("p",{className:"text-purple-700 font-semibold",children:"Total Spending"}),(0,Cl.jsx)("p",{className:"text-sm text-purple-600 mt-2",children:"All time"})]}),(0,Cl.jsxs)("div",{className:"text-center p-6 bg-blue-50 rounded-2xl",children:[(0,Cl.jsxs)("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:["$",b.brand_spending.average.toLocaleString()]}),(0,Cl.jsx)("p",{className:"text-blue-700 font-semibold",children:"Average per Brand"}),(0,Cl.jsx)("p",{className:"text-sm text-blue-600 mt-2",children:"Monthly average"})]}),(0,Cl.jsxs)("div",{className:"text-center p-6 bg-green-50 rounded-2xl",children:[(0,Cl.jsx)("p",{className:"text-3xl font-bold text-green-600 mb-2",children:"+12%"}),(0,Cl.jsx)("p",{className:"text-green-700 font-semibold",children:"Growth Rate"}),(0,Cl.jsx)("p",{className:"text-sm text-green-600 mt-2",children:"vs last period"})]})]}),(0,Cl.jsx)("div",{className:"h-80 bg-gray-50 rounded-xl flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-purple-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-10 h-10 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Cl.jsx)("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Brand Spending Trends"}),(0,Cl.jsx)("p",{className:"text-gray-500",children:"Chart showing brand investment patterns over time"})]})})]})});case"revenue":return(0,Cl.jsx)("div",{className:"space-y-8",children:(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Cl.jsx)(h,{title:"Revenue Trends",children:(0,Cl.jsxs)("div",{className:"space-y-6",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{className:"p-4 bg-green-50 rounded-xl",children:[(0,Cl.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",b.revenue_trends.total.toLocaleString()]}),(0,Cl.jsx)("p",{className:"text-green-700 font-semibold text-sm",children:"Total Revenue"})]}),(0,Cl.jsxs)("div",{className:"p-4 bg-blue-50 rounded-xl",children:[(0,Cl.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:["$",b.revenue_trends.subscriptions.toLocaleString()]}),(0,Cl.jsx)("p",{className:"text-blue-700 font-semibold text-sm",children:"Subscriptions"})]})]}),(0,Cl.jsx)("div",{className:"h-48 bg-gray-50 rounded-xl flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Cl.jsx)("p",{className:"text-gray-600 font-medium",children:"Revenue Chart"})]})})]})}),(0,Cl.jsx)(h,{title:"Revenue Sources",children:(0,Cl.jsx)("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-xl",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-yellow-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsxs)("svg",{className:"w-10 h-10 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),(0,Cl.jsx)("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Revenue Distribution"}),(0,Cl.jsx)("p",{className:"text-gray-500",children:"Breakdown by subscription and upload fees"})]})})})]})});case"promotions":return(0,Cl.jsx)("div",{className:"space-y-8",children:(0,Cl.jsxs)(h,{title:"Promotion Success Analysis",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Cl.jsxs)("div",{className:"text-center p-6 bg-green-50 rounded-2xl",children:[(0,Cl.jsxs)("p",{className:"text-3xl font-bold text-green-600 mb-2",children:[b.promotion_success.rate,"%"]}),(0,Cl.jsx)("p",{className:"text-green-700 font-semibold",children:"Success Rate"}),(0,Cl.jsx)("p",{className:"text-sm text-green-600 mt-2",children:"Overall performance"})]}),(0,Cl.jsxs)("div",{className:"text-center p-6 bg-blue-50 rounded-2xl",children:[(0,Cl.jsx)("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:b.promotion_success.successful}),(0,Cl.jsx)("p",{className:"text-blue-700 font-semibold",children:"Successful"}),(0,Cl.jsx)("p",{className:"text-sm text-blue-600 mt-2",children:"Promotions completed"})]}),(0,Cl.jsxs)("div",{className:"text-center p-6 bg-red-50 rounded-2xl",children:[(0,Cl.jsx)("p",{className:"text-3xl font-bold text-red-600 mb-2",children:b.promotion_success.total_promotions-b.promotion_success.successful}),(0,Cl.jsx)("p",{className:"text-red-700 font-semibold",children:"Failed"}),(0,Cl.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"Promotions unsuccessful"})]})]}),(0,Cl.jsx)("div",{className:"h-80 bg-gray-50 rounded-xl flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-yellow-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-10 h-10 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Cl.jsx)("p",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Promotion Performance"}),(0,Cl.jsx)("p",{className:"text-gray-500",children:"Success rates and performance metrics over time"})]})})]})})}})()]})]})},ho=a.memo(e=>{let{label:t,type:s="text",value:r,onChange:n,placeholder:l,required:i=!1}=e;const o=(0,a.useCallback)(e=>{n(e.target.value)},[n]);return(0,Cl.jsxs)("div",{className:"space-y-2",children:[(0,Cl.jsxs)("label",{className:"block text-sm font-semibold text-gray-700",children:[t," ",i&&(0,Cl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Cl.jsx)("input",{type:s,value:r||"",onChange:o,placeholder:l,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900"})]})}),fo=a.memo(e=>{let{label:t,value:s,onChange:r,placeholder:n,rows:l=4}=e;const i=(0,a.useCallback)(e=>{r(e.target.value)},[r]);return(0,Cl.jsxs)("div",{className:"space-y-2",children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:t}),(0,Cl.jsx)("textarea",{value:s||"",onChange:i,placeholder:n,rows:l,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-none text-gray-900"})]})}),go=a.memo(e=>{let{label:t,value:s,onChange:r,options:n,required:l=!1}=e;const i=(0,a.useCallback)(e=>{r(e.target.value)},[r]);return(0,Cl.jsxs)("div",{className:"space-y-2",children:[(0,Cl.jsxs)("label",{className:"block text-sm font-semibold text-gray-700",children:[t," ",l&&(0,Cl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Cl.jsx)("select",{value:s||"",onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900",children:n.map(e=>(0,Cl.jsx)("option",{value:e.value,className:"text-gray-900",children:e.label},e.value))})]})}),bo=a.memo(e=>{let{onClick:t,disabled:s,loading:r=!1,children:n}=e;return(0,Cl.jsx)("button",{onClick:t,disabled:s||r,className:"px-8 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(s||r?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-lg hover:shadow-xl transform hover:scale-105"),children:r?"Saving...":n})}),yo=a.memo(e=>{let{id:t,label:s,active:r,onClick:n}=e;return(0,Cl.jsx)("button",{onClick:()=>n(t),className:"px-6 py-3 rounded-xl font-semibold transition-all duration-200 ".concat(r?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"),children:s})}),vo={category_name:"",slug:"",description:"",image_url:"",parent_category_id:"",display_order:0,is_active:!0},jo=a.memo(e=>{let{data:t,onSave:s,saving:r,onChange:n}=e;return(0,Cl.jsx)("div",{className:"space-y-8",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"General Platform Settings"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Cl.jsx)(ho,{label:"Platform Name",value:t.platform_name,onChange:e=>n("platform_name",e),placeholder:"Enter platform name",required:!0}),(0,Cl.jsx)(ho,{label:"Contact Email",type:"email",value:t.contact_email,onChange:e=>n("contact_email",e),placeholder:"admin@example.com",required:!0}),(0,Cl.jsx)(ho,{label:"Support Phone",value:t.support_phone,onChange:e=>n("support_phone",e),placeholder:"+1-234-567-8900"}),(0,Cl.jsx)(go,{label:"Timezone",value:t.timezone,onChange:e=>n("timezone",e),options:[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time"},{value:"America/Chicago",label:"Central Time"},{value:"America/Denver",label:"Mountain Time"},{value:"America/Los_Angeles",label:"Pacific Time"},{value:"Europe/London",label:"London"},{value:"Asia/Tokyo",label:"Tokyo"},{value:"Asia/Kolkata",label:"India Standard Time"}]}),(0,Cl.jsx)(go,{label:"Currency",value:t.currency,onChange:e=>n("currency",e),options:[{value:"USD",label:"US Dollar ($)"},{value:"EUR",label:"Euro (\u20ac)"},{value:"GBP",label:"British Pound (\xa3)"},{value:"INR",label:"Indian Rupee (\u20b9)"},{value:"JPY",label:"Japanese Yen (\xa5)"}]}),(0,Cl.jsx)(go,{label:"Default Language",value:t.language,onChange:e=>n("language",e),options:[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"hi",label:"Hindi"},{value:"ja",label:"Japanese"}]})]}),(0,Cl.jsx)(fo,{label:"Platform Description",value:t.platform_description,onChange:e=>n("platform_description",e),placeholder:"Brief description of your platform",rows:3}),(0,Cl.jsx)("div",{className:"mt-6",children:(0,Cl.jsx)(bo,{onClick:()=>s("general",t),loading:r,children:"Save General Settings"})})]})})}),No=a.memo(e=>{let{data:t,onSave:s,saving:r,onChange:n}=e;return(0,Cl.jsx)("div",{className:"space-y-8",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Platform Branding"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Cl.jsx)(ho,{label:"Logo URL",value:t.logo_url,onChange:e=>n("logo_url",e),placeholder:"https://example.com/logo.png"}),(0,Cl.jsx)(ho,{label:"Favicon URL",value:t.favicon_url,onChange:e=>n("favicon_url",e),placeholder:"https://example.com/favicon.ico"}),(0,Cl.jsxs)("div",{className:"space-y-2",children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Primary Color"}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cl.jsx)("input",{type:"color",value:t.primary_color,onChange:e=>n("primary_color",e.target.value),className:"w-12 h-12 border border-gray-300 rounded-lg cursor-pointer"}),(0,Cl.jsx)("input",{type:"text",value:t.primary_color,onChange:e=>n("primary_color",e.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"#2563eb"})]})]}),(0,Cl.jsxs)("div",{className:"space-y-2",children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Secondary Color"}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cl.jsx)("input",{type:"color",value:t.secondary_color,onChange:e=>n("secondary_color",e.target.value),className:"w-12 h-12 border border-gray-300 rounded-lg cursor-pointer"}),(0,Cl.jsx)("input",{type:"text",value:t.secondary_color,onChange:e=>n("secondary_color",e.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"#7c3aed"})]})]}),(0,Cl.jsxs)("div",{className:"space-y-2",children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Accent Color"}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cl.jsx)("input",{type:"color",value:t.accent_color,onChange:e=>n("accent_color",e.target.value),className:"w-12 h-12 border border-gray-300 rounded-lg cursor-pointer"}),(0,Cl.jsx)("input",{type:"text",value:t.accent_color,onChange:e=>n("accent_color",e.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"#f59e0b"})]})]})]}),(0,Cl.jsx)(fo,{label:"Custom CSS",value:t.custom_css,onChange:e=>n("custom_css",e),placeholder:"/* Custom CSS styles */",rows:6}),(0,Cl.jsx)("div",{className:"mt-6",children:(0,Cl.jsx)(bo,{onClick:()=>s("branding",t),loading:r,children:"Save Branding Settings"})})]})})}),wo=a.memo(e=>{let{data:t,onSave:s,saving:r,onChange:n}=e;return(0,Cl.jsx)("div",{className:"space-y-8",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Notification Settings"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-xl",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"font-semibold text-gray-900",children:"Email Notifications"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-600",children:"Send email notifications"})]}),(0,Cl.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Cl.jsx)("input",{type:"checkbox",checked:t.email_enabled,onChange:e=>n("email_enabled",e.target.checked),className:"sr-only peer"}),(0,Cl.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-xl",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"font-semibold text-gray-900",children:"SMS Notifications"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-600",children:"Send SMS notifications"})]}),(0,Cl.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Cl.jsx)("input",{type:"checkbox",checked:t.sms_enabled,onChange:e=>n("sms_enabled",e.target.checked),className:"sr-only peer"}),(0,Cl.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-xl",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"font-semibold text-gray-900",children:"Push Notifications"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-600",children:"Send push notifications"})]}),(0,Cl.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Cl.jsx)("input",{type:"checkbox",checked:t.push_enabled,onChange:e=>n("push_enabled",e.target.checked),className:"sr-only peer"}),(0,Cl.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),(0,Cl.jsxs)("div",{className:"space-y-6",children:[(0,Cl.jsx)(fo,{label:"Welcome Email Template",value:t.welcome_email_template,onChange:e=>n("welcome_email_template",e),placeholder:"Welcome to GetNayi! Start exploring amazing products and services.",rows:4}),(0,Cl.jsx)(fo,{label:"Payment Confirmation Template",value:t.payment_confirmation_template,onChange:e=>n("payment_confirmation_template",e),placeholder:"Your payment has been confirmed. Thank you for your subscription!",rows:4}),(0,Cl.jsx)(fo,{label:"Listing Approval Template",value:t.listing_approval_template,onChange:e=>n("listing_approval_template",e),placeholder:"Great news! Your listing has been approved and is now live on the platform.",rows:4})]}),(0,Cl.jsx)("div",{className:"mt-6",children:(0,Cl.jsx)(bo,{onClick:()=>s("notifications",t),loading:r,children:"Save Notification Settings"})})]})})}),ko=a.memo(e=>{var t,s,r,n,a,l,i;let{data:o,onSave:c,saving:d,onChange:u,onCreateAdmin:m,onEditRole:p,onDeleteRole:x,onShowAddRoleModal:h}=e;return(0,Cl.jsxs)("div",{className:"space-y-8",children:[(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Admin Roles & Permissions"}),(0,Cl.jsxs)("div",{className:"space-y-6",children:[o.admin_roles.map(e=>(0,Cl.jsxs)("div",{className:"border border-gray-200 rounded-xl p-6",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Cl.jsxs)("div",{className:"flex space-x-2",children:[(0,Cl.jsx)("button",{onClick:()=>p(e),className:"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"Edit"}),"Super Admin"!==e.name&&(0,Cl.jsx)("button",{onClick:()=>x(e.id),className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Delete"})]})]}),(0,Cl.jsx)("div",{className:"flex flex-wrap gap-2",children:e.permissions.map((e,t)=>(0,Cl.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:e},t))})]},e.id)),(0,Cl.jsx)("button",{onClick:h,className:"w-full py-4 border-2 border-dashed border-gray-300 rounded-xl text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors",children:"+ Add New Role"})]})]}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create New Admin"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Cl.jsxs)("div",{className:"space-y-2",children:[(0,Cl.jsxs)("label",{className:"block text-sm font-semibold text-gray-700",children:["Mobile Number ",(0,Cl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Cl.jsx)("input",{type:"text",value:(null===(t=o.newAdmin)||void 0===t?void 0:t.mobile)||"",onChange:e=>u("newAdmin","mobile",e.target.value),placeholder:"8571991890",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900"})]}),(0,Cl.jsxs)("div",{className:"space-y-2",children:[(0,Cl.jsxs)("label",{className:"block text-sm font-semibold text-gray-700",children:["Full Name ",(0,Cl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Cl.jsx)("input",{type:"text",value:(null===(s=o.newAdmin)||void 0===s?void 0:s.full_name)||"",onChange:e=>u("newAdmin","full_name",e.target.value),placeholder:"Admin Name",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900"})]}),(0,Cl.jsxs)("div",{className:"space-y-2",children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Email (Optional)"}),(0,Cl.jsx)("input",{type:"email",value:(null===(r=o.newAdmin)||void 0===r?void 0:r.email)||"",onChange:e=>u("newAdmin","email",e.target.value),placeholder:"admin@example.com",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900"})]}),(0,Cl.jsxs)("div",{className:"space-y-2",children:[(0,Cl.jsxs)("label",{className:"block text-sm font-semibold text-gray-700",children:["Admin Role ",(0,Cl.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Cl.jsxs)("select",{value:(null===(n=o.newAdmin)||void 0===n?void 0:n.role_id)||"",onChange:e=>u("newAdmin","role_id",parseInt(e.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-gray-900",children:[(0,Cl.jsx)("option",{value:"",children:"Select a role"}),(o.admin_roles||[]).map(e=>(0,Cl.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Cl.jsx)("div",{className:"mt-6",children:(0,Cl.jsx)("button",{onClick:m,disabled:d||!(null!==(a=o.newAdmin)&&void 0!==a&&a.mobile)||!(null!==(l=o.newAdmin)&&void 0!==l&&l.full_name)||!(null!==(i=o.newAdmin)&&void 0!==i&&i.role_id),className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating...":"Create Admin"})})]}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"User Permissions"}),(0,Cl.jsxs)("div",{className:"space-y-4",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"font-semibold text-gray-900",children:"Upload Videos"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-600",children:"Allow users to upload videos"})]}),(0,Cl.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Cl.jsx)("input",{type:"checkbox",checked:o.user_permissions.can_upload_videos,onChange:e=>u("user_permissions","can_upload_videos",e.target.checked),className:"sr-only peer"}),(0,Cl.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"font-semibold text-gray-900",children:"Create Listings"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-600",children:"Allow users to create listings"})]}),(0,Cl.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Cl.jsx)("input",{type:"checkbox",checked:o.user_permissions.can_create_listings,onChange:e=>u("user_permissions","can_create_listings",e.target.checked),className:"sr-only peer"}),(0,Cl.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"font-semibold text-gray-900",children:"Contact Support"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-600",children:"Allow users to contact support"})]}),(0,Cl.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Cl.jsx)("input",{type:"checkbox",checked:o.user_permissions.can_contact_support,onChange:e=>u("user_permissions","can_contact_support",e.target.checked),className:"sr-only peer"}),(0,Cl.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"font-semibold text-gray-900",children:"View Analytics"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-600",children:"Allow users to view analytics"})]}),(0,Cl.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Cl.jsx)("input",{type:"checkbox",checked:o.user_permissions.can_view_analytics,onChange:e=>u("user_permissions","can_view_analytics",e.target.checked),className:"sr-only peer"}),(0,Cl.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),(0,Cl.jsx)("div",{className:"mt-6",children:(0,Cl.jsx)(bo,{onClick:()=>c("permissions",o),loading:d,children:"Save Permission Settings"})})]})]})}),_o=a.memo(e=>{let{show:t,editingRole:s,newRole:r,onClose:n,onSave:a,saving:l,onChange:i}=e;return t?(0,Cl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:s?"Edit Role":"Add New Role"}),(0,Cl.jsxs)("div",{className:"space-y-6",children:[(0,Cl.jsx)(ho,{label:"Role Name",value:r.name,onChange:e=>i("name",e),placeholder:"Role Name",required:!0}),(0,Cl.jsxs)("div",{className:"space-y-3",children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Permissions"}),(0,Cl.jsx)("div",{className:"grid grid-cols-2 gap-3",children:["all","moderate_content","view_reports","manage_listings","view_users","view_support","respond_tickets","manage_settings","manage_roles","view_analytics","manage_payments","manage_subscriptions"].map(e=>(0,Cl.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cl.jsx)("input",{type:"checkbox",id:e,checked:r.permissions.includes(e),onChange:t=>{t.target.checked?i("permissions",[...r.permissions,e]):i("permissions",r.permissions.filter(t=>t!==e))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Cl.jsx)("label",{htmlFor:e,className:"text-sm text-gray-700",children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())})]},e))})]})]}),(0,Cl.jsxs)("div",{className:"flex justify-end space-x-4 mt-8",children:[(0,Cl.jsx)("button",{onClick:n,className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Cl.jsx)(bo,{onClick:a,disabled:!r.name||0===r.permissions.length,loading:l,children:s?"Update Role":"Create Role"})]})]})}):null}),Co=a.memo(e=>{let{state:t,onFieldChange:s,onSubmit:r,onEdit:n,onCancelEdit:l,refreshCategories:i}=e;const{categories:o,form:c,loading:d,saving:u,editingCategoryId:m}=t,p=(0,a.useMemo)(()=>[{value:"",label:"None"},...o.map(e=>({value:e.category_id,label:e.category_name}))],[o]);return(0,Cl.jsxs)("div",{className:"space-y-8",children:[(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Category Management"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add new categories or update existing ones"})]}),(0,Cl.jsx)("button",{onClick:i,className:"px-4 py-2 text-sm font-semibold text-blue-600 border border-blue-100 rounded-xl hover:bg-blue-50 transition-colors",disabled:d,children:d?"Refreshing...":"Refresh"})]}),t.error&&(0,Cl.jsx)("div",{className:"mb-6 p-3 rounded-xl bg-red-50 text-sm text-red-600 border border-red-100",children:t.error}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Cl.jsxs)("div",{className:"lg:col-span-1 space-y-4",children:[(0,Cl.jsx)("div",{className:"p-4 border border-gray-200 rounded-xl bg-gray-50",children:(0,Cl.jsx)("p",{className:"text-sm text-gray-600",children:m?"Updating an existing category. Make changes and click save.":"Fill out the form to create a new category."})}),(0,Cl.jsxs)("div",{className:"space-y-4",children:[(0,Cl.jsx)(ho,{label:"Category Name",value:c.category_name,onChange:e=>s("category_name",e),required:!0}),(0,Cl.jsx)(ho,{label:"Slug",value:c.slug,onChange:e=>s("slug",e.toLowerCase().replace(/\s+/g,"-")),required:!0}),(0,Cl.jsx)(fo,{label:"Description",value:c.description,onChange:e=>s("description",e),rows:3})]})]}),(0,Cl.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Cl.jsx)(ho,{label:"Image URL",value:c.image_url,onChange:e=>s("image_url",e),placeholder:"https://example.com/category.jpg"}),(0,Cl.jsxs)("div",{className:"space-y-2",children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Parent Category"}),(0,Cl.jsx)("select",{value:c.parent_category_id||"",onChange:e=>s("parent_category_id",e.target.value||""),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:p.map(e=>(0,Cl.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Cl.jsx)(ho,{label:"Display Order",type:"number",value:c.display_order,onChange:e=>s("display_order",Number(e))}),(0,Cl.jsxs)("div",{className:"space-y-2",children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Status"}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cl.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,Cl.jsx)("input",{type:"checkbox",checked:c.is_active,onChange:e=>s("is_active",e.target.checked),className:"sr-only peer"}),(0,Cl.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]}),(0,Cl.jsx)("span",{className:"text-sm text-gray-600",children:c.is_active?"Active":"Inactive"})]})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Cl.jsx)(bo,{onClick:r,disabled:!c.category_name||!c.slug,loading:u,children:m?"Update Category":"Add Category"}),m&&(0,Cl.jsx)("button",{onClick:l,className:"px-4 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})]}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,Cl.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"Existing Categories"}),(0,Cl.jsxs)("div",{className:"text-sm text-gray-500",children:[o.length," categories"]})]}),(0,Cl.jsx)("div",{className:"divide-y divide-gray-100",children:0===o.length?(0,Cl.jsx)("div",{className:"text-center py-10 text-gray-500 text-sm",children:"No categories found. Create one using the form above."}):o.map(e=>(0,Cl.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[(0,Cl.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Cl.jsxs)("p",{className:"text-sm font-semibold text-gray-900",children:[e.category_name,!e.is_active&&(0,Cl.jsx)("span",{className:"ml-2 text-xs font-semibold text-red-500",children:"Inactive"})]}),(0,Cl.jsxs)("p",{className:"text-xs text-gray-500",children:["Slug: ",e.slug," \u2022 Display Order: ",e.display_order]})]}),(0,Cl.jsx)("button",{onClick:()=>n(e),className:"ml-4 text-sm font-semibold text-blue-600 hover:text-blue-800",children:"Edit"})]},e.category_id))})]})]})}),So=()=>{const[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)("general"),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(""),[p,x]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null),[g,b]=(0,a.useState)({name:"",permissions:[]}),[y,v]=(0,a.useState)({categories:[],loading:!1,error:null,hasFetched:!1,form:Ue({},vo),editingCategoryId:null,saving:!1}),j=(0,a.useMemo)(()=>({general:{platform_name:"GetNayi",platform_description:"Social Commerce Platform",contact_email:"admin@getnayi.com",support_phone:"+1-234-567-8900",timezone:"UTC",currency:"USD",language:"en"},branding:{logo_url:"",favicon_url:"",primary_color:"#2563eb",secondary_color:"#7c3aed",accent_color:"#f59e0b",custom_css:""},notifications:{email_enabled:!0,sms_enabled:!1,push_enabled:!0,welcome_email_template:"Welcome to GetNayi!",payment_confirmation_template:"Payment confirmed",listing_approval_template:"Your listing has been approved"},permissions:{admin_roles:[{id:1,name:"Super Admin",permissions:["all","dashboard","reports","settings","user_management","influencer_management","brand_management","video_management","subscription_management","promotion_management","payment_management","notification_management","cms_management"],super_admin_mobile:"8571991890"},{id:2,name:"Content Moderator",permissions:["dashboard","reports","video_management","promotion_management","notification_management","moderate_content","view_reports","manage_listings"]},{id:3,name:"Support Agent",permissions:["dashboard","user_management","notification_management","payment_management","view_users","view_support","respond_tickets"]}],user_permissions:{can_upload_videos:!0,can_create_listings:!0,can_contact_support:!0,can_view_analytics:!1},newAdmin:{mobile:"",full_name:"",email:"",role_id:""}}}),[]),N=(0,a.useMemo)(()=>{var t,s,r,n,a,l,i,o,c,d;const u=e||j;return{general:Ue({},u.general||j.general),branding:Ue({},u.branding||j.branding),notifications:Ue({},u.notifications||j.notifications),permissions:{admin_roles:(null===(t=u.permissions)||void 0===t?void 0:t.admin_roles)||j.permissions.admin_roles||[],user_permissions:Ue({},(null===(s=u.permissions)||void 0===s?void 0:s.user_permissions)||j.permissions.user_permissions||{}),newAdmin:{mobile:(null===(r=u.permissions)||void 0===r||null===(n=r.newAdmin)||void 0===n?void 0:n.mobile)||"",full_name:(null===(a=u.permissions)||void 0===a||null===(l=a.newAdmin)||void 0===l?void 0:l.full_name)||"",email:(null===(i=u.permissions)||void 0===i||null===(o=i.newAdmin)||void 0===o?void 0:o.email)||"",role_id:(null===(c=u.permissions)||void 0===c||null===(d=c.newAdmin)||void 0===d?void 0:d.role_id)||""}}}},[e,j]);(0,a.useEffect)(()=>{w()},[]);const w=async()=>{try{r(!0);const e=await ua();e.ok?t(e.data):l(e.message||"Failed to load settings data")}catch(e){l("Network error. Please try again.")}finally{r(!1)}},k=async(e,t)=>{try{d(!0),m("");const s=await ma(e,t);s.ok?(m("Settings saved successfully!"),setTimeout(()=>m(""),3e3)):l(s.message||"Failed to save settings")}catch(s){l("Network error. Please try again.")}finally{d(!1)}},_=async()=>{try{var e;d(!0),m("");const s=await pa((null===(e=N.permissions)||void 0===e?void 0:e.newAdmin)||{});s.ok?(m("Admin created successfully!"),setTimeout(()=>m(""),3e3),t(e=>Ue(Ue({},e),{},{permissions:Ue(Ue({},e.permissions),{},{newAdmin:{mobile:"",full_name:"",email:"",role_id:""}})}))):l(s.message||"Failed to create admin")}catch(s){s.response&&401===s.response.status?l("Authentication required. Please log in again."):s.response&&403===s.response.status?l("Admin access required. You do not have permission to create admins."):s.response&&s.response.data&&s.response.data.message?l(s.response.data.message):l("Network error. Please try again.")}finally{d(!1)}},C=e=>{f(e),b({name:e.name,permissions:[...e.permissions]}),x(!0)},S=async e=>{if(window.confirm("Are you sure you want to delete this role?"))try{d(!0);const t=await fa(e);t.ok?(m("Role deleted successfully!"),setTimeout(()=>m(""),3e3),w()):l(t.message||"Failed to delete role")}catch(t){l("Network error. Please try again.")}finally{d(!1)}},E=(0,a.useCallback)((e,s,r)=>{t(t=>{const n=t||j;var a,l;return Ue(Ue({},n),{},"newAdmin"===e?{permissions:Ue(Ue({},n.permissions||{}),{},{newAdmin:Ue(Ue({},(null===(a=n.permissions)||void 0===a?void 0:a.newAdmin)||{}),{},{[s]:r})})}:"user_permissions"===e?{permissions:Ue(Ue({},n.permissions||{}),{},{user_permissions:Ue(Ue({},(null===(l=n.permissions)||void 0===l?void 0:l.user_permissions)||{}),{},{[s]:r})})}:{[e]:Ue(Ue({},n[e]||{}),{},{[s]:r})})})},[j]),F=(0,a.useCallback)((e,t)=>{b(s=>Ue(Ue({},s),{},{[e]:t}))},[]),L=(0,a.useCallback)(async()=>{v(e=>Ue(Ue({},e),{},{loading:!0,error:null}));try{var e;const t=await Rn(),s=(null===t||void 0===t?void 0:t.categories)||(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.categories)||(null===t||void 0===t?void 0:t.data)||[];v(e=>Ue(Ue({},e),{},{categories:Array.isArray(s)?s:[],loading:!1,error:null,hasFetched:!0}))}catch(t){v(e=>Ue(Ue({},e),{},{loading:!1,error:"Failed to load categories",hasFetched:!0}))}},[]),P=(0,a.useCallback)((e,t)=>{v(s=>Ue(Ue({},s),{},{form:Ue(Ue({},s.form),{},{[e]:t})}))},[]),A=(0,a.useCallback)(()=>{v(e=>Ue(Ue({},e),{},{form:Ue({},vo),editingCategoryId:null,saving:!1}))},[]),R=(0,a.useCallback)(e=>{v(t=>{var s,r;return Ue(Ue({},t),{},{editingCategoryId:e.category_id,form:{category_name:e.category_name||"",slug:e.slug||"",description:e.description||"",image_url:e.image_url||"",parent_category_id:null!==(s=e.parent_category_id)&&void 0!==s?s:"",display_order:null!==(r=e.display_order)&&void 0!==r?r:0,is_active:Boolean(e.is_active)}})})},[]),T=(0,a.useCallback)(async()=>{v(e=>Ue(Ue({},e),{},{saving:!0}));const e=y.form,t={category_name:(e.category_name||"").trim(),slug:(e.slug||"").trim(),description:e.description||null,image_url:e.image_url||null,parent_category_id:e.parent_category_id?Number(e.parent_category_id):null,display_order:Number(e.display_order)||0,is_active:Boolean(e.is_active)};if(!t.category_name||!t.slug)return Pt.error("Category name and slug are required"),void v(e=>Ue(Ue({},e),{},{saving:!1}));try{y.editingCategoryId?(await Dn(y.editingCategoryId,t),Pt.success("Category updated")):(await Tn(t),Pt.success("Category created")),await L(),A()}catch(n){var s,r;const e=(null===n||void 0===n||null===(s=n.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)||"Failed to save category";Pt.error(e)}finally{v(e=>Ue(Ue({},e),{},{saving:!1}))}},[y.form,y.editingCategoryId,L,A]);if((0,a.useEffect)(()=>{"categories"!==i||y.loading||y.hasFetched||L()},[i,y.loading,y.hasFetched,L]),s)return(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Settings"}),(0,Cl.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching configuration data..."})]})});if(n)return(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center max-w-md",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,Cl.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Cl.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Error Loading Settings"}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-8 text-lg leading-relaxed",children:n}),(0,Cl.jsx)("button",{onClick:w,className:"bg-blue-600 text-white px-8 py-4 rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Try Again"})]})});return(0,Cl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Cl.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Cl.jsx)("div",{className:"px-6 py-8",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Settings & Configuration"}),(0,Cl.jsx)("p",{className:"text-xl text-gray-600",children:"Manage platform settings and configurations"})]}),u&&(0,Cl.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-6 py-3 rounded-xl",children:u})]})})}),(0,Cl.jsxs)("div",{className:"px-6 py-8",children:[(0,Cl.jsxs)("div",{className:"flex flex-wrap gap-4 mb-8",children:[(0,Cl.jsx)(yo,{id:"general",label:"General",active:"general"===i,onClick:o}),(0,Cl.jsx)(yo,{id:"branding",label:"Branding",active:"branding"===i,onClick:o}),(0,Cl.jsx)(yo,{id:"notifications",label:"Notifications",active:"notifications"===i,onClick:o}),(0,Cl.jsx)(yo,{id:"permissions",label:"Permissions",active:"permissions"===i,onClick:o}),(0,Cl.jsx)(yo,{id:"categories",label:"Categories",active:"categories"===i,onClick:o})]}),(()=>{switch(i){case"general":default:return(0,Cl.jsx)(jo,{data:N.general,onSave:k,saving:c,onChange:(e,t)=>E("general",e,t)});case"branding":return(0,Cl.jsx)(No,{data:N.branding,onSave:k,saving:c,onChange:(e,t)=>E("branding",e,t)});case"notifications":return(0,Cl.jsx)(wo,{data:N.notifications,onSave:k,saving:c,onChange:(e,t)=>E("notifications",e,t)});case"permissions":return(0,Cl.jsx)(ko,{data:N.permissions,onSave:k,saving:c,onChange:E,onCreateAdmin:_,onEditRole:C,onDeleteRole:S,onShowAddRoleModal:()=>x(!0)});case"categories":return(0,Cl.jsx)(Co,{state:y,onFieldChange:P,onSubmit:T,onEdit:R,onCancelEdit:A,refreshCategories:L})}})()]}),(0,Cl.jsx)(_o,{show:p,editingRole:h,newRole:g,onClose:()=>{x(!1),f(null),b({name:"",permissions:[]})},onSave:async()=>{try{d(!0),m("");const e=h?await ha(h.id,g):await xa(g);e.ok?(m(h?"Role updated successfully!":"Role created successfully!"),setTimeout(()=>m(""),3e3),x(!1),f(null),b({name:"",permissions:[]}),w()):l(e.message||"Failed to save role")}catch(e){l("Network error. Please try again.")}finally{d(!1)}},saving:c,onChange:F})]})},Eo=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)("ALL"),[u,m]=(0,a.useState)("ALL"),[p,x]=(0,a.useState)("created_at"),[h,f]=(0,a.useState)("desc"),[g,b]=(0,a.useState)(null),[y,v]=(0,a.useState)(!1),[j,N]=(0,a.useState)(null);(0,a.useEffect)(()=>{w()},[i,c,u,p,h]);const w=async()=>{try{r(!0);const e=await ga({search:i,role:c,status:u,sort_by:p,sort_order:h});e.ok?t(e.data.users||[]):l(e.message||"Failed to load users")}catch(e){l("Network error. Please try again.")}finally{r(!1)}},k=async(e,t)=>{try{N(e);const s=await ya(e,t);s.ok?(await w(),g&&g.id===e&&b(Ue(Ue({},g),{},{status:t})),l("")):403===s.status?l("Cannot modify admin user status. Admin accounts are protected."):l(s.message||"Failed to update user status")}catch(s){s.response&&403===s.response.status?l("Cannot modify admin user status. Admin accounts are protected."):s.response&&s.response.data&&s.response.data.message?l(s.response.data.message):l("Network error. Please try again.")}finally{N(null)}},_=async e=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{N(e);const t=await va(e);t.ok?(await w(),v(!1),b(null),l("")):403===t.status?l("Cannot delete admin users. Admin accounts are protected."):l(t.message||"Failed to delete user")}catch(t){t.response&&403===t.response.status?l("Cannot delete admin users. Admin accounts are protected."):t.response&&t.response.data&&t.response.data.message?l(t.response.data.message):l("Network error. Please try again.")}finally{N(null)}},C=e=>{switch(e){case"ADMIN":return"bg-red-100 text-red-800";case"INFLUENCER":return"bg-purple-100 text-purple-800";case"BRAND":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},S=e=>{switch(e){case"ACTIVE":return"bg-green-100 text-green-800";case"SUSPENDED":return"bg-yellow-100 text-yellow-800";case"DELETED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=e.filter(e=>{var t,s,r;const n=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(i.toLowerCase()))||(null===(r=e.phone)||void 0===r?void 0:r.includes(i)),a="ALL"===c||e.user_type===c,l="ALL"===u||e.status===u;return n&&a&&l});return s?(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Users"}),(0,Cl.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching user data..."})]})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Cl.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Cl.jsx)("div",{className:"px-6 py-8",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"User Management"}),(0,Cl.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage all registered users and their accounts"})]}),(0,Cl.jsx)("div",{className:"flex items-center space-x-4",children:(0,Cl.jsxs)("button",{onClick:w,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Cl.jsx)("span",{className:"font-semibold",children:"Refresh"})]})})]})})}),(0,Cl.jsxs)("div",{className:"px-6 py-8",children:[(0,Cl.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-8",children:(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,Cl.jsxs)("div",{className:"lg:col-span-2",children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search Users"}),(0,Cl.jsxs)("div",{className:"relative",children:[(0,Cl.jsx)("input",{type:"text",placeholder:"Search by name, email, or phone...",value:i,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900"}),(0,Cl.jsx)("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role"}),(0,Cl.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"ALL",children:"All Roles"}),(0,Cl.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,Cl.jsx)("option",{value:"INFLUENCER",children:"Influencer"}),(0,Cl.jsx)("option",{value:"BRAND",children:"Brand"}),(0,Cl.jsx)("option",{value:"ADMIN",children:"Admin"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),(0,Cl.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"ALL",children:"All Status"}),(0,Cl.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Cl.jsx)("option",{value:"SUSPENDED",children:"Suspended"}),(0,Cl.jsx)("option",{value:"DELETED",children:"Deleted"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Sort By"}),(0,Cl.jsxs)("select",{value:"".concat(p,"-").concat(h),onChange:e=>{const[t,s]=e.target.value.split("-");x(t),f(s)},className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"created_at-desc",children:"Newest First"}),(0,Cl.jsx)("option",{value:"created_at-asc",children:"Oldest First"}),(0,Cl.jsx)("option",{value:"name-asc",children:"Name A-Z"}),(0,Cl.jsx)("option",{value:"name-desc",children:"Name Z-A"}),(0,Cl.jsx)("option",{value:"email-asc",children:"Email A-Z"}),(0,Cl.jsx)("option",{value:"email-desc",children:"Email Z-A"})]})]})]})}),n&&(0,Cl.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Cl.jsx)("p",{className:"text-red-800 font-medium",children:n})]})}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,Cl.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Cl.jsxs)("h3",{className:"text-xl font-bold text-gray-900",children:["Users (",E.length,")"]})}),0===E.length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No users found"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your search or filter criteria"})]}):(0,Cl.jsx)("div",{className:"overflow-x-auto",children:(0,Cl.jsxs)("table",{className:"w-full",children:[(0,Cl.jsx)("thead",{className:"bg-gray-50",children:(0,Cl.jsxs)("tr",{children:[(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"User"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Role"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Joined"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),(0,Cl.jsx)("tbody",{className:"divide-y divide-gray-200",children:E.map(e=>{var t;return(0,Cl.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Cl.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center text-white text-sm font-bold shadow-md",children:(null===(t=e.name)||void 0===t?void 0:t.charAt(0))||"U"}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-gray-900 font-semibold text-base",children:e.name||"No Name"}),(0,Cl.jsx)("p",{className:"text-gray-500 text-sm",children:e.email}),e.phone&&(0,Cl.jsx)("p",{className:"text-gray-500 text-sm",children:e.phone})]})]})}),(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(C(e.user_type)),children:e.user_type||"NORMAL"})}),(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(S(e.status)),children:e.status||"ACTIVE"})}),(0,Cl.jsx)("td",{className:"px-6 py-4 text-gray-600 text-sm",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cl.jsx)("button",{onClick:()=>(async e=>{try{const t=await ba(e.id);t.ok?(b(t.data),v(!0)):l(t.message||"Failed to load user details")}catch(t){l("Network error. Please try again.")}})(e),className:"bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"View"}),"ADMIN"!==e.status&&"DELETED"!==e.status&&("ACTIVE"===e.status?(0,Cl.jsx)("button",{onClick:()=>k(e.id,"SUSPENDED"),disabled:j===e.id,className:"bg-yellow-600 text-white px-3 py-1.5 rounded-lg hover:bg-yellow-700 transition-colors text-sm font-medium disabled:opacity-50",children:j===e.id?"...":"Suspend"}):"SUSPENDED"===e.status?(0,Cl.jsx)("button",{onClick:()=>k(e.id,"ACTIVE"),disabled:j===e.id,className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-sm font-medium disabled:opacity-50",children:j===e.id?"...":"Activate"}):null),"DELETED"!==e.status&&(0,Cl.jsx)("button",{onClick:()=>_(e.id),disabled:j===e.id,className:"bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors text-sm font-medium disabled:opacity-50",children:j===e.id?"...":"Delete"})]})})]},e.id)})})]})})]})]}),y&&g&&(0,Cl.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>v(!1)}),(0,Cl.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:(0,Cl.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"User Details"}),(0,Cl.jsx)("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Cl.jsx)("div",{className:"space-y-6",children:(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),(0,Cl.jsxs)("div",{className:"space-y-3",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:g.name||"Not provided"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:g.email})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:g.phone||"Not provided"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"User Type"}),(0,Cl.jsx)("span",{className:"inline-block px-3 py-1.5 rounded-full text-xs font-semibold ".concat(C(g.user_type)),children:g.user_type||"NORMAL"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Cl.jsx)("span",{className:"inline-block px-3 py-1.5 rounded-full text-xs font-semibold ".concat(S(g.status)),children:g.status||"ACTIVE"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Joined"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:g.created_at?new Date(g.created_at).toLocaleString():"N/A"})]})]})]})}),(0,Cl.jsx)("div",{className:"space-y-6",children:(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Statistics"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:g.total_uploads||0}),(0,Cl.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"Total Uploads"})]}),(0,Cl.jsxs)("div",{className:"bg-green-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-green-600",children:g.total_likes||0}),(0,Cl.jsx)("p",{className:"text-green-700 text-sm font-medium",children:"Total Likes"})]}),(0,Cl.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:g.is_subscribed?"Yes":"No"}),(0,Cl.jsx)("p",{className:"text-purple-700 text-sm font-medium",children:"Subscribed"})]}),(0,Cl.jsxs)("div",{className:"bg-yellow-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:g.total_views||0}),(0,Cl.jsx)("p",{className:"text-yellow-700 text-sm font-medium",children:"Total Views"})]})]})]})})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:["ADMIN"!==g.status&&"DELETED"!==g.status&&("ACTIVE"===g.status?(0,Cl.jsx)("button",{onClick:()=>k(g.id,"SUSPENDED"),disabled:j===g.id,className:"bg-yellow-600 text-white px-6 py-3 rounded-xl hover:bg-yellow-700 transition-colors font-semibold disabled:opacity-50",children:j===g.id?"Processing...":"Suspend User"}):"SUSPENDED"===g.status?(0,Cl.jsx)("button",{onClick:()=>k(g.id,"ACTIVE"),disabled:j===g.id,className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-colors font-semibold disabled:opacity-50",children:j===g.id?"Processing...":"Activate User"}):null),"DELETED"!==g.status&&(0,Cl.jsx)("button",{onClick:()=>_(g.id),disabled:j===g.id,className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold disabled:opacity-50",children:j===g.id?"Processing...":"Delete User"})]})]})})]})})]})},Fo=()=>{const[e,t]=(0,a.useState)("pending"),[s,r]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(""),[p,x]=(0,a.useState)(null),[h,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),[y,v]=(0,a.useState)("");(0,a.useEffect)(()=>{j()},[]);const j=async()=>{try{d(!0);const e=await ja();if(e.ok){const t=e.data;r(t.influencers||[]),l(t.pending||[]),o(t.approved||[])}else m(e.message||"Failed to load influencers")}catch(e){m("Network error. Please try again.")}finally{d(!1)}},N=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{b(e);r&&({action:t,reason:s}.request_id=r);const n=await wa(e,t,s,r);n.ok?(await j(),p&&p.id===e&&(f(!1),x(null))):m(n.message||"Failed to update influencer status")}catch(n){m("Network error. Please try again.")}finally{b(null)}},w=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"REJECTED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=e=>y?e.filter(e=>{var t,s,r;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(y.toLowerCase()))||(null===(r=e.business_name)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase()))}):e,_=e=>{var t,s;let{influencer:r,showActions:n=!0}=e;return(0,Cl.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:(0,Cl.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 bg-purple-600 rounded-2xl flex items-center justify-center text-white text-lg font-bold shadow-md",children:(null===(t=r.name)||void 0===t?void 0:t.charAt(0))||"I"}),(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:r.name||"No Name"}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-2",children:r.email}),r.business_name&&(0,Cl.jsx)("p",{className:"text-gray-500 text-sm mb-3",children:r.business_name}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cl.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(w(r.status)),children:r.status||"PENDING"}),(0,Cl.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat((a=r.subscription,a&&a.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800")),children:null!==(s=r.subscription)&&void 0!==s&&s.is_active?"Active Subscription":"No Subscription"})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:r.total_videos||0}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500",children:"Videos"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:r.total_engagement||0}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500",children:"Engagement"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",r.total_earnings||0]}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500",children:"Earnings"})]})]})]})]}),(0,Cl.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Cl.jsx)("button",{onClick:()=>(async e=>{try{const t=await Na(e.id);t.ok?(x(t.data),f(!0)):m(t.message||"Failed to load influencer details")}catch(t){m("Network error. Please try again.")}})(r),className:"bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-colors text-sm font-medium",children:"View Details"}),n&&"PENDING"===r.status&&(0,Cl.jsxs)("div",{className:"flex space-x-2",children:[(0,Cl.jsx)("button",{onClick:()=>N(r.id,"approve","",r.request_id||null),disabled:g===r.id,className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-xs font-medium disabled:opacity-50",children:g===r.id?"...":"Approve"}),(0,Cl.jsx)("button",{onClick:()=>{const e=prompt("Rejection reason (optional):");null!==e&&N(r.id,"reject",e,r.request_id||null)},disabled:g===r.id,className:"bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors text-xs font-medium disabled:opacity-50",children:g===r.id?"...":"Reject"})]})]})]})});var a};return c?(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-6"}),(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Influencers"}),(0,Cl.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching influencer data..."})]})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Cl.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Cl.jsx)("div",{className:"px-6 py-8",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Influencer Management"}),(0,Cl.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage influencer approvals, subscriptions, and performance"})]}),(0,Cl.jsx)("div",{className:"flex items-center space-x-4",children:(0,Cl.jsxs)("button",{onClick:j,className:"bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Cl.jsx)("span",{className:"font-semibold",children:"Refresh"})]})})]})})}),(0,Cl.jsxs)("div",{className:"px-6 py-8",children:[(0,Cl.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-8",children:(0,Cl.jsxs)("div",{className:"relative",children:[(0,Cl.jsx)("input",{type:"text",placeholder:"Search influencers by name, email, or business name...",value:y,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900"}),(0,Cl.jsx)("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),u&&(0,Cl.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Cl.jsx)("p",{className:"text-red-800 font-medium",children:u})]})}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:[(0,Cl.jsx)("div",{className:"border-b border-gray-200",children:(0,Cl.jsxs)("nav",{className:"flex",children:[(0,Cl.jsxs)("button",{onClick:()=>t("pending"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("pending"===e?"bg-purple-600 text-white border-b-2 border-purple-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Pending Approval (",k(n).length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("approved"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("approved"===e?"bg-purple-600 text-white border-b-2 border-purple-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Approved Influencers (",k(i).length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("all"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("all"===e?"bg-purple-600 text-white border-b-2 border-purple-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["All Influencers (",k(s).length,")"]})]})}),(0,Cl.jsxs)("div",{className:"p-6",children:["pending"===e&&(0,Cl.jsx)("div",{className:"space-y-6",children:0===k(n).length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No pending influencers"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"All influencer applications have been processed"})]}):k(n).map(e=>(0,Cl.jsx)(_,{influencer:e,showActions:!0},e.id))}),"approved"===e&&(0,Cl.jsx)("div",{className:"space-y-6",children:0===k(i).length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No approved influencers"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Approved influencers will appear here"})]}):k(i).map(e=>(0,Cl.jsx)(_,{influencer:e,showActions:!1},e.id))}),"all"===e&&(0,Cl.jsx)("div",{className:"space-y-6",children:0===k(s).length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No influencers found"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your search criteria"})]}):k(s).map(e=>(0,Cl.jsx)(_,{influencer:e,showActions:!1},e.id))})]})]})]}),h&&p&&(0,Cl.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f(!1)}),(0,Cl.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:(0,Cl.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Influencer Details"}),(0,Cl.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Cl.jsx)("div",{className:"space-y-6",children:(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),(0,Cl.jsxs)("div",{className:"space-y-3",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:p.name||"Not provided"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:p.email})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:p.business_name||"Not provided"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Cl.jsx)("span",{className:"inline-block px-3 py-1.5 rounded-full text-xs font-semibold ".concat(w(p.status)),children:p.status||"PENDING"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Applied"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:p.created_at?new Date(p.created_at).toLocaleString():"N/A"})]})]})]})}),(0,Cl.jsx)("div",{className:"space-y-6",children:(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Statistics"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:p.total_videos||0}),(0,Cl.jsx)("p",{className:"text-purple-700 text-sm font-medium",children:"Total Videos"})]}),(0,Cl.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:p.total_engagement||0}),(0,Cl.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"Total Engagement"})]}),(0,Cl.jsxs)("div",{className:"bg-green-50 rounded-xl p-4",children:[(0,Cl.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",p.total_earnings||0]}),(0,Cl.jsx)("p",{className:"text-green-700 text-sm font-medium",children:"Total Earnings"})]}),(0,Cl.jsxs)("div",{className:"bg-yellow-50 rounded-xl p-4",children:[(0,Cl.jsxs)("p",{className:"text-2xl font-bold text-yellow-600",children:[p.avg_engagement_rate||0,"%"]}),(0,Cl.jsx)("p",{className:"text-yellow-700 text-sm font-medium",children:"Avg Engagement Rate"})]})]})]})})]}),(0,Cl.jsx)("div",{className:"flex items-center justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:"PENDING"===p.status&&(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("button",{onClick:()=>N(p.id,"approve","",p.request_id||null),disabled:g===p.id,className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-colors font-semibold disabled:opacity-50",children:g===p.id?"Processing...":"Approve Influencer"}),(0,Cl.jsx)("button",{onClick:()=>{const e=prompt("Rejection reason (optional):");null!==e&&N(p.id,"reject",e,p.request_id||null)},disabled:g===p.id,className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold disabled:opacity-50",children:g===p.id?"Processing...":"Reject Influencer"})]})})]})})]})})]})},Lo=()=>{const[e,t]=(0,a.useState)("pending"),[s,r]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(""),[p,x]=(0,a.useState)(null),[h,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),[y,v]=(0,a.useState)("");(0,a.useEffect)(()=>{j()},[]);const j=async()=>{try{d(!0);const e=await ka();if(e.ok){const t=e.data;r(t.brands||[]),l(t.pending||[]),o(t.approved||[])}else m(e.message||"Failed to load brands")}catch(e){m("Network error. Please try again.")}finally{d(!1)}},N=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{b(e);const n=await Ca(e,t,s,r);n.ok?(await j(),p&&p.id===e&&(f(!1),x(null))):m(n.message||"Failed to update brand status")}catch(n){m("Network error. Please try again.")}finally{b(null)}},w=async function(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{b("".concat(e,"-").concat(t));const n=await Sa(t,s,r);n.ok?await j():m(n.message||"Failed to update video status")}catch(n){m("Network error. Please try again.")}finally{b(null)}},k=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"REJECTED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},_=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FLAGGED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=e=>y?e.filter(e=>{var t,s,r;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(y.toLowerCase()))||(null===(r=e.business_name)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase()))}):e,S=e=>{var t;let{brand:s,showActions:r=!0}=e;return(0,Cl.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:(0,Cl.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center text-white text-lg font-bold shadow-md",children:(null===(t=s.name)||void 0===t?void 0:t.charAt(0))||"B"}),(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:s.name||"No Name"}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-2",children:s.email}),s.business_name&&(0,Cl.jsx)("p",{className:"text-gray-500 text-sm mb-3",children:s.business_name}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cl.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(k(s.status)),children:s.status||"PENDING"}),(0,Cl.jsxs)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:[s.upload_limit||3," Uploads Remaining"]})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-center",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:s.total_videos||0}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500",children:"Total Videos"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-green-600",children:s.approved_videos||0}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500",children:"Approved"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-red-600",children:s.flagged_videos||0}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500",children:"Flagged"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",s.total_payments||0]}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500",children:"Payments"})]})]})]})]}),(0,Cl.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Cl.jsx)("button",{onClick:()=>(async e=>{try{const t=await _a(e.id);t.ok?(x(t.data),f(!0)):m(t.message||"Failed to load brand details")}catch(t){m("Network error. Please try again.")}})(s),className:"bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-colors text-sm font-medium",children:"View Details"}),r&&"PENDING"===s.status&&(0,Cl.jsxs)("div",{className:"flex space-x-2",children:[(0,Cl.jsx)("button",{onClick:()=>N(s.id,"approve","",s.request_id||null),disabled:g===s.id,className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-xs font-medium disabled:opacity-50",children:g===s.id?"...":"Approve"}),(0,Cl.jsx)("button",{onClick:()=>{const e=prompt("Rejection reason (optional):");null!==e&&N(s.id,"reject",e,s.request_id||null)},disabled:g===s.id,className:"bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors text-xs font-medium disabled:opacity-50",children:g===s.id?"...":"Reject"})]})]})]})})};return c?(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Brands"}),(0,Cl.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching brand data..."})]})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Cl.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Cl.jsx)("div",{className:"px-6 py-8",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Brand Management"}),(0,Cl.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage brand approvals, video uploads, and payment tracking"})]}),(0,Cl.jsx)("div",{className:"flex items-center space-x-4",children:(0,Cl.jsxs)("button",{onClick:j,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Cl.jsx)("span",{className:"font-semibold",children:"Refresh"})]})})]})})}),(0,Cl.jsxs)("div",{className:"px-6 py-8",children:[(0,Cl.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-8",children:(0,Cl.jsxs)("div",{className:"relative",children:[(0,Cl.jsx)("input",{type:"text",placeholder:"Search brands by name, email, or business name...",value:y,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900"}),(0,Cl.jsx)("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),u&&(0,Cl.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Cl.jsx)("p",{className:"text-red-800 font-medium",children:u})]})}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:[(0,Cl.jsx)("div",{className:"border-b border-gray-200",children:(0,Cl.jsxs)("nav",{className:"flex",children:[(0,Cl.jsxs)("button",{onClick:()=>t("pending"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("pending"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Pending Approval (",C(n).length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("approved"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("approved"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Approved Brands (",C(i).length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("all"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("all"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["All Brands (",C(s).length,")"]})]})}),(0,Cl.jsxs)("div",{className:"p-6",children:["pending"===e&&(0,Cl.jsx)("div",{className:"space-y-6",children:0===C(n).length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No pending brands"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"All brand applications have been processed"})]}):C(n).map(e=>(0,Cl.jsx)(S,{brand:e,showActions:!0},e.id))}),"approved"===e&&(0,Cl.jsx)("div",{className:"space-y-6",children:0===C(i).length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No approved brands"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Approved brands will appear here"})]}):C(i).map(e=>(0,Cl.jsx)(S,{brand:e,showActions:!1},e.id))}),"all"===e&&(0,Cl.jsx)("div",{className:"space-y-6",children:0===C(s).length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No brands found"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your search criteria"})]}):C(s).map(e=>(0,Cl.jsx)(S,{brand:e,showActions:!1},e.id))})]})]})]}),h&&p&&(0,Cl.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f(!1)}),(0,Cl.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full",children:(0,Cl.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Brand Details"}),(0,Cl.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Cl.jsx)("div",{className:"space-y-6",children:(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Brand Information"}),(0,Cl.jsxs)("div",{className:"space-y-3",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:p.name||"Not provided"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:p.email})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Business Name"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:p.business_name||"Not provided"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Cl.jsx)("span",{className:"inline-block px-3 py-1.5 rounded-full text-xs font-semibold ".concat(k(p.status)),children:p.status||"PENDING"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Upload Limit"}),(0,Cl.jsxs)("p",{className:"text-gray-900",children:[p.upload_limit||3," videos remaining"]})]})]})]})}),(0,Cl.jsx)("div",{className:"space-y-6",children:(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Brand Statistics"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:p.total_videos||0}),(0,Cl.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"Total Videos"})]}),(0,Cl.jsxs)("div",{className:"bg-green-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-green-600",children:p.approved_videos||0}),(0,Cl.jsx)("p",{className:"text-green-700 text-sm font-medium",children:"Approved"})]}),(0,Cl.jsxs)("div",{className:"bg-red-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-red-600",children:p.flagged_videos||0}),(0,Cl.jsx)("p",{className:"text-red-700 text-sm font-medium",children:"Flagged"})]}),(0,Cl.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4",children:[(0,Cl.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["$",p.total_payments||0]}),(0,Cl.jsx)("p",{className:"text-purple-700 text-sm font-medium",children:"Total Payments"})]})]})]})})]}),p.videos&&p.videos.length>0&&(0,Cl.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Video Uploads"}),(0,Cl.jsx)("div",{className:"space-y-4",children:p.videos.map(e=>(0,Cl.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[(0,Cl.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Cl.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"font-medium text-gray-900",children:e.product_name}),(0,Cl.jsxs)("p",{className:"text-sm text-gray-500",children:["$",e.price," \u2022 ",e.created_at]})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cl.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(_(e.status)),children:e.status||"PENDING"}),"PENDING"===e.status&&(0,Cl.jsxs)("div",{className:"flex space-x-2",children:[(0,Cl.jsx)("button",{onClick:()=>w(p.id,e.id,"approve"),disabled:g==="".concat(p.id,"-").concat(e.id),className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-xs font-medium disabled:opacity-50",children:"Approve"}),(0,Cl.jsx)("button",{onClick:()=>{const t=prompt("Flag reason:");t&&w(p.id,e.id,"flag",t)},disabled:g==="".concat(p.id,"-").concat(e.id),className:"bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors text-xs font-medium disabled:opacity-50",children:"Flag"})]})]})]},e.id))})]}),(0,Cl.jsx)("div",{className:"flex items-center justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:"PENDING"===p.status&&(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("button",{onClick:()=>N(p.id,"approve","",p.request_id||null),disabled:g===p.id,className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-colors font-semibold disabled:opacity-50",children:g===p.id?"Processing...":"Approve Brand"}),(0,Cl.jsx)("button",{onClick:()=>{const e=prompt("Rejection reason (optional):");null!==e&&N(p.id,"reject",e,p.request_id||null)},disabled:g===p.id,className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold disabled:opacity-50",children:g===p.id?"Processing...":"Reject Brand"})]})})]})})]})})]})},Po=()=>{var e,t,s;const[r,n]=(0,a.useState)("pending"),[l,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,p]=(0,a.useState)([]),[x,h]=(0,a.useState)(!0),[f,g]=(0,a.useState)(""),[b,y]=(0,a.useState)(null),[v,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null),[k,_]=(0,a.useState)("");(0,a.useEffect)(()=>{C()},[r]);const C=async()=>{try{h(!0);const e="all"===r?null:r.toUpperCase(),t=await Ta({status:e});if(t.ok){const e=t.listings||[];console.log("Fetched listings:",e.length,"total"),console.log("Sample listing:",e[0]),i(e),c(e.filter(e=>"PENDING"===(e.status||"PENDING"))),u(e.filter(e=>"APPROVED"===(e.status||"PENDING"))),p(e.filter(e=>"REJECTED"===(e.status||"PENDING")))}else g(t.message||"Failed to load listings")}catch(e){g("Network error. Please try again.")}finally{h(!1)}},S=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{w(e),g("");const r=await Ma(e,t,s);r.ok?(await C(),b&&b.request_id===e&&(j(!1),y(null))):g(r.message||"Failed to update listing status")}catch(a){var r,n;console.error("Approval error:",a);const e=(null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||a.message||"Network error. Please try again.";g(e)}finally{w(null)}},E=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"REJECTED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},F=e=>k?e.filter(e=>{var t,s,r;return e.products&&Array.isArray(e.products)?e.products.some(e=>{var t,s,r;return(null===(t=e.product_name)||void 0===t?void 0:t.toLowerCase().includes(k.toLowerCase()))||(null===(s=e.user_name)||void 0===s?void 0:s.toLowerCase().includes(k.toLowerCase()))||(null===(r=e.provider_name)||void 0===r?void 0:r.toLowerCase().includes(k.toLowerCase()))}):(null===(t=e.product_name)||void 0===t?void 0:t.toLowerCase().includes(k.toLowerCase()))||(null===(s=e.user_name)||void 0===s?void 0:s.toLowerCase().includes(k.toLowerCase()))||(null===(r=e.provider_name)||void 0===r?void 0:r.toLowerCase().includes(k.toLowerCase()))}):e,L=()=>{switch(r){case"pending":return F(o);case"approved":return F(d);case"rejected":return F(m);default:return F(l)}},P=e=>{var t;let{listing:s,showActions:r=!0}=e;const n=s.products&&Array.isArray(s.products),a=n?s.products[0]:s,l=(null===(t=s.video)||void 0===t?void 0:t.thumbnail_url)||s.thumbnail_url,i=s.first_request_id||s.request_id,o=s.product_count||1;return(0,Cl.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:(0,Cl.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[l?(0,Cl.jsx)("img",{src:l,alt:"Video thumbnail",className:"w-20 h-20 object-cover rounded-xl"}):(0,Cl.jsx)("div",{className:"w-20 h-20 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-10 h-10 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Cl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:n?"".concat(o," Product").concat(o>1?"s":""):a.product_name||"No Name"}),n&&(0,Cl.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-800",children:"Video Group"})]}),n&&s.products&&(0,Cl.jsxs)("div",{className:"mb-2",children:[(0,Cl.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Products:"}),(0,Cl.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.products.slice(0,3).map((e,t)=>(0,Cl.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e.product_name},t)),s.products.length>3&&(0,Cl.jsxs)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:["+",s.products.length-3," more"]})]})]}),!n&&(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("p",{className:"text-gray-600 mb-2",children:a.user_name||"Unknown User"}),a.provider_name&&(0,Cl.jsxs)("p",{className:"text-gray-500 text-sm mb-3",children:["Provider: ",a.provider_name]})]}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cl.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(E(s.status||a.status)),children:s.status||a.status||"PENDING"}),!n&&(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:a.type||"PRODUCT"}),(0,Cl.jsxs)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold bg-gray-100 text-gray-800",children:["\u20b9",Number(a.price||0).toLocaleString()]})]})]}),!n&&a.description&&(0,Cl.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:a.description})]})]}),(0,Cl.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[(0,Cl.jsx)("button",{onClick:()=>(async e=>{try{const t=e.first_request_id||e.request_id,s=await Da(t);s.ok?(y(s.data),j(!0)):g(s.message||"Failed to load listing details")}catch(t){g("Network error. Please try again.")}})(s),className:"bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-colors text-sm font-medium",children:"View Details"}),r&&"PENDING"===(s.status||a.status)&&(0,Cl.jsxs)("div",{className:"flex space-x-2",children:[(0,Cl.jsx)("button",{onClick:()=>S(i,"approve"),disabled:N===i,className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-xs font-medium disabled:opacity-50",children:N===i?"...":"Approve All"}),(0,Cl.jsx)("button",{onClick:()=>{const e=prompt("Rejection reason (optional):");null!==e&&S(i,"reject",e)},disabled:N===i,className:"bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors text-xs font-medium disabled:opacity-50",children:N===i?"...":"Reject"})]})]})]})})};return x?(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-6"}),(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Listings"}),(0,Cl.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching listing requests..."})]})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Cl.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Cl.jsx)("div",{className:"px-6 py-8",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Listing Management"}),(0,Cl.jsx)("p",{className:"text-gray-600 text-lg",children:"Review and approve listing requests"})]}),(0,Cl.jsxs)("button",{onClick:C,className:"bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Cl.jsx)("span",{className:"font-semibold",children:"Refresh"})]})]})})}),(0,Cl.jsxs)("div",{className:"px-6 py-8",children:[(0,Cl.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-8",children:(0,Cl.jsxs)("div",{className:"relative",children:[(0,Cl.jsx)("input",{type:"text",placeholder:"Search listings by name, user, or provider...",value:k,onChange:e=>_(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900"}),(0,Cl.jsx)("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),f&&(0,Cl.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Cl.jsx)("p",{className:"text-red-800",children:f})]})}),(0,Cl.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 mb-8",children:(0,Cl.jsx)("div",{className:"flex space-x-1 p-2",children:["pending","approved","rejected","all"].map(e=>(0,Cl.jsxs)("button",{onClick:()=>n(e),className:"flex-1 py-3 px-4 rounded-xl font-semibold transition-all ".concat(r===e?"bg-purple-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"),children:[e.charAt(0).toUpperCase()+e.slice(1)," (",L().length,")"]},e))})}),(0,Cl.jsx)("div",{className:"space-y-6",children:0===L().length?(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-12 text-center shadow-lg border border-gray-100",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No listings found"}),(0,Cl.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:['There are no listings with status "',r,'"']})]}):L().map((e,t)=>(0,Cl.jsx)(P,{listing:e},e.first_request_id||e.request_id||e.group_key||t))})]}),v&&b&&(0,Cl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Cl.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Listing Details"}),(0,Cl.jsx)("button",{onClick:()=>{j(!1),y(null)},className:"text-gray-400 hover:text-gray-600",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,Cl.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Cl.jsxs)("div",{className:"md:col-span-1",children:[(0,Cl.jsx)("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:null!==(e=b.video)&&void 0!==e&&e.video_url?(0,Cl.jsx)("video",{src:b.video.video_url,poster:b.video.thumbnail_url,controls:!0,className:"w-full h-48 object-cover bg-black"}):null!==(t=b.video)&&void 0!==t&&t.thumbnail_url?(0,Cl.jsx)("img",{src:b.video.thumbnail_url,alt:"Video thumbnail",className:"w-full h-48 object-cover bg-gray-100"}):(0,Cl.jsx)("div",{className:"w-full h-48 bg-gray-100 flex items-center justify-center text-gray-500",children:"No video preview"})}),(0,Cl.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsx)("span",{className:"text-sm text-gray-500",children:"Request ID"}),(0,Cl.jsx)("span",{className:"text-sm font-medium text-gray-900",children:b.request_id})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsx)("span",{className:"text-sm text-gray-500",children:"Status"}),(0,Cl.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold ".concat(E(b.status||"PENDING")),children:b.status||"PENDING"})]}),(null===(s=b.video)||void 0===s?void 0:s.video_status)&&(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsx)("span",{className:"text-sm text-gray-500",children:"Video Status"}),(0,Cl.jsx)("span",{className:"text-sm font-medium text-gray-900",children:b.video.video_status})]}),b.created_at&&(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsx)("span",{className:"text-sm text-gray-500",children:"Created"}),(0,Cl.jsx)("span",{className:"text-sm font-medium text-gray-900",children:new Date(b.created_at).toLocaleString()})]})]})]}),(0,Cl.jsx)("div",{className:"md:col-span-2",children:(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.user&&(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,Cl.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"User"}),(0,Cl.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:b.user.full_name||b.user_name}),(0,Cl.jsx)("div",{className:"text-sm text-gray-700",children:b.user.email}),b.user.phone&&(0,Cl.jsx)("div",{className:"text-sm text-gray-700",children:b.user.phone})]}),b.provider&&(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4",children:[(0,Cl.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Provider"}),(0,Cl.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:b.provider.business_name||b.provider_name}),b.provider.provider_type&&(0,Cl.jsxs)("div",{className:"text-sm text-gray-700",children:["Type: ",b.provider.provider_type]})]})]})})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Products in this request"}),Array.isArray(b.products)&&b.products.length>0?(0,Cl.jsx)("div",{className:"space-y-3",children:b.products.map((e,t)=>(0,Cl.jsx)("div",{className:"border border-gray-200 rounded-xl p-4",children:(0,Cl.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:e.thumbnail?(0,Cl.jsx)("img",{src:e.thumbnail,alt:e.product_name,className:"w-full h-full object-cover"}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs",children:"No thumbnail"})}),(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Cl.jsx)("div",{className:"text-base font-semibold text-gray-900",children:e.product_name}),(0,Cl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Cl.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:e.type}),null!=e.price&&(0,Cl.jsxs)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-gray-100 text-gray-800",children:["\u20b9",Number(e.price||0).toLocaleString()]})]})]}),e.description&&(0,Cl.jsx)("p",{className:"text-sm text-gray-700 mb-1",children:e.description}),(0,Cl.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.category_name&&(0,Cl.jsxs)("span",{children:["Category: ",e.category_name]}),e.link&&(0,Cl.jsx)("a",{href:e.link,className:"text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Link"})]})]})]})},e.product_id||t))}):(0,Cl.jsx)("div",{className:"text-sm text-gray-600",children:"No products found for this request."})]}),"PENDING"===(b.status||"PENDING")&&(0,Cl.jsxs)("div",{className:"flex space-x-3 pt-4 border-t",children:[(0,Cl.jsx)("button",{onClick:()=>S(b.request_id,"approve"),disabled:N===b.request_id,className:"flex-1 bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-colors font-semibold disabled:opacity-50",children:N===b.request_id?"Processing...":"Approve All"}),(0,Cl.jsx)("button",{onClick:()=>{const e=prompt("Rejection reason (optional):");null!==e&&S(b.request_id,"reject",e)},disabled:N===b.request_id,className:"flex-1 bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold disabled:opacity-50",children:N===b.request_id?"Processing...":"Reject"})]})]})]})})]})},Ao=()=>{const[e,t]=(0,a.useState)("pending"),[s,r]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[p,x]=(0,a.useState)(""),[h,f]=(0,a.useState)(null),[g,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[j,N]=(0,a.useState)(""),[w,k]=(0,a.useState)(""),[_,C]=(0,a.useState)([]),[S,E]=(0,a.useState)(!1),[F,L]=(0,a.useState)([]),[P,A]=(0,a.useState)({product_name:"",description:"",price:"",video_url:"",video_category:"USER_CONTENT"});(0,a.useEffect)(()=>{R(),T()},[]);const R=async()=>{try{m(!0);const e=await Ea();if(e.ok){const t=e.data;r(t.videos||[]),l(t.pending||[]),o(t.approved||[]),d(t.flagged||[])}else x(e.message||"Failed to load videos")}catch(e){x("Network error. Please try again.")}finally{m(!1)}},T=async()=>{try{const e=await Ra();e.ok&&L(e.data.admin_videos||[])}catch(e){console.error("Failed to fetch admin videos:",e)}},D=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{v(e);const n=await La(e,t,s,r);n.ok?(await R(),h&&h.id===e&&(b(!1),f(null))):x(n.message||"Failed to update video status")}catch(n){x("Network error. Please try again.")}finally{v(null)}},M=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(0!==_.length)try{v("bulk");const r=await Pa(_,e,t,s);r.ok?(await R(),C([])):x(r.message||"Failed to update videos")}catch(r){x("Network error. Please try again.")}finally{v(null)}},O=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FLAGGED":case"REJECTED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},I=e=>{switch(e){case"PROMOTION":return"bg-purple-100 text-purple-800";case"BRAND_ADS":return"bg-blue-100 text-blue-800";case"PLATFORM_PROMO":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},z=e=>{let t=e;return j&&(t=t.filter(e=>{var t,s,r;return(null===(t=e.product_name)||void 0===t?void 0:t.toLowerCase().includes(j.toLowerCase()))||(null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(j.toLowerCase()))||(null===(r=e.uploader_name)||void 0===r?void 0:r.toLowerCase().includes(j.toLowerCase()))})),w&&(t=t.filter(e=>e.category===w)),t},U=e=>{let{video:t,showActions:s=!0,showCheckbox:r=!1}=e;return(0,Cl.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300",children:(0,Cl.jsxs)("div",{className:"flex items-start space-x-4",children:[r&&(0,Cl.jsx)("input",{type:"checkbox",checked:_.includes(t.id),onChange:e=>{e.target.checked?C([..._,t.id]):C(_.filter(e=>e!==t.id))},className:"mt-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Cl.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-xl flex items-center justify-center overflow-hidden",children:t.thumbnail_url?(0,Cl.jsx)("img",{src:t.thumbnail_url,alt:t.product_name,className:"w-full h-full object-cover"}):(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Cl.jsx)("div",{className:"flex-1",children:(0,Cl.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:t.product_name}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-2 line-clamp-2",children:t.description}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cl.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(O(t.video_status)),children:t.video_status||"PENDING"}),(0,Cl.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold ".concat(I(t.category)),children:t.category||"USER_CONTENT"}),(0,Cl.jsxs)("span",{className:"text-sm text-gray-500",children:["$",t.price]})]}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mb-3",children:[(0,Cl.jsxs)("span",{children:["by ",t.uploader_name]}),(0,Cl.jsx)("span",{children:"\u2022"}),(0,Cl.jsx)("span",{children:new Date(t.created_at).toLocaleDateString()})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-center",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-lg font-bold text-blue-600",children:t.view_count||0}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500",children:"Views"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-lg font-bold text-red-600",children:t.like_count||0}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500",children:"Likes"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-lg font-bold text-purple-600",children:t.love_count||0}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500",children:"Loves"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-lg font-bold text-green-600",children:t.click_count||0}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500",children:"Clicks"})]})]})]}),(0,Cl.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Cl.jsx)("button",{onClick:()=>(async e=>{try{const t=await Fa(e.id);t.ok?(f(t.data),b(!0)):x(t.message||"Failed to load video details")}catch(t){x("Network error. Please try again.")}})(t),className:"bg-blue-600 text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-colors text-sm font-medium",children:"Review"}),s&&"PENDING"===t.video_status&&(0,Cl.jsxs)("div",{className:"flex space-x-2",children:[(0,Cl.jsx)("button",{onClick:()=>D(t.id,"approve"),disabled:y===t.id,className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-xs font-medium disabled:opacity-50",children:y===t.id?"...":"Approve"}),(0,Cl.jsx)("button",{onClick:()=>{const e=prompt("Flag reason:");e&&D(t.id,"flag",e)},disabled:y===t.id,className:"bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors text-xs font-medium disabled:opacity-50",children:y===t.id?"...":"Flag"})]})]})]})})]})})};return u?(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Videos"}),(0,Cl.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching video data..."})]})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Cl.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Cl.jsx)("div",{className:"px-6 py-8",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Video Management"}),(0,Cl.jsx)("p",{className:"text-gray-600 text-lg",children:"Moderate and manage all uploaded videos"})]}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Cl.jsxs)("button",{onClick:()=>E(!0),className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Cl.jsx)("span",{className:"font-semibold",children:"Upload Video"})]}),(0,Cl.jsxs)("button",{onClick:R,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Cl.jsx)("span",{className:"font-semibold",children:"Refresh"})]})]})]})})}),(0,Cl.jsxs)("div",{className:"px-6 py-8",children:[(0,Cl.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 mb-8",children:(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Cl.jsxs)("div",{className:"relative",children:[(0,Cl.jsx)("input",{type:"text",placeholder:"Search videos, uploaders...",value:j,onChange:e=>N(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900"}),(0,Cl.jsx)("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,Cl.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Cl.jsx)("option",{value:"",children:"All Categories"}),(0,Cl.jsx)("option",{value:"PROMOTION",children:"Promotion"}),(0,Cl.jsx)("option",{value:"BRAND_ADS",children:"Brand Ads"}),(0,Cl.jsx)("option",{value:"PLATFORM_PROMO",children:"Platform Promo"}),(0,Cl.jsx)("option",{value:"USER_CONTENT",children:"User Content"})]}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cl.jsx)("span",{className:"text-sm text-gray-600",children:"Bulk Actions:"}),_.length>0&&(0,Cl.jsxs)("div",{className:"flex space-x-2",children:[(0,Cl.jsxs)("button",{onClick:()=>M("approve"),disabled:"bulk"===y,className:"bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-xs font-medium disabled:opacity-50",children:["Approve (",_.length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>{const e=prompt("Flag reason:");e&&M("flag",e)},disabled:"bulk"===y,className:"bg-red-600 text-white px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors text-xs font-medium disabled:opacity-50",children:["Flag (",_.length,")"]})]})]})]})}),p&&(0,Cl.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Cl.jsx)("p",{className:"text-red-800 font-medium",children:p})]})}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:[(0,Cl.jsx)("div",{className:"border-b border-gray-200",children:(0,Cl.jsxs)("nav",{className:"flex",children:[(0,Cl.jsxs)("button",{onClick:()=>t("pending"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("pending"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Pending Review (",z(n).length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("approved"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("approved"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Approved (",z(i).length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("flagged"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("flagged"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Flagged (",z(c).length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("admin"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("admin"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Admin Videos (",F.length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("all"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("all"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["All Videos (",z(s).length,")"]})]})}),(0,Cl.jsxs)("div",{className:"p-6",children:["pending"===e&&(0,Cl.jsx)("div",{className:"space-y-6",children:0===z(n).length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No pending videos"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"All videos have been reviewed"})]}):z(n).map(e=>(0,Cl.jsx)(U,{video:e,showActions:!0,showCheckbox:!0},e.id))}),"approved"===e&&(0,Cl.jsx)("div",{className:"space-y-6",children:0===z(i).length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No approved videos"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Approved videos will appear here"})]}):z(i).map(e=>(0,Cl.jsx)(U,{video:e,showActions:!1,showCheckbox:!1},e.id))}),"flagged"===e&&(0,Cl.jsx)("div",{className:"space-y-6",children:0===z(c).length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No flagged videos"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Flagged videos will appear here"})]}):z(c).map(e=>(0,Cl.jsx)(U,{video:e,showActions:!1,showCheckbox:!1},e.id))}),"admin"===e&&(0,Cl.jsx)("div",{className:"space-y-6",children:0===F.length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No admin videos uploaded"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:'Click "Upload Video" to add your first admin video'})]}):F.map(e=>(0,Cl.jsx)(U,{video:Ue(Ue({},e),{},{is_admin_video:!0}),showActions:!1,showCheckbox:!1},e.id))}),"all"===e&&(0,Cl.jsx)("div",{className:"space-y-6",children:0===z(s).length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-gray-100 rounded-2xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Cl.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No videos found"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your search criteria"})]}):z(s).map(e=>(0,Cl.jsx)(U,{video:e,showActions:!1,showCheckbox:!1},e.id))})]})]})]}),g&&h&&(0,Cl.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>b(!1)}),(0,Cl.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full",children:(0,Cl.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Video Review"}),(0,Cl.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Cl.jsx)("div",{children:(0,Cl.jsx)("div",{className:"aspect-video bg-gray-200 rounded-xl mb-4",children:h.video_url?(0,Cl.jsx)("video",{src:h.video_url,controls:!0,className:"w-full h-full rounded-xl"}):(0,Cl.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})})})}),(0,Cl.jsxs)("div",{className:"space-y-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Video Information"}),(0,Cl.jsxs)("div",{className:"space-y-3",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:h.product_name})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:h.description})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),(0,Cl.jsxs)("p",{className:"text-gray-900",children:["$",h.price]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Uploader"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:h.uploader_name})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Cl.jsx)("span",{className:"inline-block px-3 py-1.5 rounded-full text-xs font-semibold ".concat(O(h.video_status)),children:h.video_status||"PENDING"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,Cl.jsx)("span",{className:"inline-block px-3 py-1.5 rounded-full text-xs font-semibold ".concat(I(h.category)),children:h.category||"USER_CONTENT"})]})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:h.view_count||0}),(0,Cl.jsx)("p",{className:"text-blue-700 text-sm font-medium",children:"Views"})]}),(0,Cl.jsxs)("div",{className:"bg-red-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-red-600",children:h.like_count||0}),(0,Cl.jsx)("p",{className:"text-red-700 text-sm font-medium",children:"Likes"})]}),(0,Cl.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:h.love_count||0}),(0,Cl.jsx)("p",{className:"text-purple-700 text-sm font-medium",children:"Loves"})]}),(0,Cl.jsxs)("div",{className:"bg-green-50 rounded-xl p-4",children:[(0,Cl.jsx)("p",{className:"text-2xl font-bold text-green-600",children:h.click_count||0}),(0,Cl.jsx)("p",{className:"text-green-700 text-sm font-medium",children:"Clicks"})]})]})]})]})]}),(0,Cl.jsx)("div",{className:"flex items-center justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:"PENDING"===h.video_status&&(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("button",{onClick:()=>{const e=prompt("Category (PROMOTION, BRAND_ADS, PLATFORM_PROMO, USER_CONTENT):",h.category||"USER_CONTENT");e&&D(h.id,"approve","",e)},disabled:y===h.id,className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-colors font-semibold disabled:opacity-50",children:y===h.id?"Processing...":"Approve Video"}),(0,Cl.jsx)("button",{onClick:()=>{const e=prompt("Flag reason:");e&&D(h.id,"flag",e)},disabled:y===h.id,className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold disabled:opacity-50",children:y===h.id?"Processing...":"Flag Video"})]})})]})})]})}),S&&(0,Cl.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>E(!1)}),(0,Cl.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:(0,Cl.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Upload Admin Video"}),(0,Cl.jsx)("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{v("upload");const e=await Aa(P);e.ok?(await R(),await T(),E(!1),A({product_name:"",description:"",price:"",video_url:"",video_category:"USER_CONTENT"})):x(e.message||"Failed to upload video")}catch(t){x("Network error. Please try again.")}finally{v(null)}},className:"space-y-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Title"}),(0,Cl.jsx)("input",{type:"text",required:!0,value:P.product_name,onChange:e=>A(Ue(Ue({},P),{},{product_name:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Enter video title"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Cl.jsx)("textarea",{required:!0,rows:3,value:P.description,onChange:e=>A(Ue(Ue({},P),{},{description:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter video description"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price"}),(0,Cl.jsx)("input",{type:"number",required:!0,min:"0",step:"0.01",value:P.price,onChange:e=>A(Ue(Ue({},P),{},{price:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Enter price"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video URL"}),(0,Cl.jsx)("input",{type:"url",required:!0,value:P.video_url,onChange:e=>A(Ue(Ue({},P),{},{video_url:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Enter video URL"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,Cl.jsxs)("select",{required:!0,value:P.video_category,onChange:e=>A(Ue(Ue({},P),{},{video_category:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Cl.jsx)("option",{value:"USER_CONTENT",children:"User Content"}),(0,Cl.jsx)("option",{value:"PROMOTION",children:"Promotion"}),(0,Cl.jsx)("option",{value:"BRAND_ADS",children:"Brand Ads"}),(0,Cl.jsx)("option",{value:"PLATFORM_PROMO",children:"Platform Promo"})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>E(!1),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",disabled:"upload"===y,className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-colors font-semibold disabled:opacity-50",children:"upload"===y?"Uploading...":"Upload Video"})]})]})]})})]})})]})},Ro=()=>{const[e,t]=(0,a.useState)("plans"),[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[p,x]=(0,a.useState)({plan_name:"",plan_description:"",plan_type:"MONTHLY",price:"",duration_days:"",features:"",is_active:!0}),[h,f]=(0,a.useState)([]),[g,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[j,N]=(0,a.useState)({coupon_code:"",coupon_name:"",discount_type:"PERCENTAGE",discount_value:"",usage_limit:"",valid_from:"",valid_until:"",is_active:!0}),[w,k]=(0,a.useState)([]),[_,C]=(0,a.useState)("ALL"),[S,E]=(0,a.useState)([]);(0,a.useEffect)(()=>{F()},[]);const F=async()=>{try{r(!0),await Promise.all([L(),P(),A(),R()])}catch(e){l("Failed to load subscription data")}finally{r(!1)}},L=async()=>{try{const e=await Oa();e.ok&&o(e.data.plans||[])}catch(e){console.error("Failed to fetch plans:",e)}},P=async()=>{try{const e=await Ua();e.ok&&f(e.data.coupons||[])}catch(e){console.error("Failed to fetch coupons:",e)}},A=async()=>{try{const e=await Wa();e.ok&&k(e.data.transactions||[])}catch(e){console.error("Failed to fetch transactions:",e)}},R=async()=>{try{const e=await qa();e.ok&&E(e.data.alerts||[])}catch(e){console.error("Failed to fetch alerts:",e)}},T=e=>{switch(e){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";case"REFUNDED":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},D=e=>{switch(e){case"MONTHLY":return"bg-blue-100 text-blue-800";case"YEARLY":return"bg-green-100 text-green-800";case"INFLUENCER":return"bg-purple-100 text-purple-800";case"BRAND":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},M=w.filter(e=>"ALL"===_||e.payment_status===_);return s?(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Subscription Data"}),(0,Cl.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching subscription information..."})]})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Cl.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Cl.jsx)("div",{className:"px-6 py-8",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Subscription Management"}),(0,Cl.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage subscription plans, coupons, and transactions"})]}),(0,Cl.jsxs)("button",{onClick:F,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Cl.jsx)("span",{className:"font-semibold",children:"Refresh"})]})]})})}),(0,Cl.jsxs)("div",{className:"px-6 py-8",children:[n&&(0,Cl.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Cl.jsx)("p",{className:"text-red-800 font-medium",children:n})]})}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:[(0,Cl.jsx)("div",{className:"border-b border-gray-200",children:(0,Cl.jsxs)("nav",{className:"flex",children:[(0,Cl.jsxs)("button",{onClick:()=>t("plans"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("plans"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Subscription Plans (",i.length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("coupons"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("coupons"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Discount Coupons (",h.length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("transactions"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("transactions"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Transactions (",w.length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("alerts"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("alerts"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Alerts (",S.length,")"]})]})}),(0,Cl.jsxs)("div",{className:"p-6",children:["plans"===e&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Cl.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Subscription Plans"}),(0,Cl.jsx)("button",{onClick:()=>{m(null),x({plan_name:"",plan_description:"",plan_type:"MONTHLY",price:"",duration_days:"",features:"",is_active:!0}),d(!0)},className:"bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700 transition-colors",children:"Add New Plan"})]}),(0,Cl.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.plan_name}),(0,Cl.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(D(e.plan_type)),children:e.plan_type})]}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-4",children:e.plan_description}),(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Cl.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:["$",e.price]}),(0,Cl.jsxs)("span",{className:"text-sm text-gray-500",children:[e.duration_days," days"]})]}),(0,Cl.jsxs)("div",{className:"flex justify-between",children:[(0,Cl.jsx)("button",{onClick:()=>(e=>{m(e),x({plan_name:e.plan_name,plan_description:e.plan_description,plan_type:e.plan_type,price:e.price,duration_days:e.duration_days,features:"string"===typeof e.features?e.features:JSON.stringify(e.features,null,2),is_active:e.is_active}),d(!0)})(e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),(0,Cl.jsx)("span",{className:"text-sm ".concat(e.is_active?"text-green-600":"text-red-600"),children:e.is_active?"Active":"Inactive"})]})]},e.plan_id))})]}),"coupons"===e&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Cl.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Discount Coupons"}),(0,Cl.jsx)("button",{onClick:()=>{v(null),N({coupon_code:"",coupon_name:"",discount_type:"PERCENTAGE",discount_value:"",usage_limit:"",valid_from:"",valid_until:"",is_active:!0}),b(!0)},className:"bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700 transition-colors",children:"Add New Coupon"})]}),(0,Cl.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(e=>(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.coupon_name}),(0,Cl.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:e.coupon_code})]}),(0,Cl.jsxs)("div",{className:"mb-4",children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Cl.jsx)("span",{className:"text-sm text-gray-600",children:"Discount:"}),(0,Cl.jsx)("span",{className:"font-semibold text-gray-900",children:"PERCENTAGE"===e.discount_type?"".concat(e.discount_value,"%"):"\u20b9".concat(Number(e.discount_value).toFixed(2))})]}),(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Cl.jsx)("span",{className:"text-sm text-gray-600",children:"Usage:"}),(0,Cl.jsxs)("span",{className:"text-sm text-gray-900",children:[e.used_count,"/",e.usage_limit||"\u221e"]})]}),(0,Cl.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Cl.jsx)("span",{className:"text-sm text-gray-600",children:"Valid Until:"}),(0,Cl.jsx)("span",{className:"text-sm text-gray-900",children:new Date(e.valid_until).toLocaleDateString()})]})]}),(0,Cl.jsxs)("div",{className:"flex justify-between",children:[(0,Cl.jsx)("button",{onClick:()=>(e=>{v(e),N({coupon_code:e.coupon_code,coupon_name:e.coupon_name,discount_type:e.discount_type,discount_value:e.discount_value,usage_limit:e.usage_limit,valid_from:e.valid_from?e.valid_from.split("T")[0]:"",valid_until:e.valid_until?e.valid_until.split("T")[0]:"",is_active:e.is_active}),b(!0)})(e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),(0,Cl.jsx)("span",{className:"text-sm ".concat(e.is_active?"text-green-600":"text-red-600"),children:e.is_active?"Active":"Inactive"})]})]},e.coupon_id))})]}),"transactions"===e&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Cl.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Transaction Logs"}),(0,Cl.jsxs)("select",{value:_,onChange:e=>C(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Cl.jsx)("option",{value:"ALL",children:"All Status"}),(0,Cl.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,Cl.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Cl.jsx)("option",{value:"FAILED",children:"Failed"}),(0,Cl.jsx)("option",{value:"REFUNDED",children:"Refunded"})]})]}),(0,Cl.jsx)("div",{className:"overflow-x-auto",children:(0,Cl.jsxs)("table",{className:"w-full",children:[(0,Cl.jsx)("thead",{children:(0,Cl.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Cl.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),(0,Cl.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Plan"}),(0,Cl.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Amount"}),(0,Cl.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),(0,Cl.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Date"})]})}),(0,Cl.jsx)("tbody",{children:M.map(e=>(0,Cl.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,Cl.jsx)("td",{className:"py-3 px-4",children:e.user_name}),(0,Cl.jsx)("td",{className:"py-3 px-4",children:e.plan_name}),(0,Cl.jsx)("td",{className:"py-3 px-4",children:(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"font-semibold",children:["$",e.final_amount]}),e.discount_amount>0&&(0,Cl.jsxs)("div",{className:"text-sm text-green-600",children:["-$",e.discount_amount," discount"]})]})}),(0,Cl.jsx)("td",{className:"py-3 px-4",children:(0,Cl.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(T(e.payment_status)),children:e.payment_status})}),(0,Cl.jsx)("td",{className:"py-3 px-4",children:new Date(e.created_at).toLocaleDateString()})]},e.transaction_id))})]})})]}),"alerts"===e&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Subscription Alerts"}),(0,Cl.jsx)("div",{className:"space-y-4",children:S.map(e=>(0,Cl.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:(0,Cl.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"font-semibold text-gray-900",children:e.alert_type.replace("_"," ")}),(0,Cl.jsx)("p",{className:"text-gray-600 mt-1",children:e.alert_message}),(0,Cl.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["User: ",e.user_name]})]}),(0,Cl.jsxs)("div",{className:"text-right",children:[(0,Cl.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_sent?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.is_sent?"Sent":"Pending"}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:new Date(e.created_at).toLocaleDateString()})]})]})},e.alert_id))})]})]})]})]}),c&&(0,Cl.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>d(!1)}),(0,Cl.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:(0,Cl.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:u?"Edit Subscription Plan":"Add New Subscription Plan"}),(0,Cl.jsx)("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=u?await za(u.plan_id,p):await Ia(p);e.ok?(await L(),d(!1),m(null),x({plan_name:"",plan_description:"",plan_type:"MONTHLY",price:"",duration_days:"",features:"",is_active:!0})):l(e.message||"Failed to save plan")}catch(t){l("Network error. Please try again.")}},className:"space-y-6",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Name *"}),(0,Cl.jsx)("input",{type:"text",required:!0,value:p.plan_name,onChange:e=>x(Ue(Ue({},p),{},{plan_name:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Enter plan name"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Plan Type *"}),(0,Cl.jsxs)("select",{required:!0,value:p.plan_type,onChange:e=>x(Ue(Ue({},p),{},{plan_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"MONTHLY",children:"Monthly"}),(0,Cl.jsx)("option",{value:"YEARLY",children:"Yearly"}),(0,Cl.jsx)("option",{value:"INFLUENCER",children:"Influencer"}),(0,Cl.jsx)("option",{value:"BRAND",children:"Brand"})]})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Cl.jsx)("textarea",{required:!0,rows:3,value:p.plan_description,onChange:e=>x(Ue(Ue({},p),{},{plan_description:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Enter plan description"})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price ($) *"}),(0,Cl.jsx)("input",{type:"number",required:!0,min:"0",step:"0.01",value:p.price,onChange:e=>x(Ue(Ue({},p),{},{price:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Enter price"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (Days) *"}),(0,Cl.jsx)("input",{type:"number",required:!0,min:"1",value:p.duration_days,onChange:e=>x(Ue(Ue({},p),{},{duration_days:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Enter duration in days"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Features (JSON)"}),(0,Cl.jsx)("textarea",{rows:4,value:p.features,onChange:e=>x(Ue(Ue({},p),{},{features:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:'{"videos_per_month": 10, "storage_gb": 5, "support": "email"}'})]}),(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("input",{type:"checkbox",id:"is_active",checked:p.is_active,onChange:e=>x(Ue(Ue({},p),{},{is_active:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Cl.jsx)("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active Plan"})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold",children:u?"Update Plan":"Create Plan"})]})]})]})})]})}),g&&(0,Cl.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>b(!1)}),(0,Cl.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:(0,Cl.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:y?"Edit Discount Coupon":"Add New Discount Coupon"}),(0,Cl.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=y?await Va(y.coupon_id,j):await Ba(j);e.ok?(await P(),b(!1),v(null),N({coupon_code:"",coupon_name:"",discount_type:"PERCENTAGE",discount_value:"",usage_limit:"",valid_from:"",valid_until:"",is_active:!0})):l(e.message||"Failed to save coupon")}catch(t){l("Network error. Please try again.")}},className:"space-y-6",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coupon Code *"}),(0,Cl.jsx)("input",{type:"text",required:!0,value:j.coupon_code,onChange:e=>N(Ue(Ue({},j),{},{coupon_code:e.target.value.toUpperCase()})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"WELCOME10"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coupon Name *"}),(0,Cl.jsx)("input",{type:"text",required:!0,value:j.coupon_name,onChange:e=>N(Ue(Ue({},j),{},{coupon_name:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Welcome Discount"})]})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Type *"}),(0,Cl.jsxs)("select",{required:!0,value:j.discount_type,onChange:e=>N(Ue(Ue({},j),{},{discount_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"PERCENTAGE",children:"Percentage"}),(0,Cl.jsx)("option",{value:"FIXED_AMOUNT",children:"Fixed Amount"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Value *"}),(0,Cl.jsx)("input",{type:"number",required:!0,min:"0",step:"0.01",value:j.discount_value,onChange:e=>N(Ue(Ue({},j),{},{discount_value:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"10"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Usage Limit"}),(0,Cl.jsx)("input",{type:"number",min:"1",value:j.usage_limit,onChange:e=>N(Ue(Ue({},j),{},{usage_limit:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900",placeholder:"Leave blank for unlimited"})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid From *"}),(0,Cl.jsx)("input",{type:"date",required:!0,value:j.valid_from,onChange:e=>N(Ue(Ue({},j),{},{valid_from:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid Until *"}),(0,Cl.jsx)("input",{type:"date",required:!0,value:j.valid_until,onChange:e=>N(Ue(Ue({},j),{},{valid_until:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900"})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("input",{type:"checkbox",id:"coupon_is_active",checked:j.is_active,onChange:e=>N(Ue(Ue({},j),{},{is_active:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Cl.jsx)("label",{htmlFor:"coupon_is_active",className:"ml-2 block text-sm text-gray-900",children:"Active Coupon"})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>b(!1),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold",children:y?"Update Coupon":"Create Coupon"})]})]})]})})]})})]})},To=()=>{const[e,t]=(0,a.useState)("pending"),[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[p,x]=(0,a.useState)({status:"APPROVED",admin_remarks:"",concession_amount:"",concession_type:"DISCOUNT"}),[h,f]=(0,a.useState)({total_submissions:0,pending_count:0,approved_count:0,rejected_count:0,total_concessions:0});(0,a.useEffect)(()=>{g()},[]);const g=async()=>{try{r(!0),await Promise.all([b(),y()])}catch(e){l("Failed to load promotion data")}finally{r(!1)}},b=async()=>{try{const e=await Ha();e.ok&&o(e.data.submissions||[])}catch(e){console.error("Failed to fetch submissions:",e)}},y=async()=>{try{const e=await $a();e.ok&&f(e.data.analytics||h)}catch(e){console.error("Failed to fetch analytics:",e)}},v=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"REJECTED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=e=>({INSTAGRAM:"\ud83d\udcf7",FACEBOOK:"\ud83d\udcd8",TWITTER:"\ud83d\udc26",TIKTOK:"\ud83c\udfb5",YOUTUBE:"\ud83d\udcfa",LINKEDIN:"\ud83d\udcbc",OTHER:"\ud83c\udf10"}[e]||"\ud83c\udf10"),N=e=>({POST:"\ud83d\udcdd",VIDEO:"\ud83c\udfa5",STORY:"\ud83d\udcd6",REEL:"\ud83c\udfac"}[e]||"\ud83d\udcdd"),w=i.filter(t=>"all"===e||t.status===e.toUpperCase());return s?(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Promotion Data"}),(0,Cl.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching promotion submissions..."})]})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Cl.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Cl.jsx)("div",{className:"px-6 py-8",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Promotion Approval System"}),(0,Cl.jsx)("p",{className:"text-gray-600 text-lg",children:"Review and approve influencer promotion submissions"})]}),(0,Cl.jsxs)("button",{onClick:g,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Cl.jsx)("span",{className:"font-semibold",children:"Refresh"})]})]})})}),(0,Cl.jsxs)("div",{className:"px-6 py-8",children:[n&&(0,Cl.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Cl.jsx)("p",{className:"text-red-800 font-medium",children:n})]})}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,Cl.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Submissions"}),(0,Cl.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:h.total_submissions})]}),(0,Cl.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),(0,Cl.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:h.pending_count})]}),(0,Cl.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Approved"}),(0,Cl.jsx)("p",{className:"text-2xl font-bold text-green-600",children:h.approved_count})]}),(0,Cl.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),(0,Cl.jsx)("p",{className:"text-2xl font-bold text-red-600",children:h.rejected_count})]}),(0,Cl.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Concessions"}),(0,Cl.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["\u20b9",h.total_concessions]})]}),(0,Cl.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})})]}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,Cl.jsx)("div",{className:"border-b border-gray-200",children:(0,Cl.jsxs)("nav",{className:"flex",children:[(0,Cl.jsxs)("button",{onClick:()=>t("pending"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("pending"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Pending Review (",h.pending_count,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("approved"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("approved"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Approved (",h.approved_count,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("rejected"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("rejected"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Rejected (",h.rejected_count,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("all"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("all"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["All Submissions (",h.total_submissions,")"]})]})}),(0,Cl.jsx)("div",{className:"p-6",children:(0,Cl.jsx)("div",{className:"space-y-4",children:0===w.length?(0,Cl.jsxs)("div",{className:"text-center py-12",children:[(0,Cl.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Cl.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No submissions found"}),(0,Cl.jsx)("p",{className:"text-gray-600",children:"No promotion submissions match the current filter."})]}):w.map(e=>(0,Cl.jsx)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:(0,Cl.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cl.jsx)("span",{className:"text-2xl",children:j(e.platform)}),(0,Cl.jsx)("span",{className:"text-lg",children:N(e.submission_type)}),(0,Cl.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.user_name}),(0,Cl.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(v(e.status)),children:e.status})]}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-3",children:e.content_description}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-500 mb-3",children:[(0,Cl.jsxs)("span",{children:["Platform: ",e.platform]}),(0,Cl.jsxs)("span",{children:["Type: ",e.submission_type]}),(0,Cl.jsxs)("span",{children:["Submitted: ",new Date(e.submission_date).toLocaleDateString()]})]}),e.engagement_metrics&&(0,Cl.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,Cl.jsx)("span",{className:"text-gray-600",children:"Engagement:"}),e.engagement_metrics.likes&&(0,Cl.jsxs)("span",{className:"text-red-600",children:["\u2764\ufe0f ",e.engagement_metrics.likes]}),e.engagement_metrics.comments&&(0,Cl.jsxs)("span",{className:"text-blue-600",children:["\ud83d\udcac ",e.engagement_metrics.comments]}),e.engagement_metrics.shares&&(0,Cl.jsxs)("span",{className:"text-green-600",children:["\ud83d\udd04 ",e.engagement_metrics.shares]}),e.engagement_metrics.reach&&(0,Cl.jsxs)("span",{className:"text-purple-600",children:["\ud83d\udc41\ufe0f ",e.engagement_metrics.reach]})]}),e.admin_remarks&&(0,Cl.jsx)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:(0,Cl.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Cl.jsx)("strong",{children:"Admin Remarks:"})," ",e.admin_remarks]})}),e.concession_amount>0&&(0,Cl.jsx)("div",{className:"mt-3 p-3 bg-green-50 rounded-lg",children:(0,Cl.jsxs)("p",{className:"text-sm text-green-800",children:[(0,Cl.jsx)("strong",{children:"Concession:"})," \u20b9",e.concession_amount," (",e.concession_type,")"]})})]}),(0,Cl.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[(0,Cl.jsx)("a",{href:e.content_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Content"}),e.screenshot_url&&(0,Cl.jsx)("a",{href:e.screenshot_url,target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"View Screenshot"}),"PENDING"===e.status&&(0,Cl.jsx)("button",{onClick:()=>(e=>{m(e),x({status:"APPROVED",admin_remarks:"",concession_amount:"",concession_type:"DISCOUNT"}),d(!0)})(e),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Review"})]})]})},e.submission_id))})})]})]}),c&&u&&(0,Cl.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>d(!1)}),(0,Cl.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:(0,Cl.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Review Promotion Submission"}),(0,Cl.jsx)("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Cl.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[(0,Cl.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Submission Details"}),(0,Cl.jsx)("p",{className:"text-gray-600 mb-2",children:u.content_description}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,Cl.jsxs)("span",{children:[j(u.platform)," ",u.platform]}),(0,Cl.jsxs)("span",{children:[N(u.submission_type)," ",u.submission_type]}),(0,Cl.jsxs)("span",{children:["By: ",u.user_name]})]})]}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await Ga(u.submission_id,p);e.ok?(await b(),await y(),d(!1),m(null),x({status:"APPROVED",admin_remarks:"",concession_amount:"",concession_type:"DISCOUNT"})):l(e.message||"Failed to review submission")}catch(t){l("Network error. Please try again.")}},className:"space-y-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Decision *"}),(0,Cl.jsxs)("select",{required:!0,value:p.status,onChange:e=>x(Ue(Ue({},p),{},{status:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Cl.jsx)("option",{value:"APPROVED",children:"Approve"}),(0,Cl.jsx)("option",{value:"REJECTED",children:"Reject"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Remarks *"}),(0,Cl.jsx)("textarea",{required:!0,rows:4,value:p.admin_remarks,onChange:e=>x(Ue(Ue({},p),{},{admin_remarks:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add your review comments..."})]}),"APPROVED"===p.status&&(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Concession Type"}),(0,Cl.jsxs)("select",{value:p.concession_type,onChange:e=>x(Ue(Ue({},p),{},{concession_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Cl.jsx)("option",{value:"DISCOUNT",children:"Discount"}),(0,Cl.jsx)("option",{value:"CREDIT",children:"Credit"}),(0,Cl.jsx)("option",{value:"FREE_MONTHS",children:"Free Months"}),(0,Cl.jsx)("option",{value:"UPGRADE",children:"Upgrade"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Concession Amount (\u20b9)"}),(0,Cl.jsx)("input",{type:"number",min:"0",step:"0.01",value:p.concession_amount,onChange:e=>x(Ue(Ue({},p),{},{concession_amount:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter concession amount"})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold",children:"Submit Review"})]})]})]})})]})})]})},Do=()=>{const[e,t]=(0,a.useState)("transactions"),[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)("ALL"),[u,m]=(0,a.useState)("ALL"),[p,x]=(0,a.useState)([]),[h,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),[y,v]=(0,a.useState)({refund_reason:"",refund_amount:""}),[j,N]=(0,a.useState)([]),[w,k]=(0,a.useState)("DAILY"),[_,C]=(0,a.useState)((new Date).toISOString().split("T")[0]),[S,E]=(0,a.useState)([]),[F,L]=(0,a.useState)("ALL"),[P,A]=(0,a.useState)({total_revenue:0,total_transactions:0,successful_transactions:0,failed_transactions:0,pending_transactions:0,total_refunds:0});(0,a.useEffect)(()=>{R()},[]);const R=async()=>{try{r(!0),await Promise.all([T(),D(),M(),O(),I()])}catch(e){l("Failed to load payment data")}finally{r(!1)}},T=async()=>{try{const e=await Ya();e.ok&&o(e.data.transactions||[])}catch(e){console.error("Failed to fetch transactions:",e)}},D=async()=>{try{const e=await Qa();e.ok&&x(e.data.refunds||[])}catch(e){console.error("Failed to fetch refunds:",e)}},M=async()=>{try{const e=await Ja(w,_);e.ok&&N(e.data.reports||[])}catch(e){console.error("Failed to fetch revenue reports:",e)}},O=async()=>{try{const e=await Xa();e.ok&&E(e.data.logs||[])}catch(e){console.error("Failed to fetch gateway logs:",e)}},I=async()=>{try{const e=await Za();e.ok&&A(e.data.analytics||P)}catch(e){console.error("Failed to fetch analytics:",e)}},z=e=>{switch(e){case"COMPLETED":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"FAILED":return"bg-red-100 text-red-800";case"REFUNDED":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},U=i.filter(e=>"ALL"===c||e.payment_status===c),B=S.filter(e=>"ALL"===F||e.gateway_name===F);return s?(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Cl.jsxs)("div",{className:"text-center",children:[(0,Cl.jsx)("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),(0,Cl.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Payment Data"}),(0,Cl.jsx)("p",{className:"text-lg text-gray-600",children:"Fetching transaction information..."})]})}):(0,Cl.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Cl.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Cl.jsx)("div",{className:"px-6 py-8",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Payment & Transaction Management"}),(0,Cl.jsx)("p",{className:"text-gray-600 text-lg",children:"Monitor all financial transactions and payment processing"})]}),(0,Cl.jsxs)("button",{onClick:R,className:"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 flex items-center space-x-3 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Cl.jsx)("span",{className:"font-semibold",children:"Refresh"})]})]})})}),(0,Cl.jsxs)("div",{className:"px-6 py-8",children:[n&&(0,Cl.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Cl.jsx)("p",{className:"text-red-800 font-medium",children:n})]})}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[(0,Cl.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Total Revenue"}),(0,Cl.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["\u20b9",P.total_revenue]})]}),(0,Cl.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Total Transactions"}),(0,Cl.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:P.total_transactions})]}),(0,Cl.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Successful"}),(0,Cl.jsx)("p",{className:"text-2xl font-bold text-green-600",children:P.successful_transactions})]}),(0,Cl.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Failed"}),(0,Cl.jsx)("p",{className:"text-2xl font-bold text-red-600",children:P.failed_transactions})]}),(0,Cl.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Pending"}),(0,Cl.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:P.pending_transactions})]}),(0,Cl.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Total Refunds"}),(0,Cl.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:["\u20b9",P.total_refunds]})]}),(0,Cl.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,Cl.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})})]}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,Cl.jsx)("div",{className:"border-b border-gray-200",children:(0,Cl.jsxs)("nav",{className:"flex",children:[(0,Cl.jsxs)("button",{onClick:()=>t("transactions"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("transactions"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Transactions (",i.length,")"]}),(0,Cl.jsxs)("button",{onClick:()=>t("refunds"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("refunds"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Refunds (",p.length,")"]}),(0,Cl.jsx)("button",{onClick:()=>t("reports"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("reports"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:"Revenue Reports"}),(0,Cl.jsxs)("button",{onClick:()=>t("gateway"),className:"px-6 py-4 text-sm font-medium transition-colors ".concat("gateway"===e?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:["Gateway Logs (",S.length,")"]})]})}),(0,Cl.jsxs)("div",{className:"p-6",children:["transactions"===e&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Cl.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Transaction Logs"}),(0,Cl.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",children:[(0,Cl.jsx)("option",{value:"ALL",children:"All Status"}),(0,Cl.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,Cl.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Cl.jsx)("option",{value:"FAILED",children:"Failed"}),(0,Cl.jsx)("option",{value:"REFUNDED",children:"Refunded"}),(0,Cl.jsx)("option",{value:"CANCELLED",children:"Cancelled"})]})]}),(0,Cl.jsx)("div",{className:"overflow-x-auto",children:(0,Cl.jsxs)("table",{className:"w-full",children:[(0,Cl.jsx)("thead",{children:(0,Cl.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Cl.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Transaction"}),(0,Cl.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),(0,Cl.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Amount"}),(0,Cl.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Method"}),(0,Cl.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),(0,Cl.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Date"}),(0,Cl.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),(0,Cl.jsx)("tbody",{children:U.map(e=>{return(0,Cl.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,Cl.jsx)("td",{className:"py-3 px-4",children:(0,Cl.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Cl.jsx)("span",{className:"text-lg",children:(s=e.transaction_type,{SUBSCRIPTION:"\ud83d\udcb3",VIDEO_UPLOAD:"\ud83c\udfa5",BRAND_PAYMENT:"\ud83c\udfe2",REFUND:"\u21a9\ufe0f",CONCESSION:"\ud83c\udf81"}[s]||"\ud83d\udcb0")}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("div",{className:"font-medium text-gray-900",children:e.transaction_type.replace("_"," ")}),(0,Cl.jsx)("div",{className:"text-sm text-gray-600",children:e.gateway_transaction_id})]})]})}),(0,Cl.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.user_name}),(0,Cl.jsx)("td",{className:"py-3 px-4",children:(0,Cl.jsxs)("span",{className:"font-semibold ".concat(e.amount<0?"text-red-600":"text-green-600"),children:["\u20b9",Math.abs(e.amount)]})}),(0,Cl.jsx)("td",{className:"py-3 px-4",children:(0,Cl.jsx)("span",{className:"text-gray-900 font-medium",children:(t=e.payment_method,{RAZORPAY:"Razorpay",STRIPE:"Stripe",PAYPAL:"PayPal",BANK_TRANSFER:"Bank Transfer",WALLET:"Wallet",OTHER:"Other"}[t]||"Other")})}),(0,Cl.jsx)("td",{className:"py-3 px-4",children:(0,Cl.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(z(e.payment_status)),children:e.payment_status})}),(0,Cl.jsx)("td",{className:"py-3 px-4 text-gray-900",children:new Date(e.created_at).toLocaleDateString()}),(0,Cl.jsx)("td",{className:"py-3 px-4",children:"COMPLETED"===e.payment_status&&"REFUND"!==e.transaction_type&&(0,Cl.jsx)("button",{onClick:()=>(e=>{b(e),v({refund_reason:"",refund_amount:e.amount}),f(!0)})(e),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Refund"})})]},e.transaction_id);var t,s})})]})})]}),"refunds"===e&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Refund Requests"}),(0,Cl.jsx)("div",{className:"space-y-4",children:p.map(e=>(0,Cl.jsx)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:(0,Cl.jsx)("div",{className:"flex items-start justify-between",children:(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cl.jsxs)("h4",{className:"text-lg font-semibold text-gray-900",children:["Refund #",e.refund_id]}),(0,Cl.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(z(e.refund_status)),children:e.refund_status})]}),(0,Cl.jsx)("p",{className:"text-gray-700 mb-3",children:e.refund_reason}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[(0,Cl.jsxs)("span",{children:["Amount: \u20b9",e.refund_amount]}),(0,Cl.jsxs)("span",{children:["Transaction: #",e.transaction_id]}),(0,Cl.jsxs)("span",{children:["User: ",e.user_name]}),(0,Cl.jsxs)("span",{children:["Requested: ",new Date(e.created_at).toLocaleDateString()]})]}),e.admin_remarks&&(0,Cl.jsx)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:(0,Cl.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Cl.jsx)("strong",{children:"Admin Remarks:"})," ",e.admin_remarks]})})]})})},e.refund_id))})]}),"reports"===e&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Cl.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Revenue Reports"}),(0,Cl.jsxs)("div",{className:"flex space-x-4",children:[(0,Cl.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",children:[(0,Cl.jsx)("option",{value:"DAILY",children:"Daily"}),(0,Cl.jsx)("option",{value:"MONTHLY",children:"Monthly"}),(0,Cl.jsx)("option",{value:"YEARLY",children:"Yearly"})]}),(0,Cl.jsx)("input",{type:"date",value:_,onChange:e=>C(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white"})]})]}),(0,Cl.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:j.map(e=>(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,Cl.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:[e.report_type," Report"]}),(0,Cl.jsxs)("div",{className:"space-y-3",children:[(0,Cl.jsxs)("div",{className:"flex justify-between",children:[(0,Cl.jsx)("span",{className:"text-gray-700",children:"Total Revenue:"}),(0,Cl.jsxs)("span",{className:"font-semibold text-green-600",children:["\u20b9",e.total_revenue]})]}),(0,Cl.jsxs)("div",{className:"flex justify-between",children:[(0,Cl.jsx)("span",{className:"text-gray-700",children:"Net Revenue:"}),(0,Cl.jsxs)("span",{className:"font-semibold text-blue-600",children:["\u20b9",e.net_revenue]})]}),(0,Cl.jsxs)("div",{className:"flex justify-between",children:[(0,Cl.jsx)("span",{className:"text-gray-700",children:"Transactions:"}),(0,Cl.jsx)("span",{className:"font-semibold text-gray-900",children:e.total_transactions})]}),(0,Cl.jsxs)("div",{className:"flex justify-between",children:[(0,Cl.jsx)("span",{className:"text-gray-700",children:"Success Rate:"}),(0,Cl.jsxs)("span",{className:"font-semibold text-green-600",children:[e.total_transactions>0?Math.round(e.successful_transactions/e.total_transactions*100):0,"%"]})]})]})]},e.report_id))})]}),"gateway"===e&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Cl.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Payment Gateway Logs"}),(0,Cl.jsxs)("select",{value:F,onChange:e=>L(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",children:[(0,Cl.jsx)("option",{value:"ALL",children:"All Gateways"}),(0,Cl.jsx)("option",{value:"RAZORPAY",children:"Razorpay"}),(0,Cl.jsx)("option",{value:"STRIPE",children:"Stripe"}),(0,Cl.jsx)("option",{value:"PAYPAL",children:"PayPal"}),(0,Cl.jsx)("option",{value:"BANK_TRANSFER",children:"Bank Transfer"}),(0,Cl.jsx)("option",{value:"WALLET",children:"Wallet"})]})]}),(0,Cl.jsx)("div",{className:"space-y-4",children:B.map(e=>(0,Cl.jsx)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:(0,Cl.jsx)("div",{className:"flex items-start justify-between",children:(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.gateway_name}),(0,Cl.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.log_type}),(0,Cl.jsxs)("span",{className:"text-sm font-medium ".concat(e.status_code>=200&&e.status_code<300?"text-green-600":"text-red-600"),children:["Status: ",e.status_code]})]}),(0,Cl.jsxs)("div",{className:"flex items-center space-x-6 text-sm text-gray-600 mb-3",children:[(0,Cl.jsxs)("span",{children:["Transaction: #",e.transaction_id]}),(0,Cl.jsxs)("span",{children:["Time: ",new Date(e.created_at).toLocaleString()]})]}),e.error_message&&(0,Cl.jsx)("div",{className:"mt-3 p-3 bg-red-50 rounded-lg",children:(0,Cl.jsxs)("p",{className:"text-sm text-red-800",children:[(0,Cl.jsx)("strong",{children:"Error:"})," ",e.error_message]})})]})})},e.log_id))})]})]})]})]}),h&&g&&(0,Cl.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Cl.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>f(!1)}),(0,Cl.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full",children:(0,Cl.jsxs)("div",{className:"bg-white px-6 py-8",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Initiate Refund"}),(0,Cl.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Cl.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[(0,Cl.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Transaction Details"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,Cl.jsx)("span",{className:"ml-2 font-medium",children:g.transaction_type})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("span",{className:"text-gray-600",children:"Amount:"}),(0,Cl.jsxs)("span",{className:"ml-2 font-medium",children:["\u20b9",g.amount]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("span",{className:"text-gray-600",children:"User:"}),(0,Cl.jsx)("span",{className:"ml-2 font-medium",children:g.user_name})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("span",{className:"text-gray-600",children:"Date:"}),(0,Cl.jsx)("span",{className:"ml-2 font-medium",children:new Date(g.created_at).toLocaleDateString()})]})]})]}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await Ka(g.transaction_id,y);e.ok?(await D(),await T(),await I(),f(!1),b(null),v({refund_reason:"",refund_amount:""})):l(e.message||"Failed to initiate refund")}catch(t){t.response&&403===t.response.status?l("Cannot refund this transaction. Admin access required."):t.response&&t.response.data&&t.response.data.message?l(t.response.data.message):l("Network error. Please try again.")}},className:"space-y-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Amount (\u20b9) *"}),(0,Cl.jsx)("input",{type:"number",required:!0,min:"0.01",max:g.amount,step:"0.01",value:y.refund_amount,onChange:e=>v(Ue(Ue({},y),{},{refund_amount:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",placeholder:"Enter refund amount"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refund Reason *"}),(0,Cl.jsx)("textarea",{required:!0,rows:4,value:y.refund_reason,onChange:e=>v(Ue(Ue({},y),{},{refund_reason:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 bg-white",placeholder:"Enter reason for refund..."})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>f(!1),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",className:"bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold",children:"Initiate Refund"})]})]})]})})]})})]})},Mo=()=>{const[e,t]=(0,a.useState)("push"),[s,r]=(0,a.useState)(!0),[n,l]=(0,a.useState)(""),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)({title:"",message:"",target_type:"ALL",target_users:"",scheduled_time:"",priority:"NORMAL"}),[p,x]=(0,a.useState)([]),[h,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)({subject:"",template_type:"OFFER",target_type:"ALL",target_users:"",scheduled_time:"",content:""}),[y,v]=(0,a.useState)([]),[j,N]=(0,a.useState)(null),[w,k]=(0,a.useState)(!1),[_,C]=(0,a.useState)(""),[S,E]=(0,a.useState)("OPEN"),[F,L]=(0,a.useState)({total_notifications_sent:0,email_open_rate:0,push_delivery_rate:0,active_tickets:0,resolved_tickets:0});(0,a.useEffect)(()=>{P()},[]);const P=async()=>{try{r(!0),await Promise.all([A(),R(),T(),D()])}catch(e){l("Failed to load notification data")}finally{r(!1)}},A=async()=>{try{const e=await el();e.ok&&o(e.notifications||[])}catch(e){console.error("Failed to fetch push notifications:",e)}},R=async()=>{try{const e=await sl();e.ok&&x(e.broadcasts||[])}catch(e){console.error("Failed to fetch email broadcasts:",e)}},T=async()=>{try{const e=await nl();e.ok&&v(e.tickets||[])}catch(e){console.error("Failed to fetch support tickets:",e)}},D=async()=>{try{const e=await ll();e.ok&&L(e.data)}catch(e){console.error("Failed to fetch analytics:",e)}},M=e=>{let{title:t,value:s,icon:r,color:n,subtitle:a}=e;return(0,Cl.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 ".concat(n),children:(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("p",{className:"text-gray-600 text-sm font-semibold mb-2 uppercase tracking-wide",children:t}),(0,Cl.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:s}),a&&(0,Cl.jsx)("p",{className:"text-gray-500 text-sm leading-relaxed",children:a})]}),(0,Cl.jsx)("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center text-white shadow-lg",children:r})]})})},O=()=>(0,Cl.jsxs)("div",{className:"space-y-6",children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Cl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Push Notifications"}),(0,Cl.jsxs)("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-2",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Cl.jsx)("span",{children:"Send Push Notification"})]})]}),(0,Cl.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:(0,Cl.jsx)("div",{className:"overflow-x-auto",children:(0,Cl.jsxs)("table",{className:"w-full",children:[(0,Cl.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,Cl.jsxs)("tr",{children:[(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Title"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Target"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Sent At"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Delivered"})]})}),(0,Cl.jsx)("tbody",{className:"divide-y divide-gray-200",children:i.map(e=>(0,Cl.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"font-semibold text-gray-900",children:e.title}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.message})]})}),(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("ALL"===e.target_type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"ALL"===e.target_type?"All Users":"Specific Users"})}),(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("SENT"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,Cl.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.sent_at).toLocaleString()}),(0,Cl.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600",children:[e.delivered_count||0," / ",e.target_count||0]})]},e.id))})]})})})]});return s?(0,Cl.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Cl.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,Cl.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Cl.jsxs)("div",{className:"mb-8",children:[(0,Cl.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notifications & Communication"}),(0,Cl.jsx)("p",{className:"text-gray-600",children:"Manage platform-wide notifications, email broadcasts, and support tickets"})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,Cl.jsx)(M,{title:"Notifications Sent",value:F.total_notifications_sent.toLocaleString(),icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4 19h6v-2H4v2zm0-4h6v-2H4v2zm0-4h6V9H4v2zm0-4h6V5H4v2zm12 0h2V5h-2v2z"})}),color:"bg-gradient-to-br from-blue-50 to-blue-100",subtitle:"Total push notifications"}),(0,Cl.jsx)(M,{title:"Email Open Rate",value:"".concat(F.email_open_rate,"%"),icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),color:"bg-gradient-to-br from-green-50 to-green-100",subtitle:"Average open rate"}),(0,Cl.jsx)(M,{title:"Push Delivery Rate",value:"".concat(F.push_delivery_rate,"%"),icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),color:"bg-gradient-to-br from-purple-50 to-purple-100",subtitle:"Successful deliveries"}),(0,Cl.jsx)(M,{title:"Active Tickets",value:F.active_tickets,icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),color:"bg-gradient-to-br from-orange-50 to-orange-100",subtitle:"Open support tickets"}),(0,Cl.jsx)(M,{title:"Resolved Tickets",value:F.resolved_tickets,icon:(0,Cl.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"bg-gradient-to-br from-emerald-50 to-emerald-100",subtitle:"Successfully resolved"})]}),n&&(0,Cl.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,Cl.jsxs)("div",{className:"flex",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5 text-red-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Cl.jsxs)("div",{className:"ml-3",children:[(0,Cl.jsx)("p",{className:"text-red-800 font-semibold",children:"Error"}),(0,Cl.jsx)("p",{className:"text-red-700",children:n})]})]})}),(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 mb-6",children:[(0,Cl.jsx)("div",{className:"border-b border-gray-200",children:(0,Cl.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"push",name:"Push Notifications",icon:"\ud83d\udcf1"},{id:"email",name:"Email Broadcasts",icon:"\ud83d\udce7"},{id:"support",name:"Support Tickets",icon:"\ud83c\udfab"}].map(s=>(0,Cl.jsxs)("button",{onClick:()=>t(s.id),className:"py-4 px-1 border-b-2 font-semibold text-sm flex items-center space-x-2 transition-colors duration-200 ".concat(e===s.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Cl.jsx)("span",{children:s.icon}),(0,Cl.jsx)("span",{children:s.name})]},s.id))})}),(0,Cl.jsx)("div",{className:"p-6",children:(()=>{switch(e){case"push":default:return O();case"email":return(0,Cl.jsxs)("div",{className:"space-y-6",children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Cl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Email Broadcasts"}),(0,Cl.jsxs)("button",{onClick:()=>f(!0),className:"bg-green-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,Cl.jsx)("span",{children:"Send Email Broadcast"})]})]}),(0,Cl.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:(0,Cl.jsx)("div",{className:"overflow-x-auto",children:(0,Cl.jsxs)("table",{className:"w-full",children:[(0,Cl.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,Cl.jsxs)("tr",{children:[(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Subject"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Type"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Target"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Sent At"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Open Rate"})]})}),(0,Cl.jsx)("tbody",{className:"divide-y divide-gray-200",children:p.map(e=>(0,Cl.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsx)("p",{className:"font-semibold text-gray-900",children:e.subject})}),(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("OFFER"===e.template_type?"bg-orange-100 text-orange-800":"UPDATE"===e.template_type?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e.template_type})}),(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("ALL"===e.target_type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"ALL"===e.target_type?"All Users":"Specific Users"})}),(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("SENT"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,Cl.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.sent_at).toLocaleString()}),(0,Cl.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-600",children:[e.open_rate||0,"%"]})]},e.id))})]})})})]});case"support":return(0,Cl.jsxs)("div",{className:"space-y-6",children:[(0,Cl.jsx)("div",{className:"flex justify-between items-center",children:(0,Cl.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Support Tickets"})}),(0,Cl.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:(0,Cl.jsx)("div",{className:"overflow-x-auto",children:(0,Cl.jsxs)("table",{className:"w-full",children:[(0,Cl.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,Cl.jsxs)("tr",{children:[(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Ticket ID"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"User"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Subject"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Status"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Priority"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Created"}),(0,Cl.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),(0,Cl.jsx)("tbody",{className:"divide-y divide-gray-200",children:y.map(e=>(0,Cl.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsxs)("p",{className:"font-mono text-sm font-semibold text-gray-900",children:["#",e.ticket_id]})}),(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"font-semibold text-gray-900",children:e.user_name}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500",children:e.user_email})]})}),(0,Cl.jsxs)("td",{className:"px-6 py-4",children:[(0,Cl.jsx)("p",{className:"font-semibold text-gray-900",children:e.subject}),(0,Cl.jsx)("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.message})]}),(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("RESOLVED"===e.status?"bg-green-100 text-green-800":"IN_PROGRESS"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})}),(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("HIGH"===e.priority?"bg-red-100 text-red-800":"MEDIUM"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.priority})}),(0,Cl.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(e.created_at).toLocaleString()}),(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsx)("button",{onClick:()=>{N(e),k(!0)},className:"bg-blue-600 text-white px-3 py-1 rounded-lg text-sm font-semibold hover:bg-blue-700 transition-colors duration-200",children:"Reply"})})]},e.ticket_id))})]})})})]})}})()})]}),c&&(0,Cl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send Push Notification"}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await tl(u);e.ok?(d(!1),m({title:"",message:"",target_type:"ALL",target_users:"",scheduled_time:"",priority:"NORMAL"}),A()):l(e.message||"Failed to send push notification")}catch(t){l("Network error. Please try again.")}},className:"space-y-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title"}),(0,Cl.jsx)("input",{type:"text",value:u.title,onChange:e=>m(Ue(Ue({},u),{},{title:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message"}),(0,Cl.jsx)("textarea",{value:u.message,onChange:e=>m(Ue(Ue({},u),{},{message:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",rows:3,required:!0})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Target"}),(0,Cl.jsxs)("select",{value:u.target_type,onChange:e=>m(Ue(Ue({},u),{},{target_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"ALL",children:"All Users"}),(0,Cl.jsx)("option",{value:"SPECIFIC",children:"Specific Users"})]})]}),"SPECIFIC"===u.target_type&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"User IDs (comma-separated)"}),(0,Cl.jsx)("input",{type:"text",value:u.target_users,onChange:e=>m(Ue(Ue({},u),{},{target_users:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",placeholder:"1,2,3,4"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Priority"}),(0,Cl.jsxs)("select",{value:u.priority,onChange:e=>m(Ue(Ue({},u),{},{priority:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"LOW",children:"Low"}),(0,Cl.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,Cl.jsx)("option",{value:"HIGH",children:"High"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Schedule (optional)"}),(0,Cl.jsx)("input",{type:"datetime-local",value:u.scheduled_time,onChange:e=>m(Ue(Ue({},u),{},{scheduled_time:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,Cl.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-6 py-3 border border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200",children:"Send Notification"})]})]})]})}),h&&(0,Cl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Cl.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send Email Broadcast"}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await rl(g);e.ok?(f(!1),b({subject:"",template_type:"OFFER",target_type:"ALL",target_users:"",scheduled_time:"",content:""}),R()):l(e.message||"Failed to send email broadcast")}catch(t){l("Network error. Please try again.")}},className:"space-y-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject"}),(0,Cl.jsx)("input",{type:"text",value:g.subject,onChange:e=>b(Ue(Ue({},g),{},{subject:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-600 focus:border-transparent text-gray-900",required:!0})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Template Type"}),(0,Cl.jsxs)("select",{value:g.template_type,onChange:e=>b(Ue(Ue({},g),{},{template_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"OFFER",children:"Special Offer"}),(0,Cl.jsx)("option",{value:"UPDATE",children:"Platform Update"}),(0,Cl.jsx)("option",{value:"POLICY",children:"Policy Change"}),(0,Cl.jsx)("option",{value:"GENERAL",children:"General Communication"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Target"}),(0,Cl.jsxs)("select",{value:g.target_type,onChange:e=>b(Ue(Ue({},g),{},{target_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"ALL",children:"All Users"}),(0,Cl.jsx)("option",{value:"SPECIFIC",children:"Specific Users"})]})]}),"SPECIFIC"===g.target_type&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"User IDs (comma-separated)"}),(0,Cl.jsx)("input",{type:"text",value:g.target_users,onChange:e=>b(Ue(Ue({},g),{},{target_users:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-600 focus:border-transparent text-gray-900",placeholder:"1,2,3,4"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Content"}),(0,Cl.jsx)("textarea",{value:g.content,onChange:e=>b(Ue(Ue({},g),{},{content:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-600 focus:border-transparent text-gray-900",rows:6,required:!0})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Schedule (optional)"}),(0,Cl.jsx)("input",{type:"datetime-local",value:g.scheduled_time,onChange:e=>b(Ue(Ue({},g),{},{scheduled_time:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-600 focus:border-transparent text-gray-900"})]}),(0,Cl.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>f(!1),className:"px-6 py-3 border border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",className:"px-6 py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition-colors duration-200",children:"Send Email"})]})]})]})}),w&&j&&(0,Cl.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Cl.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Support Ticket #",j.ticket_id]}),(0,Cl.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:"User"}),(0,Cl.jsxs)("p",{className:"text-gray-900",children:[j.user_name," (",j.user_email,")"]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:"Status"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:j.status})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:"Priority"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:j.priority})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:"Created"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:new Date(j.created_at).toLocaleString()})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Subject"}),(0,Cl.jsx)("p",{className:"text-gray-900 mb-4",children:j.subject}),(0,Cl.jsx)("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Message"}),(0,Cl.jsx)("p",{className:"text-gray-900",children:j.message})]})]}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await al(j.ticket_id,{reply_message:_,status:S});e.ok?(k(!1),C(""),N(null),T()):l(e.message||"Failed to reply to ticket")}catch(t){l("Network error. Please try again.")}},className:"space-y-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),(0,Cl.jsxs)("select",{value:S,onChange:e=>E(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"OPEN",children:"Open"}),(0,Cl.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,Cl.jsx)("option",{value:"RESOLVED",children:"Resolved"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reply Message"}),(0,Cl.jsx)("textarea",{value:_,onChange:e=>C(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",rows:6,required:!0})]}),(0,Cl.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>k(!1),className:"px-6 py-3 border border-gray-300 rounded-xl font-semibold text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200",children:"Send Reply"})]})]})]})})]})})},Oo=()=>{const[e,t]=(0,a.useState)("pages"),[s,r]=(0,a.useState)(!1),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)({slug:"",title:"",content:"",meta_title:"",meta_description:"",status:"DRAFT",is_featured:!1,sort_order:0}),[p,x]=(0,a.useState)([]),[h,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null),[y,v]=(0,a.useState)({question:"",answer:"",category:"GENERAL",status:"DRAFT",is_featured:!1,sort_order:0}),[j,N]=(0,a.useState)([]),[w,k]=(0,a.useState)(!1),[_,C]=(0,a.useState)(null),[S,E]=(0,a.useState)({title:"",description:"",image_url:"",link_url:"",button_text:"",banner_type:"HERO",position:"TOP",status:"DRAFT",is_featured:!1,sort_order:0,start_date:"",end_date:""}),[F,L]=(0,a.useState)([]),[P,A]=(0,a.useState)(!1),[R,T]=(0,a.useState)(null),[D,M]=(0,a.useState)({section_key:"",title:"",subtitle:"",description:"",content:"",section_type:"CUSTOM",status:"DRAFT",is_featured:!1,sort_order:0});(0,a.useEffect)(()=>{O()},[e]);const O=async()=>{r(!0);try{switch(e){case"pages":await I();break;case"faqs":await z();break;case"banners":await U();break;case"sections":await B()}}catch(t){console.error("Failed to load data:",t)}finally{r(!1)}},I=async()=>{try{const e=await il();e.ok&&l(e.pages||[])}catch(e){console.error("Failed to fetch static pages:",e)}},z=async()=>{try{const e=await ul();e.ok&&x(e.faqs||[])}catch(e){console.error("Failed to fetch FAQs:",e)}},U=async()=>{try{const e=await hl();e.ok&&N(e.banners||[])}catch(e){console.error("Failed to fetch banners:",e)}},B=async()=>{try{const e=await yl();e.ok&&L(e.sections||[])}catch(e){console.error("Failed to fetch featured sections:",e)}},V=e=>{switch(e){case"PUBLISHED":case"ACTIVE":return"bg-green-100 text-green-800";case"DRAFT":return"bg-yellow-100 text-yellow-800";case"INACTIVE":case"ARCHIVED":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}};return(0,Cl.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,Cl.jsxs)("div",{className:"mb-8",children:[(0,Cl.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Content Management System"}),(0,Cl.jsx)("p",{className:"text-gray-600",children:"Manage static pages, FAQs, banners, and featured sections for your app."})]}),(0,Cl.jsx)("div",{className:"mb-8",children:(0,Cl.jsx)("div",{className:"border-b border-gray-200",children:(0,Cl.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"pages",name:"Static Pages",icon:"\ud83d\udcc4"},{id:"faqs",name:"FAQs",icon:"\u2753"},{id:"banners",name:"Banners",icon:"\ud83c\udfaf"},{id:"sections",name:"Featured Sections",icon:"\u2b50"}].map(s=>(0,Cl.jsxs)("button",{onClick:()=>t(s.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(e===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Cl.jsx)("span",{className:"mr-2",children:s.icon}),s.name]},s.id))})})}),"pages"===e&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Cl.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Static Pages"}),(0,Cl.jsx)("button",{onClick:()=>{d(null),m({slug:"",title:"",content:"",meta_title:"",meta_description:"",status:"DRAFT",is_featured:!1,sort_order:0}),o(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add New Page"})]}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,Cl.jsx)("div",{className:"overflow-x-auto",children:(0,Cl.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Cl.jsx)("thead",{className:"bg-gray-50",children:(0,Cl.jsxs)("tr",{children:[(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Page"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Featured"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Cl.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s?(0,Cl.jsx)("tr",{children:(0,Cl.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"Loading pages..."})}):0===n.length?(0,Cl.jsx)("tr",{children:(0,Cl.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No pages found. Create your first page to get started."})}):n.map(e=>(0,Cl.jsxs)("tr",{children:[(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Cl.jsxs)("div",{className:"text-sm text-gray-500",children:["/",e.slug]})]})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Cl.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(V(e.status)),children:e.status})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.is_featured?(0,Cl.jsx)("span",{className:"text-yellow-500",children:"\u2b50"}):(0,Cl.jsx)("span",{className:"text-gray-300",children:"\u2606"})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.updated_at).toLocaleDateString()}),(0,Cl.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,Cl.jsx)("button",{onClick:()=>(e=>{d(e),m(e),o(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,Cl.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this page?"))try{await dl(e),await I()}catch(t){console.error("Failed to delete page:",t)}})(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})})]}),"faqs"===e&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Cl.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Frequently Asked Questions"}),(0,Cl.jsx)("button",{onClick:()=>{b(null),v({question:"",answer:"",category:"GENERAL",status:"DRAFT",is_featured:!1,sort_order:0}),f(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add New FAQ"})]}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,Cl.jsx)("div",{className:"overflow-x-auto",children:(0,Cl.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Cl.jsx)("thead",{className:"bg-gray-50",children:(0,Cl.jsxs)("tr",{children:[(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Question"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Cl.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s?(0,Cl.jsx)("tr",{children:(0,Cl.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"Loading FAQs..."})}):0===p.length?(0,Cl.jsx)("tr",{children:(0,Cl.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No FAQs found. Create your first FAQ to get started."})}):p.map(e=>(0,Cl.jsxs)("tr",{children:[(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.question}),e.is_featured&&(0,Cl.jsx)("span",{className:"text-yellow-500",children:"\u2b50"})]})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Cl.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:e.category})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Cl.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(V(e.status)),children:e.status})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.view_count||0}),(0,Cl.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,Cl.jsx)("button",{onClick:()=>(e=>{b(e),v(e),f(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,Cl.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this FAQ?"))try{await xl(e),await z()}catch(t){console.error("Failed to delete FAQ:",t)}})(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})})]}),"banners"===e&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Cl.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Banners & Promotions"}),(0,Cl.jsx)("button",{onClick:()=>{C(null),E({title:"",description:"",image_url:"",link_url:"",button_text:"",banner_type:"HERO",position:"TOP",status:"DRAFT",is_featured:!1,sort_order:0,start_date:"",end_date:""}),k(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add New Banner"})]}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,Cl.jsx)("div",{className:"overflow-x-auto",children:(0,Cl.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Cl.jsx)("thead",{className:"bg-gray-50",children:(0,Cl.jsxs)("tr",{children:[(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Banner"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clicks"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Cl.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s?(0,Cl.jsx)("tr",{children:(0,Cl.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"Loading banners..."})}):0===j.length?(0,Cl.jsx)("tr",{children:(0,Cl.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No banners found. Create your first banner to get started."})}):j.map(e=>(0,Cl.jsxs)("tr",{children:[(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsxs)("div",{className:"flex items-center",children:[e.image_url&&(0,Cl.jsx)("img",{src:e.image_url,alt:e.title,className:"h-12 w-12 rounded-lg object-cover mr-3"}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Cl.jsx)("div",{className:"text-sm text-gray-500",children:e.description}),e.is_featured&&(0,Cl.jsx)("span",{className:"text-yellow-500",children:"\u2b50"})]})]})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Cl.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:e.banner_type})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Cl.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:e.position})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Cl.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(V(e.status)),children:e.status})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.click_count||0}),(0,Cl.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,Cl.jsx)("button",{onClick:()=>(e=>{C(e),E(e),k(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,Cl.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this banner?"))try{await bl(e),await U()}catch(t){console.error("Failed to delete banner:",t)}})(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})})]}),"sections"===e&&(0,Cl.jsxs)("div",{children:[(0,Cl.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Cl.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Featured Sections"}),(0,Cl.jsx)("button",{onClick:()=>{T(null),M({section_key:"",title:"",subtitle:"",description:"",content:"",section_type:"CUSTOM",status:"DRAFT",is_featured:!1,sort_order:0}),A(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add New Section"})]}),(0,Cl.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,Cl.jsx)("div",{className:"overflow-x-auto",children:(0,Cl.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Cl.jsx)("thead",{className:"bg-gray-50",children:(0,Cl.jsxs)("tr",{children:[(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Section"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),(0,Cl.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Cl.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s?(0,Cl.jsx)("tr",{children:(0,Cl.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"Loading sections..."})}):0===F.length?(0,Cl.jsx)("tr",{children:(0,Cl.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No sections found. Create your first section to get started."})}):F.map(e=>(0,Cl.jsxs)("tr",{children:[(0,Cl.jsx)("td",{className:"px-6 py-4",children:(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,Cl.jsx)("div",{className:"text-sm text-gray-500",children:e.section_key}),e.is_featured&&(0,Cl.jsx)("span",{className:"text-yellow-500",children:"\u2b50"})]})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Cl.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-800",children:e.section_type})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Cl.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(V(e.status)),children:e.status})}),(0,Cl.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.sort_order}),(0,Cl.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,Cl.jsx)("button",{onClick:()=>(e=>{T(e),M(e),A(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,Cl.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this section?"))try{await Nl(e),await B()}catch(t){console.error("Failed to delete section:",t)}})(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})})]}),i&&(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Cl.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:(0,Cl.jsxs)("div",{className:"mt-3",children:[(0,Cl.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:c?"Edit Page":"Create New Page"}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{c?await cl(c.id,u):await ol(u),o(!1),d(null),m({slug:"",title:"",content:"",meta_title:"",meta_description:"",status:"DRAFT",is_featured:!1,sort_order:0}),await I()}catch(t){console.error("Failed to save page:",t)}finally{r(!1)}},className:"space-y-4",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),(0,Cl.jsx)("input",{type:"text",value:u.slug,onChange:e=>m(Ue(Ue({},u),{},{slug:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,Cl.jsx)("input",{type:"text",value:u.title,onChange:e=>m(Ue(Ue({},u),{},{title:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),(0,Cl.jsx)("textarea",{value:u.content,onChange:e=>m(Ue(Ue({},u),{},{content:e.target.value})),rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Title"}),(0,Cl.jsx)("input",{type:"text",value:u.meta_title,onChange:e=>m(Ue(Ue({},u),{},{meta_title:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Cl.jsxs)("select",{value:u.status,onChange:e=>m(Ue(Ue({},u),{},{status:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,Cl.jsx)("option",{value:"PUBLISHED",children:"Published"}),(0,Cl.jsx)("option",{value:"ARCHIVED",children:"Archived"})]})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Description"}),(0,Cl.jsx)("textarea",{value:u.meta_description,onChange:e=>m(Ue(Ue({},u),{},{meta_description:e.target.value})),rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("input",{type:"checkbox",checked:u.is_featured,onChange:e=>m(Ue(Ue({},u),{},{is_featured:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Cl.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Featured"})]}),(0,Cl.jsxs)("div",{className:"flex space-x-3",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:s?"Saving...":c?"Update Page":"Create Page"})]})]})]})]})})}),h&&(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Cl.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:(0,Cl.jsxs)("div",{className:"mt-3",children:[(0,Cl.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:g?"Edit FAQ":"Create New FAQ"}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{g?await pl(g.id,y):await ml(y),f(!1),b(null),v({question:"",answer:"",category:"GENERAL",status:"DRAFT",is_featured:!1,sort_order:0}),await z()}catch(t){console.error("Failed to save FAQ:",t)}finally{r(!1)}},className:"space-y-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question"}),(0,Cl.jsx)("input",{type:"text",value:y.question,onChange:e=>v(Ue(Ue({},y),{},{question:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer"}),(0,Cl.jsx)("textarea",{value:y.answer,onChange:e=>v(Ue(Ue({},y),{},{answer:e.target.value})),rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),(0,Cl.jsxs)("select",{value:y.category,onChange:e=>v(Ue(Ue({},y),{},{category:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"GENERAL",children:"General"}),(0,Cl.jsx)("option",{value:"ACCOUNT",children:"Account"}),(0,Cl.jsx)("option",{value:"PAYMENT",children:"Payment"}),(0,Cl.jsx)("option",{value:"TECHNICAL",children:"Technical"}),(0,Cl.jsx)("option",{value:"BILLING",children:"Billing"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Cl.jsxs)("select",{value:y.status,onChange:e=>v(Ue(Ue({},y),{},{status:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,Cl.jsx)("option",{value:"PUBLISHED",children:"Published"}),(0,Cl.jsx)("option",{value:"ARCHIVED",children:"Archived"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),(0,Cl.jsx)("input",{type:"number",value:y.sort_order,onChange:e=>v(Ue(Ue({},y),{},{sort_order:parseInt(e.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("input",{type:"checkbox",checked:y.is_featured,onChange:e=>v(Ue(Ue({},y),{},{is_featured:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Cl.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Featured"})]}),(0,Cl.jsxs)("div",{className:"flex space-x-3",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:s?"Saving...":g?"Update FAQ":"Create FAQ"})]})]})]})]})})}),w&&(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Cl.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:(0,Cl.jsxs)("div",{className:"mt-3",children:[(0,Cl.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:_?"Edit Banner":"Create New Banner"}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{_?await gl(_.id,S):await fl(S),k(!1),C(null),E({title:"",description:"",image_url:"",link_url:"",button_text:"",banner_type:"HERO",position:"TOP",status:"DRAFT",is_featured:!1,sort_order:0,start_date:"",end_date:""}),await U()}catch(t){console.error("Failed to save banner:",t)}finally{r(!1)}},className:"space-y-4",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,Cl.jsx)("input",{type:"text",value:S.title,onChange:e=>E(Ue(Ue({},S),{},{title:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banner Type"}),(0,Cl.jsxs)("select",{value:S.banner_type,onChange:e=>E(Ue(Ue({},S),{},{banner_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"HERO",children:"Hero"}),(0,Cl.jsx)("option",{value:"PROMOTION",children:"Promotion"}),(0,Cl.jsx)("option",{value:"ANNOUNCEMENT",children:"Announcement"}),(0,Cl.jsx)("option",{value:"FEATURE",children:"Feature"})]})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Cl.jsx)("textarea",{value:S.description,onChange:e=>E(Ue(Ue({},S),{},{description:e.target.value})),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),(0,Cl.jsx)("input",{type:"url",value:S.image_url,onChange:e=>E(Ue(Ue({},S),{},{image_url:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link URL"}),(0,Cl.jsx)("input",{type:"url",value:S.link_url,onChange:e=>E(Ue(Ue({},S),{},{link_url:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Text"}),(0,Cl.jsx)("input",{type:"text",value:S.button_text,onChange:e=>E(Ue(Ue({},S),{},{button_text:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,Cl.jsxs)("select",{value:S.position,onChange:e=>E(Ue(Ue({},S),{},{position:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"TOP",children:"Top"}),(0,Cl.jsx)("option",{value:"MIDDLE",children:"Middle"}),(0,Cl.jsx)("option",{value:"BOTTOM",children:"Bottom"}),(0,Cl.jsx)("option",{value:"SIDEBAR",children:"Sidebar"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Cl.jsxs)("select",{value:S.status,onChange:e=>E(Ue(Ue({},S),{},{status:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,Cl.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Cl.jsx)("option",{value:"INACTIVE",children:"Inactive"}),(0,Cl.jsx)("option",{value:"ARCHIVED",children:"Archived"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),(0,Cl.jsx)("input",{type:"number",value:S.sort_order,onChange:e=>E(Ue(Ue({},S),{},{sort_order:parseInt(e.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,Cl.jsx)("input",{type:"datetime-local",value:S.start_date,onChange:e=>E(Ue(Ue({},S),{},{start_date:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,Cl.jsx)("input",{type:"datetime-local",value:S.end_date,onChange:e=>E(Ue(Ue({},S),{},{end_date:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("input",{type:"checkbox",checked:S.is_featured,onChange:e=>E(Ue(Ue({},S),{},{is_featured:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Cl.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Featured"})]}),(0,Cl.jsxs)("div",{className:"flex space-x-3",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:s?"Saving...":_?"Update Banner":"Create Banner"})]})]})]})]})})}),P&&(0,Cl.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Cl.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white",children:(0,Cl.jsxs)("div",{className:"mt-3",children:[(0,Cl.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:R?"Edit Section":"Create New Section"}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(!0);try{R?await jl(R.id,D):await vl(D),A(!1),T(null),M({section_key:"",title:"",subtitle:"",description:"",content:"",section_type:"CUSTOM",status:"DRAFT",is_featured:!1,sort_order:0}),await B()}catch(t){console.error("Failed to save section:",t)}finally{r(!1)}},className:"space-y-4",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Key"}),(0,Cl.jsx)("input",{type:"text",value:D.section_key,onChange:e=>M(Ue(Ue({},D),{},{section_key:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,Cl.jsx)("input",{type:"text",value:D.title,onChange:e=>M(Ue(Ue({},D),{},{title:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",required:!0})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtitle"}),(0,Cl.jsx)("input",{type:"text",value:D.subtitle,onChange:e=>M(Ue(Ue({},D),{},{subtitle:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Cl.jsx)("textarea",{value:D.description,onChange:e=>M(Ue(Ue({},D),{},{description:e.target.value})),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content (JSON)"}),(0,Cl.jsx)("textarea",{value:D.content,onChange:e=>M(Ue(Ue({},D),{},{content:e.target.value})),rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900 font-mono text-sm",placeholder:'{"key": "value", "items": []}'})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Type"}),(0,Cl.jsxs)("select",{value:D.section_type,onChange:e=>M(Ue(Ue({},D),{},{section_type:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"HERO",children:"Hero"}),(0,Cl.jsx)("option",{value:"CATEGORY",children:"Category"}),(0,Cl.jsx)("option",{value:"PROMOTION",children:"Promotion"}),(0,Cl.jsx)("option",{value:"TESTIMONIAL",children:"Testimonial"}),(0,Cl.jsx)("option",{value:"FEATURE",children:"Feature"}),(0,Cl.jsx)("option",{value:"CUSTOM",children:"Custom"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Cl.jsxs)("select",{value:D.status,onChange:e=>M(Ue(Ue({},D),{},{status:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900",children:[(0,Cl.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,Cl.jsx)("option",{value:"ACTIVE",children:"Active"}),(0,Cl.jsx)("option",{value:"INACTIVE",children:"Inactive"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort Order"}),(0,Cl.jsx)("input",{type:"number",value:D.sort_order,onChange:e=>M(Ue(Ue({},D),{},{sort_order:parseInt(e.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-600 focus:border-transparent text-gray-900"})]})]}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{className:"flex items-center",children:[(0,Cl.jsx)("input",{type:"checkbox",checked:D.is_featured,onChange:e=>M(Ue(Ue({},D),{},{is_featured:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Cl.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"Featured"})]}),(0,Cl.jsxs)("div",{className:"flex space-x-3",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>A(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:s?"Saving...":R?"Update Section":"Create Section"})]})]})]})]})})})]})},Io=e=>{let{userType:t="influencer",onSuccess:s}=e;const[r,n]=(0,a.useState)({product_name:"",description:"",price:"",video_url:"",thumbnail_url:"",category_id:"",video_category:"USER_CONTENT",business_name:"",business_address:"",gst:"",handle_address:""}),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)([]);a.useEffect(()=>{d()},[]);const d=async()=>{try{const e=await aa.getCategories();e.ok&&c(e.data||[])}catch(e){console.error("Failed to load categories:",e)}},u=e=>{const{name:t,value:s}=e.target;n(e=>Ue(Ue({},e),{},{[t]:s}))};return(0,Cl.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,Cl.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-6",children:[(0,Cl.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"brand"===t?"Brand Video Upload Request":"Influencer Video Upload Request"}),(0,Cl.jsx)("p",{className:"text-blue-100",children:"Submit your video for review and approval by our admin team"})]}),(0,Cl.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=["product_name","description","price","video_url","category_id"];for(const s of t)if(!r[s])return void Pt.error("".concat(s.replace("_"," ")," is required"));try{i(!0);const e=await aa.submitVideoUploadRequest(r);e.ok?(Pt.success("Video upload request submitted successfully!"),n({product_name:"",description:"",price:"",video_url:"",thumbnail_url:"",category_id:"",video_category:"USER_CONTENT",business_name:"",business_address:"",gst:"",handle_address:""}),s&&s()):Pt.error(e.message||"Failed to submit video upload request")}catch(a){Pt.error("Network error. Please try again.")}finally{i(!1)}},className:"p-8 space-y-6",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Title *"}),(0,Cl.jsx)("input",{type:"text",name:"product_name",value:r.product_name,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter video title",required:!0})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),(0,Cl.jsx)("input",{type:"number",name:"price",value:r.price,onChange:u,min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter price",required:!0})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Description *"}),(0,Cl.jsx)("textarea",{name:"description",value:r.description,onChange:u,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe your video content",required:!0})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video URL *"}),(0,Cl.jsx)("input",{type:"url",name:"video_url",value:r.video_url,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/video.mp4",required:!0})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thumbnail URL"}),(0,Cl.jsx)("input",{type:"url",name:"thumbnail_url",value:r.thumbnail_url,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com/thumbnail.jpg"})]})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,Cl.jsxs)("select",{name:"category_id",value:r.category_id,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,Cl.jsx)("option",{value:"",children:"Select a category"}),o.map(e=>(0,Cl.jsx)("option",{value:e.category_id,children:e.category_name},e.category_id))]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Type"}),(0,Cl.jsxs)("select",{name:"video_category",value:r.video_category,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Cl.jsx)("option",{value:"USER_CONTENT",children:"User Content"}),(0,Cl.jsx)("option",{value:"PROMOTION",children:"Promotion"}),(0,Cl.jsx)("option",{value:"BRAND_ADS",children:"Brand Ads"}),(0,Cl.jsx)("option",{value:"PLATFORM_PROMO",children:"Platform Promo"})]})]})]}),"brand"===t&&(0,Cl.jsxs)("div",{className:"border-t pt-6",children:[(0,Cl.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Information"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),(0,Cl.jsx)("input",{type:"text",name:"business_name",value:r.business_name,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Your business name"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),(0,Cl.jsx)("input",{type:"text",name:"gst",value:r.gst,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"GST number"})]})]}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),(0,Cl.jsx)("textarea",{name:"business_address",value:r.business_address,onChange:u,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Business address"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Handle Address"}),(0,Cl.jsx)("input",{type:"text",name:"handle_address",value:r.handle_address,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Social media handle"})]})]})]}),(0,Cl.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,Cl.jsxs)("div",{className:"flex items-start",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Review Process"}),(0,Cl.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"Your video upload request will be reviewed by our admin team. You will receive a notification once it's approved or if any changes are needed."})]})]})}),(0,Cl.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",disabled:l,className:"bg-blue-600 text-white px-8 py-3 rounded-xl hover:bg-blue-700 transition-colors font-semibold disabled:opacity-50 flex items-center space-x-2",children:l?(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,Cl.jsx)("span",{children:"Submitting..."})]}):(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),(0,Cl.jsx)("span",{children:"Submit Request"})]})})]})]})]})})},zo=()=>(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Cl.jsx)("div",{className:"container mx-auto py-8 pb-32 sm:pb-24",children:(0,Cl.jsx)(Io,{userType:"influencer",onSuccess:()=>{console.log("Influencer video request submitted successfully")}})})}),Uo=()=>(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Cl.jsx)("div",{className:"container mx-auto py-8 pb-32 sm:pb-24",children:(0,Cl.jsx)(Io,{userType:"brand",onSuccess:()=>{console.log("Brand video request submitted successfully")}})})}),Bo=()=>{const[e,t]=(0,a.useState)({submission_type:"POST",platform:"INSTAGRAM",content_url:"",content_description:"",screenshot_url:"",engagement_metrics:{likes:"",comments:"",shares:"",reach:""}}),[s,r]=(0,a.useState)(!1),n=e=>{const{name:s,value:r}=e.target;t(e=>Ue(Ue({},e),{},{[s]:r}))},l=e=>{const{name:s,value:r}=e.target;t(e=>Ue(Ue({},e),{},{engagement_metrics:Ue(Ue({},e.engagement_metrics),{},{[s]:r})}))};return(0,Cl.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Cl.jsx)("div",{className:"max-w-4xl mx-auto p-6 pb-32 sm:pb-24",children:(0,Cl.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,Cl.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-8 py-6",children:[(0,Cl.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Submit Promotion for Review"}),(0,Cl.jsx)("p",{className:"text-purple-100",children:"Submit your GetNayi platform promotion for admin review and potential concessions"})]}),(0,Cl.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const n=["content_url","content_description"];for(const t of n)if(!e[t])return void Pt.error("".concat(t.replace("_"," ")," is required"));try{r(!0);const s=await aa.submitPromotion(e);s.ok?(Pt.success("Promotion submission sent successfully!"),t({submission_type:"POST",platform:"INSTAGRAM",content_url:"",content_description:"",screenshot_url:"",engagement_metrics:{likes:"",comments:"",shares:"",reach:""}})):Pt.error(s.message||"Failed to submit promotion")}catch(a){Pt.error("Network error. Please try again.")}finally{r(!1)}},className:"p-8 space-y-6",children:[(0,Cl.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Type *"}),(0,Cl.jsxs)("select",{name:"submission_type",value:e.submission_type,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[(0,Cl.jsx)("option",{value:"POST",children:"Post"}),(0,Cl.jsx)("option",{value:"VIDEO",children:"Video"}),(0,Cl.jsx)("option",{value:"STORY",children:"Story"}),(0,Cl.jsx)("option",{value:"REEL",children:"Reel"})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform *"}),(0,Cl.jsxs)("select",{name:"platform",value:e.platform,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0,children:[(0,Cl.jsx)("option",{value:"INSTAGRAM",children:"Instagram"}),(0,Cl.jsx)("option",{value:"FACEBOOK",children:"Facebook"}),(0,Cl.jsx)("option",{value:"TWITTER",children:"Twitter"}),(0,Cl.jsx)("option",{value:"TIKTOK",children:"TikTok"}),(0,Cl.jsx)("option",{value:"YOUTUBE",children:"YouTube"}),(0,Cl.jsx)("option",{value:"LINKEDIN",children:"LinkedIn"}),(0,Cl.jsx)("option",{value:"OTHER",children:"Other"})]})]})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content URL *"}),(0,Cl.jsx)("input",{type:"url",name:"content_url",value:e.content_url,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://instagram.com/p/your-post",required:!0})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Description *"}),(0,Cl.jsx)("textarea",{name:"content_description",value:e.content_description,onChange:n,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Describe your promotion content and how it mentions GetNayi platform...",required:!0})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Screenshot URL (Optional)"}),(0,Cl.jsx)("input",{type:"url",name:"screenshot_url",value:e.screenshot_url,onChange:n,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://example.com/screenshot.jpg"})]}),(0,Cl.jsxs)("div",{className:"border-t pt-6",children:[(0,Cl.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Engagement Metrics (Optional)"}),(0,Cl.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Likes"}),(0,Cl.jsx)("input",{type:"number",name:"likes",value:e.engagement_metrics.likes,onChange:l,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"0"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),(0,Cl.jsx)("input",{type:"number",name:"comments",value:e.engagement_metrics.comments,onChange:l,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"0"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shares"}),(0,Cl.jsx)("input",{type:"number",name:"shares",value:e.engagement_metrics.shares,onChange:l,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"0"})]}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reach"}),(0,Cl.jsx)("input",{type:"number",name:"reach",value:e.engagement_metrics.reach,onChange:l,min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"0"})]})]})]}),(0,Cl.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4",children:(0,Cl.jsxs)("div",{className:"flex items-start",children:[(0,Cl.jsx)("svg",{className:"w-5 h-5 text-purple-600 mt-0.5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("h4",{className:"text-sm font-medium text-purple-900",children:"Review Process"}),(0,Cl.jsx)("p",{className:"text-sm text-purple-700 mt-1",children:"Your promotion submission will be reviewed by our admin team. If approved, you may receive concessions on your next billing cycle. Please ensure your content genuinely promotes the GetNayi platform."})]})]})}),(0,Cl.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[(0,Cl.jsx)("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,Cl.jsx)("button",{type:"submit",disabled:s,className:"bg-purple-600 text-white px-8 py-3 rounded-xl hover:bg-purple-700 transition-colors font-semibold disabled:opacity-50 flex items-center space-x-2",children:s?(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,Cl.jsx)("span",{children:"Submitting..."})]}):(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Cl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),(0,Cl.jsx)("span",{children:"Submit for Review"})]})})]})]})]})})})},Vo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("number"===typeof e)return e;if("string"===typeof e&&""!==e.trim()){const s=Number(e);return Number.isNaN(s)?t:s}return t},Wo=e=>{const t=Vo(e);return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},qo=e=>{const t=(e=>{if(null===e||void 0===e||!e.features)return{};try{return"string"===typeof e.features?JSON.parse(e.features):e.features}catch(t){return console.warn("Failed to parse plan features",t),{}}})(e),s=[];return t.videos_per_month&&s.push("".concat(t.videos_per_month,"+ AI-powered video listings each month")),t.storage_gb&&s.push("".concat(t.storage_gb,"GB hosted storage for your media")),t.support&&s.push("".concat(String(t.support).charAt(0).toUpperCase()).concat(String(t.support).slice(1)," support channel")),t.team_members&&s.push("Seat access for ".concat(t.team_members," team member").concat(t.team_members>1?"s":"")),s},Ho=e=>{if(null===e||void 0===e||!e.duration_days)return"Flexible duration";if(365===e.duration_days||"YEARLY"===e.plan_type)return"Yearly";if(e.duration_days%30===0||"MONTHLY"===e.plan_type){const t=e.duration_days/30;return t<=1?"Monthly":"".concat(t," months")}return"".concat(e.duration_days," days")},Go=()=>{var e,t;const s=te(),r=Z(),[n,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[p,x]=(0,a.useState)(!1),[h,f]=(0,a.useState)(""),[g,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)({applied:!1,discountAmount:0,finalPrice:null,message:"",coupon:null,planId:null}),[j,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{w(),k()},[]);const w=async()=>{try{o(!0);const t=await Oa();var e;if(t.ok)l(((null===(e=t.data)||void 0===e?void 0:e.plans)||[]).filter(e=>e.is_active));else l([])}catch(t){console.error("Failed to fetch subscription plans:",t),Pt.error("Unable to load subscription plans right now")}finally{o(!1)}},k=async()=>{try{const e=await Zn();d((null===e||void 0===e?void 0:e.subscription)||e||null)}catch(e){console.error("Failed to fetch subscription status:",e)}},_=(0,a.useMemo)(()=>{if(null===c||void 0===c||!c.is_subscribed)return"Free Creator Plan";return(null===c||void 0===c?void 0:c.plan_name)||"Premium Plan"},[c]),C=()=>{f(""),v({applied:!1,discountAmount:0,finalPrice:null,message:"",coupon:null,planId:null})},S=(0,a.useMemo)(()=>{if(null===u||void 0===u||!u.duration_days)return null;const e=u.duration_days,t=new Date;return t.setDate(t.getDate()+e),t.toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})},[u]),E=(0,a.useMemo)(()=>u?qo(u):[],[u]);return(0,Cl.jsxs)("div",{className:"min-h-screen bg-[#F8F7FD] text-gray-900",children:[(0,Cl.jsx)("header",{className:"sticky top-0 z-20 bg-white border-b border-gray-100",children:(0,Cl.jsxs)("div",{className:"max-w-xl mx-auto flex items-center gap-3 px-4 py-3",children:[(0,Cl.jsx)("button",{onClick:()=>s(-1),className:"p-2 rounded-full border border-gray-200 text-gray-700 hover:bg-gray-50 transition","aria-label":"Go back",children:(0,Cl.jsx)(oi,{className:"w-5 h-5"})}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Subscription"}),(0,Cl.jsx)("h1",{className:"text-lg font-semibold text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:"Upgrade plan"})]}),(0,Cl.jsxs)("div",{className:"ml-auto flex items-center gap-2 text-xs text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:[(0,Cl.jsx)(qi,{className:"w-4 h-4 text-[#6C4DFF]"}),"Secure"]})]})}),(0,Cl.jsxs)("main",{className:"max-w-xl mx-auto px-4 py-5 pb-28 space-y-6",children:[(0,Cl.jsx)("section",{className:"rounded-2xl bg-gradient-to-r from-[#F7ECFF] to-[#E4E4FF] border border-white shadow-sm p-4",children:(0,Cl.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Cl.jsx)("div",{className:"p-2 rounded-xl bg-white shadow-sm",children:(0,Cl.jsx)(Wl,{className:"w-5 h-5 text-[#6C4DFF]"})}),(0,Cl.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,Cl.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Current plan"}),(0,Cl.jsx)("h2",{className:"text-xl font-semibold text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:_}),(0,Cl.jsx)("p",{className:"text-sm text-gray-600 leading-5",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Unlock more uploads, insights, and placement boosts by choosing a plan that fits your cadence."}),(0,Cl.jsxs)("div",{className:"flex items-center gap-2 text-sm text-emerald-600 font-medium pt-1",style:{fontFamily:"Inter, Poppins, sans-serif"},children:[(0,Cl.jsx)(wi,{className:"w-4 h-4"}),null!==c&&void 0!==c&&c.is_subscribed?"Premium active":"Free plan active"]}),(null===c||void 0===c?void 0:c.expires_at)&&(0,Cl.jsxs)("p",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:["Renews on"," ",(0,Cl.jsx)("span",{className:"font-medium text-gray-700",children:new Date(c.expires_at).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})})]})]})]})}),(0,Cl.jsxs)("section",{className:"space-y-3",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Plans for every creator"}),(0,Cl.jsx)("h3",{className:"text-lg font-semibold text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:"Pick your growth pace"})]}),(null===(e=r.state)||void 0===e?void 0:e.from)&&(0,Cl.jsxs)("span",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:["From ",r.state.from.replace("-"," ")]})]}),i?(0,Cl.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,Cl.jsx)("div",{className:"h-28 rounded-2xl bg-white shadow-sm animate-pulse border border-gray-100"},e))}):(0,Cl.jsxs)("div",{className:"space-y-3",children:[n.map(e=>{var t;const s=qo(e).slice(0,2);return(0,Cl.jsxs)("button",{onClick:()=>(e=>{m(e),C(),x(!0)})(e),className:"w-full text-left rounded-2xl bg-white border border-gray-100 shadow-sm px-4 py-4 active:scale-[0.99] transition",children:[(0,Cl.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,Cl.jsxs)("div",{className:"flex-1",children:[(0,Cl.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"influencer"===(null===(t=e.plan_type)||void 0===t?void 0:t.toLowerCase())?"Influencer":Ho(e)}),(0,Cl.jsx)("h4",{className:"text-lg font-semibold text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:e.plan_name}),e.plan_description&&(0,Cl.jsx)("p",{className:"text-xs text-gray-500 mt-1 leading-4",style:{fontFamily:"Inter, Poppins, sans-serif"},children:e.plan_description})]}),(0,Cl.jsx)(eo,{className:"w-5 h-5 text-[#FFC361]"})]}),(0,Cl.jsxs)("p",{className:"text-2xl font-semibold text-gray-900 mt-3",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:[Wo(e.price),(0,Cl.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-1",style:{fontFamily:"Inter, Poppins, sans-serif"},children:["/ ",Ho(e).toLowerCase()]})]}),s.length>0&&(0,Cl.jsx)("ul",{className:"mt-3 space-y-1.5",children:s.map(e=>(0,Cl.jsxs)("li",{className:"flex items-center gap-2 text-sm text-gray-600",style:{fontFamily:"Inter, Poppins, sans-serif"},children:[(0,Cl.jsx)(di,{className:"w-4 h-4 text-emerald-500"}),e]},e))}),(0,Cl.jsxs)("div",{className:"flex items-center justify-between mt-3 text-xs text-[#6C4DFF]",style:{fontFamily:"Inter, Poppins, sans-serif"},children:[(0,Cl.jsx)("span",{children:"Tap to view details"}),(0,Cl.jsx)(ei,{className:"w-4 h-4"})]})]},e.plan_id)}),0===n.length&&(0,Cl.jsx)("div",{className:"rounded-2xl bg-white border border-dashed border-gray-200 p-6 text-center text-sm text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"No active plans available right now."})]})]})]}),p&&u&&(0,Cl.jsxs)(Cl.Fragment,{children:[(0,Cl.jsx)("div",{className:"fixed inset-0 bg-black/60 z-40",onClick:()=>x(!1)}),(0,Cl.jsx)("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center px-4 pt-10 pb-8",children:(0,Cl.jsxs)("div",{className:"w-full max-w-md rounded-3xl bg-white shadow-2xl border border-gray-100 px-5 pt-4 pb-10 space-y-4 max-h-[85vh] overflow-y-auto scrollbar-hide translate-y-[-16px] safe-bottom",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-[11px] uppercase tracking-wide text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Plan detail"}),(0,Cl.jsx)("h4",{className:"text-xl font-semibold text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:u.plan_name}),u.plan_description&&(0,Cl.jsx)("p",{className:"text-xs text-gray-500 mt-1 leading-4",style:{fontFamily:"Inter, Poppins, sans-serif"},children:u.plan_description}),(0,Cl.jsxs)("div",{className:"flex flex-wrap gap-2 text-[11px] uppercase tracking-wide text-gray-400 mt-2",style:{fontFamily:"Inter, Poppins, sans-serif"},children:[(0,Cl.jsx)("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:u.plan_type||"Custom"}),(0,Cl.jsxs)("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:[u.duration_days," days"]})]})]}),(0,Cl.jsx)("button",{onClick:()=>x(!1),className:"p-2 rounded-full border border-gray-200 text-gray-600","aria-label":"Close",children:(0,Cl.jsx)(Xl,{className:"w-4 h-4"})})]}),(0,Cl.jsxs)("div",{className:"space-y-2 border border-gray-100 rounded-2xl p-4",children:[(0,Cl.jsx)("p",{className:"text-xs uppercase text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Price"}),(0,Cl.jsx)("p",{className:"text-2xl font-semibold text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:Wo((e=>{var t;if(!e)return 0;const s=Vo(e.price);return y.applied&&y.planId===e.plan_id?Vo(null!==(t=y.finalPrice)&&void 0!==t?t:s):s})(u))}),(0,Cl.jsxs)("p",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:["Billed ","yearly"===(null===(t=u.plan_type)||void 0===t?void 0:t.toLowerCase())?"yearly":"every ".concat(Ho(u).toLowerCase())]}),y.applied&&y.planId===u.plan_id&&(0,Cl.jsxs)("div",{className:"space-y-1",children:[(0,Cl.jsx)("p",{className:"text-xs text-emerald-600",style:{fontFamily:"Inter, Poppins, sans-serif"},children:y.message||"You save ".concat(Wo(y.discountAmount||0))}),(0,Cl.jsxs)("p",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:["Saved ",Wo(y.discountAmount||0)," on this plan"]})]})]}),(0,Cl.jsxs)("div",{className:"space-y-2 border border-gray-100 rounded-2xl p-4",children:[(0,Cl.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Cl.jsx)(Oi,{className:"w-4 h-4 text-gray-500"}),(0,Cl.jsxs)("div",{children:[(0,Cl.jsx)("p",{className:"text-xs uppercase text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Deactivation date"}),(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-800",style:{fontFamily:"Inter, Poppins, sans-serif"},children:S||"Calculated automatically"})]})]}),(0,Cl.jsx)("p",{className:"text-xs text-gray-500",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Renewals are handled instantly with support ready to help within 7 days."})]}),E.length>0&&(0,Cl.jsxs)("div",{className:"border border-gray-100 rounded-2xl p-4 space-y-3 bg-gray-50/60",children:[(0,Cl.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Benefits"}),(0,Cl.jsx)("div",{className:"grid gap-2",children:E.map(e=>(0,Cl.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",style:{fontFamily:"Inter, Poppins, sans-serif"},children:[(0,Cl.jsx)(di,{className:"w-4 h-4 text-emerald-500"}),(0,Cl.jsx)("span",{className:"flex-1 leading-tight",children:e})]},e))})]}),(0,Cl.jsxs)("div",{className:"space-y-3 border border-gray-100 rounded-2xl p-4",children:[(0,Cl.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Cl.jsx)("p",{className:"text-sm font-medium text-gray-900",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:"Apply coupon"}),y.applied&&(0,Cl.jsx)("button",{onClick:C,className:"text-xs text-[#6C4DFF]",type:"button",style:{fontFamily:"Inter, Poppins, sans-serif"},children:"Remove"})]}),(0,Cl.jsxs)("div",{className:"flex gap-2",children:[(0,Cl.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:"Creator code",className:"flex-1 rounded-xl border border-gray-200 px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-[#6C4DFF]",style:{fontFamily:"Inter, Poppins, sans-serif"}}),(0,Cl.jsx)("button",{type:"button",onClick:async()=>{if(!u)return void Pt.error("Select a plan to apply coupon");const e=h.trim().toUpperCase();if(e){b(!0);try{const t=await ta({coupon_code:e,plan_id:u.plan_id,plan_price:Vo(u.price)});f(e),v({applied:!0,discountAmount:t.discount_amount,finalPrice:t.final_price,message:t.message||"".concat(e," applied"),coupon:t.coupon,planId:u.plan_id}),Pt.success(t.message||"Coupon applied successfully")}catch(r){var t,s;const e=(null===(t=r.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Coupon code is not valid";v({applied:!1,discountAmount:0,finalPrice:null,message:e,coupon:null,planId:null}),Pt.error(e)}finally{b(!1)}}else v(e=>Ue(Ue({},e),{},{applied:!1,message:"Enter a coupon code to apply discounts"}))},disabled:g,className:"px-4 py-2.5 rounded-xl bg-[#6C4DFF] text-white text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:g?"Checking\u2026":"Apply"})]}),y.message&&(0,Cl.jsx)("p",{className:"text-xs ".concat(y.applied?"text-emerald-600":"text-red-500"),style:{fontFamily:"Inter, Poppins, sans-serif"},children:y.message})]}),(0,Cl.jsx)("div",{className:"pt-2 pb-3",children:(0,Cl.jsx)("button",{onClick:async()=>{if(u)try{N(!0);const e=u.duration_days?Math.max(1,Math.round(u.duration_days/30)):12;await ea(e),Pt.success("Subscription updated successfully"),x(!1),k(),s("/settings",{replace:!0})}catch(r){var e,t;console.error("Subscription error:",r),Pt.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to activate subscription")}finally{N(!1)}},disabled:j,className:"w-full rounded-2xl bg-[#6C4DFF] text-white py-3 text-base font-semibold disabled:opacity-50",style:{fontFamily:"Gilroy, Poppins, sans-serif"},children:j?"Processing\u2026":"Upgrade now"})})]})})]})]})};function $o(){const e=Z(),t="/watch"===e.pathname||e.pathname.startsWith("/subscription/upgrade");return(0,Cl.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,Cl.jsx)("div",{className:"flex-1",children:(0,Cl.jsxs)(ye,{children:[(0,Cl.jsx)(ge,{path:"/home",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(ni,{})})}),(0,Cl.jsx)(ge,{path:"/watch",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(xi,{})})}),(0,Cl.jsx)(ge,{path:"/category",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(bi,{})})}),(0,Cl.jsx)(ge,{path:"/provider/register",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(Ti,{})})}),(0,Cl.jsx)(ge,{path:"/provider-request-waiting",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(Ui,{})})}),(0,Cl.jsx)(ge,{path:"/subscription/upgrade",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(Go,{})})}),(0,Cl.jsx)(ge,{path:"/listing",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(Ni,{})})}),(0,Cl.jsx)(ge,{path:"/listing/upload",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(Li,{})})}),(0,Cl.jsx)(ge,{path:"/listing/my",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(Ai,{})})}),(0,Cl.jsx)(ge,{path:"/wishlist",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(Vi,{})})}),(0,Cl.jsx)(ge,{path:"/profile",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(Ji,{})})}),(0,Cl.jsx)(ge,{path:"/profile/:username",element:(0,Cl.jsx)(Ji,{})}),(0,Cl.jsx)(ge,{path:"/profile/edit",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(Zi,{})})}),(0,Cl.jsx)(ge,{path:"/settings",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(ao,{})})}),(0,Cl.jsx)(ge,{path:"/profile/analytics",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(co,{})})}),(0,Cl.jsx)(ge,{path:"/followers",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(uo,{})})}),(0,Cl.jsx)(ge,{path:"/following",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(mo,{})})}),(0,Cl.jsx)(ge,{path:"/influencer/video-request",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(zo,{})})}),(0,Cl.jsx)(ge,{path:"/brand/video-request",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(Uo,{})})}),(0,Cl.jsx)(ge,{path:"/promotion-submission",element:(0,Cl.jsx)(Ll,{children:(0,Cl.jsx)(Bo,{})})}),(0,Cl.jsx)(ge,{path:"*",element:(0,Cl.jsx)(fe,{to:"/",replace:!0})})]})}),!t&&(0,Cl.jsx)(Rl,{})]})}const Yo=function(){return(0,Cl.jsx)(Ee,{children:(0,Cl.jsx)(Fl,{children:(0,Cl.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,Cl.jsx)(es,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#ffffff",color:"#111827",borderRadius:"12px",padding:"16px 20px",border:"1px solid #E5E7EB",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",fontSize:"14px",fontFamily:"Poppins, sans-serif"},success:{iconTheme:{primary:"#6C4DFF",secondary:"#ffffff"},style:{background:"#ffffff",color:"#111827",borderRadius:"12px",padding:"16px 20px",border:"1px solid #E5E7EB",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",fontSize:"14px",fontFamily:"Poppins, sans-serif"}},error:{iconTheme:{primary:"#EF4444",secondary:"#ffffff"},style:{background:"#ffffff",color:"#111827",borderRadius:"12px",padding:"16px 20px",border:"1px solid #FEE2E2",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",fontSize:"14px",fontFamily:"Poppins, sans-serif"}}}}),(0,Cl.jsx)(Pl,{children:(0,Cl.jsxs)(ye,{children:[(0,Cl.jsx)(ge,{path:"/",element:(0,Cl.jsx)(Tl,{})}),(0,Cl.jsx)(ge,{path:"/login",element:(0,Cl.jsx)(Ml,{})}),(0,Cl.jsx)(ge,{path:"/signup",element:(0,Cl.jsx)(Ol,{})}),(0,Cl.jsx)(ge,{path:"/admin/*",element:(0,Cl.jsx)(Ll,{adminOnly:!0,children:(0,Cl.jsx)(Al,{children:(0,Cl.jsxs)(ye,{children:[(0,Cl.jsx)(ge,{path:"/dashboard",element:(0,Cl.jsx)(po,{})}),(0,Cl.jsx)(ge,{path:"/reports",element:(0,Cl.jsx)(xo,{})}),(0,Cl.jsx)(ge,{path:"/settings",element:(0,Cl.jsx)(So,{})}),(0,Cl.jsx)(ge,{path:"/users",element:(0,Cl.jsx)(Eo,{})}),(0,Cl.jsx)(ge,{path:"/influencers",element:(0,Cl.jsx)(Fo,{})}),(0,Cl.jsx)(ge,{path:"/brands",element:(0,Cl.jsx)(Lo,{})}),(0,Cl.jsx)(ge,{path:"/listings",element:(0,Cl.jsx)(Po,{})}),(0,Cl.jsx)(ge,{path:"/videos",element:(0,Cl.jsx)(Ao,{})}),(0,Cl.jsx)(ge,{path:"/subscriptions",element:(0,Cl.jsx)(Ro,{})}),(0,Cl.jsx)(ge,{path:"/promotions",element:(0,Cl.jsx)(To,{})}),(0,Cl.jsx)(ge,{path:"/payments",element:(0,Cl.jsx)(Do,{})}),(0,Cl.jsx)(ge,{path:"/notifications",element:(0,Cl.jsx)(Mo,{})}),(0,Cl.jsx)(ge,{path:"/cms",element:(0,Cl.jsx)(Oo,{})}),(0,Cl.jsx)(ge,{path:"/",element:(0,Cl.jsx)(fe,{to:"/admin/dashboard",replace:!0})}),(0,Cl.jsx)(ge,{path:"*",element:(0,Cl.jsx)(fe,{to:"/admin/dashboard",replace:!0})})]})})})}),(0,Cl.jsx)(ge,{path:"/*",element:(0,Cl.jsx)($o,{})})]})})]})})})};i.createRoot(document.getElementById("root")).render((0,Cl.jsx)(a.StrictMode,{children:(0,Cl.jsx)(Yo,{})}))})();
//# sourceMappingURL=main.4439afc6.js.map